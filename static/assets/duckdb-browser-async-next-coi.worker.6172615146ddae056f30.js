var duckdb=(()=>{var e,t,r,n,i,a,s,o,u,c,l=Object.create,d=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,p=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty,b=e=>d(e,"__esModule",{value:!0}),m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),g=e=>((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of h(t))!y.call(e,n)&&"default"!==n&&d(e,n,{get:()=>t[n],enumerable:!(r=f(t,n))||r.enumerable});return e})(b(d(null!=e?l(p(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),_=m((e=>{var t={};t.Offset,t.Table,t.SIZEOF_SHORT=2,t.SIZEOF_INT=4,t.FILE_IDENTIFIER_LENGTH=4,t.Encoding={UTF8_BYTES:1,UTF16_STRING:2},t.int32=new Int32Array(2),t.float32=new Float32Array(t.int32.buffer),t.float64=new Float64Array(t.int32.buffer),t.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],t.Long=function(e,t){this.low=0|e,this.high=0|t},t.Long.create=function(e,r){return 0==e&&0==r?t.Long.ZERO:new t.Long(e,r)},t.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},t.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},t.Long.ZERO=new t.Long(0,0),t.Builder=function(e){if(e)var r=e;else r=1024;this.bb=t.ByteBuffer.allocate(r),this.space=r,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},t.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},t.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},t.Builder.prototype.dataBuffer=function(){return this.bb},t.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},t.Builder.prototype.prep=function(e,r){e>this.minalign&&(this.minalign=e);for(var n=1+~(this.bb.capacity()-this.space+r)&e-1;this.space<n+e+r;){var i=this.bb.capacity();this.bb=t.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)},t.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},t.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},t.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},t.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},t.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},t.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},t.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},t.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},t.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},t.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},t.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},t.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},t.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},t.Builder.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},t.Builder.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},t.Builder.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},t.Builder.prototype.addFieldInt64=function(e,t,r){(this.force_defaults||!t.equals(r))&&(this.addInt64(t),this.slot(e))},t.Builder.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},t.Builder.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},t.Builder.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},t.Builder.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},t.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},t.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},t.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},t.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},t.Builder.growByteBuffer=function(e){var r=e.capacity();if(3221225472&r)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=r<<1,i=t.ByteBuffer.allocate(n);return i.setPosition(n-r),i.bytes().set(e.bytes(),n-r),i},t.Builder.prototype.addOffset=function(e){this.prep(t.SIZEOF_INT,0),this.writeInt32(this.offset()-e+t.SIZEOF_INT)},t.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},t.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),r=this.vtable_in_use-1;r>=0&&0==this.vtable[r];r--);for(var n=r+1;r>=0;r--)this.addInt16(0!=this.vtable[r]?e-this.vtable[r]:0);this.addInt16(e-this.object_start);var i=(n+2)*t.SIZEOF_SHORT;this.addInt16(i);var a=0,s=this.space;e:for(r=0;r<this.vtables.length;r++){var o=this.bb.capacity()-this.vtables[r];if(i==this.bb.readInt16(o)){for(var u=t.SIZEOF_SHORT;u<i;u+=t.SIZEOF_SHORT)if(this.bb.readInt16(s+u)!=this.bb.readInt16(o+u))continue e;a=this.vtables[r];break}}return a?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,a-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},t.Builder.prototype.finish=function(e,r){if(r){var n=r;if(this.prep(this.minalign,t.SIZEOF_INT+t.FILE_IDENTIFIER_LENGTH),n.length!=t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+t.FILE_IDENTIFIER_LENGTH);for(var i=t.FILE_IDENTIFIER_LENGTH-1;i>=0;i--)this.writeInt8(n.charCodeAt(i))}this.prep(this.minalign,t.SIZEOF_INT),this.addOffset(e),this.bb.setPosition(this.space)},t.Builder.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,n=r-this.bb.readInt32(r);if(0==this.bb.readInt16(n+t))throw new Error("FlatBuffers: field "+t+" must be set")},t.Builder.prototype.startVector=function(e,r,n){this.notNested(),this.vector_num_elems=r,this.prep(t.SIZEOF_INT,e*r),this.prep(n,e*r)},t.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},t.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var r=0;r<e.length;){var n,i=e.charCodeAt(r++);(n=i<55296||i>=56320?i:(i<<10)+e.charCodeAt(r++)+-56613888)<128?t.push(n):(n<2048?t.push(n>>6&31|192):(n<65536?t.push(n>>12&15|224):t.push(n>>18&7|240,n>>12&63|128),t.push(n>>6&63|128)),t.push(63&n|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),r=0;for(var a=this.space,s=this.bb.bytes();r<t.length;r++)s[a++]=t[r];return this.endVector()},t.Builder.prototype.createLong=function(e,r){return t.Long.create(e,r)},t.ByteBuffer=function(e){this.bytes_=e,this.position_=0},t.ByteBuffer.allocate=function(e){return new t.ByteBuffer(new Uint8Array(e))},t.ByteBuffer.prototype.clear=function(){this.position_=0},t.ByteBuffer.prototype.bytes=function(){return this.bytes_},t.ByteBuffer.prototype.position=function(){return this.position_},t.ByteBuffer.prototype.setPosition=function(e){this.position_=e},t.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},t.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},t.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},t.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},t.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},t.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},t.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},t.ByteBuffer.prototype.readInt64=function(e){return new t.Long(this.readInt32(e),this.readInt32(e+4))},t.ByteBuffer.prototype.readUint64=function(e){return new t.Long(this.readUint32(e),this.readUint32(e+4))},t.ByteBuffer.prototype.readFloat32=function(e){return t.int32[0]=this.readInt32(e),t.float32[0]},t.ByteBuffer.prototype.readFloat64=function(e){return t.int32[t.isLittleEndian?0:1]=this.readInt32(e),t.int32[t.isLittleEndian?1:0]=this.readInt32(e+4),t.float64[0]},t.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},t.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},t.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},t.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},t.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},t.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},t.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},t.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},t.ByteBuffer.prototype.writeFloat32=function(e,r){t.float32[0]=r,this.writeInt32(e,t.int32[0])},t.ByteBuffer.prototype.writeFloat64=function(e,r){t.float64[0]=r,this.writeInt32(e,t.int32[t.isLittleEndian?0:1]),this.writeInt32(e+4,t.int32[t.isLittleEndian?1:0])},t.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+t.SIZEOF_INT+t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",r=0;r<t.FILE_IDENTIFIER_LENGTH;r++)e+=String.fromCharCode(this.readInt8(this.position_+t.SIZEOF_INT+r));return e},t.ByteBuffer.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},t.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},t.ByteBuffer.prototype.__string=function(e,r){e+=this.readInt32(e);var n=this.readInt32(e),i="",a=0;if(e+=t.SIZEOF_INT,r===t.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;a<n;){var s,o=this.readUint8(e+a++);if(o<192)s=o;else{var u=this.readUint8(e+a++);if(o<224)s=(31&o)<<6|63&u;else{var c=this.readUint8(e+a++);s=o<240?(15&o)<<12|(63&u)<<6|63&c:(7&o)<<18|(63&u)<<12|(63&c)<<6|63&this.readUint8(e+a++)}}s<65536?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode(55296+(s>>10),56320+(1023&s)))}return i},t.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},t.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+t.SIZEOF_INT},t.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},t.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=t.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+t.FILE_IDENTIFIER_LENGTH);for(var r=0;r<t.FILE_IDENTIFIER_LENGTH;r++)if(e.charCodeAt(r)!=this.readInt8(this.position_+t.SIZEOF_INT+r))return!1;return!0},t.ByteBuffer.prototype.createLong=function(e,r){return t.Long.create(e,r)},e.flatbuffers=t})),v=m((e=>{"use strict";function t(e,t,r){return t<=e&&e<=r}function r(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function n(e){this.tokens=[].slice.call(e)}n.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var i=-1;function a(e,t){if(e)throw TypeError("Decoder error");return t||65533}var s="utf-8";function o(e,t){if(!(this instanceof o))return new o(e,t);if((e=void 0!==e?String(e).toLowerCase():s)!==s)throw new Error("Encoding not supported. Only utf-8 is supported");t=r(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():s)!==s)throw new Error("Encoding not supported. Only utf-8 is supported");t=r(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function c(e){var r=e.fatal,n=0,s=0,o=0,u=128,c=191;this.handler=function(e,l){if(-1===l&&0!==o)return o=0,a(r);if(-1===l)return i;if(0===o){if(t(l,0,127))return l;if(t(l,194,223))o=1,n=l-192;else if(t(l,224,239))224===l&&(u=160),237===l&&(c=159),o=2,n=l-224;else{if(!t(l,240,244))return a(r);240===l&&(u=144),244===l&&(c=143),o=3,n=l-240}return n<<=6*o,null}if(!t(l,u,c))return n=o=s=0,u=128,c=191,e.prepend(l),a(r);if(u=128,c=191,n+=l-128<<6*(o-(s+=1)),s!==o)return null;var d=n;return n=o=s=0,d}}function l(e){e.fatal,this.handler=function(e,r){if(-1===r)return i;if(t(r,0,127))return r;var n,a;t(r,128,2047)?(n=1,a=192):t(r,2048,65535)?(n=2,a=224):t(r,65536,1114111)&&(n=3,a=240);for(var s=[(r>>6*n)+a];n>0;){var o=r>>6*(n-1);s.push(128|63&o),n-=1}return s}}o.prototype={decode:function(e,t){var a;a="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=r(t),this._streaming||(this._decoder=new c({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var s,o=new n(a),u=[];!o.endOfStream()&&(s=this._decoder.handler(o,o.read()))!==i;)null!==s&&(Array.isArray(s)?u.push.apply(u,s):u.push(s));if(!this._streaming){do{if((s=this._decoder.handler(o,o.read()))===i)break;null!==s&&(Array.isArray(s)?u.push.apply(u,s):u.push(s))}while(!o.endOfStream());this._decoder=null}return u.length&&-1!==["utf-8"].indexOf(this.encoding)&&!this._ignoreBOM&&!this._BOMseen&&(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(u)}},u.prototype={encode:function(e,t){e=e?String(e):"",t=r(t),this._streaming||(this._encoder=new l(this._options)),this._streaming=Boolean(t.stream);for(var a,s=[],o=new n(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var a=t.charCodeAt(n);if(a<55296||a>57343)i.push(a);else if(56320<=a&&a<=57343)i.push(65533);else if(55296<=a&&a<=56319)if(n===r-1)i.push(65533);else{var s=e.charCodeAt(n+1);if(56320<=s&&s<=57343){var o=1023&a,u=1023&s;i.push(65536+(o<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e));!o.endOfStream()&&(a=this._encoder.handler(o,o.read()))!==i;)Array.isArray(a)?s.push.apply(s,a):s.push(a);if(!this._streaming){for(;(a=this._encoder.handler(o,o.read()))!==i;)Array.isArray(a)?s.push.apply(s,a):s.push(a);this._encoder=null}return new Uint8Array(s)}},e.TextEncoder=u,e.TextDecoder=o})),B=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeUtf8=e.decodeUtf8=void 0;var t=I(),r=v(),n="function"==typeof Buffer?Buffer:null,i="function"==typeof TextDecoder&&"function"==typeof TextEncoder;e.decodeUtf8=(e=>{if(i||!n){let t=new e("utf-8");return e=>t.decode(e)}return e=>{let{buffer:r,byteOffset:i,length:a}=t.toUint8Array(e);return n.from(r,i,a).toString()}})("undefined"!=typeof TextDecoder?TextDecoder:r.TextDecoder),e.encodeUtf8=(e=>{if(i||!n){let t=new e;return e=>t.encode(e)}return(e="")=>t.toUint8Array(n.from(e,"utf8"))})("undefined"!=typeof TextEncoder?TextEncoder:r.TextEncoder)})),T=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncQueue=e.ReadableInterop=e.ArrowJSON=e.ITERATOR_DONE=void 0;var t=S();e.ITERATOR_DONE=Object.freeze({done:!0,value:void 0}),e.ArrowJSON=class{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}};var r=class{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}};e.ReadableInterop=r;var n=class extends r{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((e=>this._closedPromiseResolve=e))}get closed(){return this._closedPromise}async cancel(e){await this.return(e)}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(e.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return t.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return t.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}async throw(t){return await this.abort(t),e.ITERATOR_DONE}async return(t){return await this.close(),e.ITERATOR_DONE}async read(e){return(await this.next(e,"read")).value}async peek(e){return(await this.next(e,"peek")).value}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((e,t)=>{this.resolvers.push({resolve:e,reject:t})})):Promise.resolve(e.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error(`${this} is closed`)}};e.AsyncQueue=n})),w=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isReadableNodeStream=e.isWritableNodeStream=e.isReadableDOMStream=e.isWritableDOMStream=e.isFetchResponse=e.isFSReadStream=e.isFileHandle=e.isUnderlyingSink=e.isIteratorResult=e.isArrayLike=e.isArrowJSON=e.isAsyncIterable=e.isIterable=e.isObservable=e.isPromise=e.isObject=e.BigUint64ArrayAvailable=e.BigUint64Array=e.BigInt64ArrayAvailable=e.BigInt64Array=e.BigIntAvailable=e.BigInt=void 0;var t=T(),[r,n]=(()=>{let e=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},"undefined"!=typeof BigInt?[BigInt,!0]:[t,!1]})();e.BigInt=r,e.BigIntAvailable=n;var[i,a]=(()=>{let e=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!=typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}},!1]})();e.BigInt64Array=i,e.BigInt64ArrayAvailable=a;var[s,o]=(()=>{let e=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!=typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw e()}static from(){throw e()}constructor(){throw e()}},!1]})();e.BigUint64Array=s,e.BigUint64ArrayAvailable=o;var u=e=>"number"==typeof e,c=e=>"boolean"==typeof e,l=e=>"function"==typeof e;e.isObject=e=>null!=e&&Object(e)===e,e.isPromise=t=>e.isObject(t)&&l(t.then),e.isObservable=t=>e.isObject(t)&&l(t.subscribe),e.isIterable=t=>e.isObject(t)&&l(t[Symbol.iterator]),e.isAsyncIterable=t=>e.isObject(t)&&l(t[Symbol.asyncIterator]),e.isArrowJSON=t=>e.isObject(t)&&e.isObject(t.schema),e.isArrayLike=t=>e.isObject(t)&&u(t.length),e.isIteratorResult=t=>e.isObject(t)&&"done"in t&&"value"in t,e.isUnderlyingSink=t=>e.isObject(t)&&l(t.abort)&&l(t.close)&&l(t.start)&&l(t.write),e.isFileHandle=t=>e.isObject(t)&&l(t.stat)&&u(t.fd),e.isFSReadStream=t=>e.isReadableNodeStream(t)&&u(t.bytesRead),e.isFetchResponse=t=>e.isObject(t)&&e.isReadableDOMStream(t.body),e.isWritableDOMStream=r=>e.isObject(r)&&l(r.abort)&&l(r.getWriter)&&!(r instanceof t.ReadableInterop),e.isReadableDOMStream=r=>e.isObject(r)&&l(r.cancel)&&l(r.getReader)&&!(r instanceof t.ReadableInterop),e.isWritableNodeStream=r=>e.isObject(r)&&l(r.end)&&l(r.write)&&c(r.writable)&&!(r instanceof t.ReadableInterop),e.isReadableNodeStream=r=>e.isObject(r)&&l(r.read)&&l(r.pipe)&&c(r.readable)&&!(r instanceof t.ReadableInterop)})),I=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareArrayLike=e.rebaseValueOffsets=e.toUint8ClampedArrayAsyncIterator=e.toFloat64ArrayAsyncIterator=e.toFloat32ArrayAsyncIterator=e.toUint32ArrayAsyncIterator=e.toUint16ArrayAsyncIterator=e.toUint8ArrayAsyncIterator=e.toInt32ArrayAsyncIterator=e.toInt16ArrayAsyncIterator=e.toInt8ArrayAsyncIterator=e.toArrayBufferViewAsyncIterator=e.toUint8ClampedArrayIterator=e.toFloat64ArrayIterator=e.toFloat32ArrayIterator=e.toUint32ArrayIterator=e.toUint16ArrayIterator=e.toUint8ArrayIterator=e.toInt32ArrayIterator=e.toInt16ArrayIterator=e.toInt8ArrayIterator=e.toArrayBufferViewIterator=e.toUint8ClampedArray=e.toFloat64Array=e.toFloat32Array=e.toBigUint64Array=e.toUint32Array=e.toUint16Array=e.toUint8Array=e.toBigInt64Array=e.toInt32Array=e.toInt16Array=e.toInt8Array=e.toArrayBufferView=e.joinUint8Arrays=e.memcpy=void 0;var t=_(),r=B(),n=t.flatbuffers.ByteBuffer,i=w(),a="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function s(e,t,r=0,n=t.byteLength){let i=e.byteLength,a=new Uint8Array(e.buffer,e.byteOffset,i),s=new Uint8Array(t.buffer,t.byteOffset,Math.min(n,i));return a.set(s,r),e}function o(e,t){let s=i.isIteratorResult(t)?t.value:t;return s instanceof e?e===Uint8Array?new e(s.buffer,s.byteOffset,s.byteLength):s:s?("string"==typeof s&&(s=r.encodeUtf8(s)),s instanceof ArrayBuffer||s instanceof a?new e(s):s instanceof n?o(e,s.bytes()):ArrayBuffer.isView(s)?s.byteLength<=0?new e(0):new e(s.buffer,s.byteOffset,s.byteLength/e.BYTES_PER_ELEMENT):e.from(s)):new e(0)}e.memcpy=s,e.joinUint8Arrays=function(e,t){let r,n,i,a=function(e){let t,r,n,i,a=e[0]?[e[0]]:[];for(let s,o,u=0,c=0,l=e.length;++u<l;)s=a[c],o=e[u],!s||!o||s.buffer!==o.buffer||o.byteOffset<s.byteOffset?o&&(a[++c]=o):(({byteOffset:t,byteLength:n}=s),({byteOffset:r,byteLength:i}=o),t+n<r||r+i<t?o&&(a[++c]=o):a[c]=new Uint8Array(s.buffer,t,r-t+i));return a}(e),o=a.reduce(((e,t)=>e+t.byteLength),0),u=0,c=-1,l=Math.min(t||1/0,o);for(let e=a.length;++c<e;){if(r=a[c],n=r.subarray(0,Math.min(r.length,l-u)),l<=u+n.length){n.length<r.length?a[c]=r.subarray(n.length):n.length===r.length&&c++,i?s(i,n,u):i=n;break}s(i||(i=new Uint8Array(l)),n,u),u+=n.length}return[i||new Uint8Array(0),a.slice(c),o-(i?i.byteLength:0)]},e.toArrayBufferView=o,e.toInt8Array=e=>o(Int8Array,e),e.toInt16Array=e=>o(Int16Array,e),e.toInt32Array=e=>o(Int32Array,e),e.toBigInt64Array=e=>o(i.BigInt64Array,e),e.toUint8Array=e=>o(Uint8Array,e),e.toUint16Array=e=>o(Uint16Array,e),e.toUint32Array=e=>o(Uint32Array,e),e.toBigUint64Array=e=>o(i.BigUint64Array,e),e.toFloat32Array=e=>o(Float32Array,e),e.toFloat64Array=e=>o(Float64Array,e),e.toUint8ClampedArray=e=>o(Uint8ClampedArray,e);var u=e=>(e.next(),e);function*c(e,t){let r=function*(e){yield e},n="string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof a?r(t):i.isIterable(t)?t:r(t);return yield*u(function*(t){let r=null;do{r=t.next(yield o(e,r))}while(!r.done)}(n[Symbol.iterator]())),new e}async function*l(e,t){if(i.isPromise(t))return yield*l(e,await t);let r=async function*(e){yield await e},n="string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof a?r(t):i.isIterable(t)?async function*(e){yield*u(function*(e){let t=null;do{t=e.next(yield t&&t.value)}while(!t.done)}(e[Symbol.iterator]()))}(t):i.isAsyncIterable(t)?t:r(t);return yield*u(async function*(t){let r=null;do{r=await t.next(yield o(e,r))}while(!r.done)}(n[Symbol.asyncIterator]())),new e}e.toArrayBufferViewIterator=c,e.toInt8ArrayIterator=e=>c(Int8Array,e),e.toInt16ArrayIterator=e=>c(Int16Array,e),e.toInt32ArrayIterator=e=>c(Int32Array,e),e.toUint8ArrayIterator=e=>c(Uint8Array,e),e.toUint16ArrayIterator=e=>c(Uint16Array,e),e.toUint32ArrayIterator=e=>c(Uint32Array,e),e.toFloat32ArrayIterator=e=>c(Float32Array,e),e.toFloat64ArrayIterator=e=>c(Float64Array,e),e.toUint8ClampedArrayIterator=e=>c(Uint8ClampedArray,e),e.toArrayBufferViewAsyncIterator=l,e.toInt8ArrayAsyncIterator=e=>l(Int8Array,e),e.toInt16ArrayAsyncIterator=e=>l(Int16Array,e),e.toInt32ArrayAsyncIterator=e=>l(Int32Array,e),e.toUint8ArrayAsyncIterator=e=>l(Uint8Array,e),e.toUint16ArrayAsyncIterator=e=>l(Uint16Array,e),e.toUint32ArrayAsyncIterator=e=>l(Uint32Array,e),e.toFloat32ArrayAsyncIterator=e=>l(Float32Array,e),e.toFloat64ArrayAsyncIterator=e=>l(Float64Array,e),e.toUint8ClampedArrayAsyncIterator=e=>l(Uint8ClampedArray,e),e.rebaseValueOffsets=function(e,t,r){if(0!==e){r=r.slice(0,t+1);for(let n=-1;++n<=t;)r[n]+=e}return r},e.compareArrayLike=function(e,t){let r=0,n=e.length;if(n!==t.length)return!1;if(n>0)do{if(e[r]!==t[r])return!1}while(++r<n);return!0}})),S=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=I();e.default={fromIterable:e=>r(function*(e){let r,n,i,a,s=!1,o=[],u=0;({cmd:i,size:a}=yield null);let c=t.toUint8ArrayIterator(e)[Symbol.iterator]();try{do{if(({done:r,value:n}=isNaN(a-u)?c.next(void 0):c.next(a-u)),!r&&n.byteLength>0&&(o.push(n),u+=n.byteLength),r||a<=u)do{({cmd:i,size:a}=yield"peek"===i?t.joinUint8Arrays(o,a)[0]:([n,o,u]=t.joinUint8Arrays(o,a),n))}while(a<u)}while(!r)}catch(e){(s=!0)&&"function"==typeof c.throw&&c.throw(e)}finally{!1===s&&"function"==typeof c.return&&c.return(null)}return null}(e)),fromAsyncIterable:e=>r(async function*(e){let r,n,i,a,s=!1,o=[],u=0;({cmd:i,size:a}=yield null);let c=t.toUint8ArrayAsyncIterator(e)[Symbol.asyncIterator]();try{do{if(({done:r,value:n}=isNaN(a-u)?await c.next(void 0):await c.next(a-u)),!r&&n.byteLength>0&&(o.push(n),u+=n.byteLength),r||a<=u)do{({cmd:i,size:a}=yield"peek"===i?t.joinUint8Arrays(o,a)[0]:([n,o,u]=t.joinUint8Arrays(o,a),n))}while(a<u)}while(!r)}catch(e){(s=!0)&&"function"==typeof c.throw&&await c.throw(e)}finally{!1===s&&"function"==typeof c.return&&await c.return(new Uint8Array(0))}return null}(e)),fromDOMStream:e=>r(async function*(e){let r,i,a,s=!1,o=!1,u=[],c=0;({cmd:i,size:a}=yield null);let l=new n(e);try{do{if(({done:s,value:r}=isNaN(a-c)?await l.read(void 0):await l.read(a-c)),!s&&r.byteLength>0&&(u.push(t.toUint8Array(r)),c+=r.byteLength),s||a<=c)do{({cmd:i,size:a}=yield"peek"===i?t.joinUint8Arrays(u,a)[0]:([r,u,c]=t.joinUint8Arrays(u,a),r))}while(a<c)}while(!s)}catch(e){(o=!0)&&await l.cancel(e)}finally{!1===o?await l.cancel():e.locked&&l.releaseLock()}return null}(e)),fromNodeStream:e=>r(async function*(e){let r,n,i,s=[],o="error",u=!1,c=null,l=0,d=[];if(({cmd:r,size:n}=yield null),e.isTTY)return yield new Uint8Array(0),null;try{s[0]=a(e,"end"),s[1]=a(e,"error");do{if(s[2]=a(e,"readable"),[o,c]=await Promise.race(s.map((e=>e[2]))),"error"===o)break;if((u="end"===o)||(isFinite(n-l)?(i=t.toUint8Array(e.read(n-l)),i.byteLength<n-l&&(i=t.toUint8Array(e.read(void 0)))):i=t.toUint8Array(e.read(void 0)),i.byteLength>0&&(d.push(i),l+=i.byteLength)),u||n<=l)do{({cmd:r,size:n}=yield"peek"===r?t.joinUint8Arrays(d,n)[0]:([i,d,l]=t.joinUint8Arrays(d,n),i))}while(n<l)}while(!u)}finally{await(f=s,h="error"===o?c:null,i=d=null,new Promise((async(t,r)=>{for(let[t,r]of f)e.off(t,r);try{let n=e.destroy;n&&n.call(e,h),h=void 0}catch(e){h=e||h}finally{null!=h?r(h):t()}})))}var f,h;return null}(e)),toDOMStream(e,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw new Error('"toNodeStream" not available in this environment')}};var r=e=>(e.next(),e),n=class{constructor(e){this.source=e,this.byobReader=null,this.defaultReader=null;try{this.supportsBYOB=!!(this.reader=this.getBYOBReader())}catch{this.supportsBYOB=!(this.reader=this.getDefaultReader())}}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=this.byobReader=this.defaultReader=null}async cancel(e){let{reader:t,source:r}=this;t&&await t.cancel(e).catch((()=>{})),r&&r.locked&&this.releaseLock()}async read(e){if(0===e)return{done:null==this.reader,value:new Uint8Array(0)};let r=this.supportsBYOB&&"number"==typeof e?await this.readFromBYOBReader(e):await this.getDefaultReader().read();return!r.done&&(r.value=t.toUint8Array(r)),r}getDefaultReader(){return this.byobReader&&this.releaseLock(),this.defaultReader||(this.defaultReader=this.source.getReader(),this.defaultReader.closed.catch((()=>{}))),this.reader=this.defaultReader}getBYOBReader(){return this.defaultReader&&this.releaseLock(),this.byobReader||(this.byobReader=this.source.getReader({mode:"byob"}),this.byobReader.closed.catch((()=>{}))),this.reader=this.byobReader}async readFromBYOBReader(e){return await i(this.getBYOBReader(),new ArrayBuffer(e),0,e)}};async function i(e,t,r,n){if(r>=n)return{done:!1,value:new Uint8Array(t,0,n)};let{done:a,value:s}=await e.read(new Uint8Array(t,r,n-r));return(r+=s.byteLength)<n&&!a?await i(e,s.buffer,r,n):{done:a,value:new Uint8Array(s.buffer,0,r)}}var a=(e,t)=>{let r,n=e=>r([t,e]);return[t,n,new Promise((i=>(r=i)&&e.once(t,n)))]}})),O=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=e.AbstractVector=void 0;var t=class{};e.AbstractVector=t,e.Vector=t,t.prototype.data=null})),A=m((e=>{"use strict";var t,r,n;Object.defineProperty(e,"__esModule",{value:!0}),e.org=void 0,function(e){let t;var r;(r=t=e.MetadataVersion||(e.MetadataVersion={}))[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4"}((n=(r=(t=e.org||(e.org={})).apache||(t.apache={})).arrow||(r.arrow={})).flatbuf||(n.flatbuf={})),function(e){!function(e){!function(e){!function(e){let t;var r;(r=t=e.UnionMode||(e.UnionMode={}))[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){let t;var r;(r=t=e.Precision||(e.Precision={}))[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){let t;var r;(r=t=e.DateUnit||(e.DateUnit={}))[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){let t;var r;(r=t=e.TimeUnit||(e.TimeUnit={}))[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){let t;var r;(r=t=e.IntervalUnit||(e.IntervalUnit={}))[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME"}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){let t;var r;(r=t=e.Type||(e.Type={}))[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList"}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){let t;var r;(r=t=e.Endianness||(e.Endianness={}))[r.Little=0]="Little",r[r.Big=1]="Big"}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return t.startNull(e),t.endNull(e)}}e.Null=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return t.startStruct_(e),t.endStruct_(e)}}e.Struct_=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return t.startList(e),t.endList(e)}}e.List=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeList(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return t.startLargeList(e),t.endLargeList(e)}}e.LargeList=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,r){return t.startFixedSizeList(e),t.addListSize(e,r),t.endFixedSizeList(e)}}e.FixedSizeList=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,r){return t.startMap(e),t.addKeysSorted(e,r),t.endMap(e)}}e.Map=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}mode(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.UnionMode.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(t,r){t.addFieldInt16(0,r,e.apache.arrow.flatbuf.UnionMode.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addInt32(t[r]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,n){return r.startUnion(e),r.addMode(e,t),r.addTypeIds(e,n),r.endUnion(e)}}t.Union=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,r,n){return t.startInt(e),t.addBitWidth(e,r),t.addIsSigned(e,n),t.endInt(e)}}e.Int=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}precision(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.Precision.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(t,r){t.addFieldInt16(0,r,e.apache.arrow.flatbuf.Precision.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return r.startFloatingPoint(e),r.addPrecision(e,t),r.endFloatingPoint(e)}}t.FloatingPoint=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return t.startUtf8(e),t.endUtf8(e)}}e.Utf8=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return t.startBinary(e),t.endBinary(e)}}e.Binary=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeUtf8(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return t.startLargeUtf8(e),t.endLargeUtf8(e)}}e.LargeUtf8=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsLargeBinary(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return t.startLargeBinary(e),t.endLargeBinary(e)}}e.LargeBinary=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,r){return t.startFixedSizeBinary(e),t.addByteWidth(e,r),t.endFixedSizeBinary(e)}}e.FixedSizeBinary=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return t.startBool(e),t.endBool(e)}}e.Bool=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}static startDecimal(e){e.startObject(2)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static endDecimal(e){return e.endObject()}static createDecimal(e,r,n){return t.startDecimal(e),t.addPrecision(e,r),t.addScale(e,n),t.endDecimal(e)}}e.Decimal=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.DateUnit.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(t,r){t.addFieldInt16(0,r,e.apache.arrow.flatbuf.DateUnit.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return r.startDate(e),r.addUnit(e,t),r.endDate(e)}}t.Date=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.TimeUnit.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(t,r){t.addFieldInt16(0,r,e.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,n){return r.startTime(e),r.addUnit(e,t),r.addBitWidth(e,n),r.endTime(e)}}t.Time=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.TimeUnit.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(t,r){t.addFieldInt16(0,r,e.apache.arrow.flatbuf.TimeUnit.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,n){return r.startTimestamp(e),r.addUnit(e,t),r.addTimezone(e,n),r.endTimestamp(e)}}t.Timestamp=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(t,r){t.addFieldInt16(0,r,e.apache.arrow.flatbuf.IntervalUnit.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return r.startInterval(e),r.addUnit(e,t),r.endInterval(e)}}t.Interval=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDuration(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}unit(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.TimeUnit.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(t,r){t.addFieldInt16(0,r,e.apache.arrow.flatbuf.TimeUnit.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,t){return r.startDuration(e),r.addUnit(e,t),r.endDuration(e)}}t.Duration=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){!function(e){class t{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,r){return(r||new t).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,r,n){return t.startKeyValue(e),t.addKey(e,r),t.addValue(e,n),t.endKeyValue(e)}}e.KeyValue=t}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new e.apache.arrow.flatbuf.Int).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startDictionaryEncoding(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryEncoding(e){return e.endObject()}static createDictionaryEncoding(e,t,n,i){return r.startDictionaryEncoding(e),r.addId(e,t),r.addIndexType(e,n),r.addIsOrdered(e,i),r.endDictionaryEncoding(e)}}t.DictionaryEncoding=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}typeType(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):e.apache.arrow.flatbuf.Type.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new e.apache.arrow.flatbuf.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}children(t,r){let n=this.bb.__offset(this.bb_pos,14);return n?(r||new e.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(t,r){let n=this.bb.__offset(this.bb_pos,16);return n?(r||new e.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(t,r){t.addFieldInt8(2,r,e.apache.arrow.flatbuf.Type.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}static createField(e,t,n,i,a,s,o,u){return r.startField(e),r.addName(e,t),r.addNullable(e,n),r.addTypeType(e,i),r.addType(e,a),r.addDictionary(e,s),r.addChildren(e,o),r.addCustomMetadata(e,u),r.endField(e)}}t.Field=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){(e.flatbuf||(e.flatbuf={})).Buffer=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static createBuffer(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}}}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):e.apache.arrow.flatbuf.Endianness.Little}fields(t,r){let n=this.bb.__offset(this.bb_pos,6);return n?(r||new e.apache.arrow.flatbuf.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(t,r){let n=this.bb.__offset(this.bb_pos,8);return n?(r||new e.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*t),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(3)}static addEndianness(t,r){t.addFieldInt16(0,r,e.apache.arrow.flatbuf.Endianness.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static createSchema(e,t,n,i){return r.startSchema(e),r.addEndianness(e,t),r.addFields(e,n),r.addCustomMetadata(e,i),r.endSchema(e)}}t.Schema=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={}))})),D=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.org=void 0;var t,r,n,i=A();((n=(r=(t=e.org||(e.org={})).apache||(t.apache={})).arrow||(r.arrow={})).flatbuf||(n.flatbuf={})).Schema=i.org.apache.arrow.flatbuf.Schema,function(e){!function(e){!function(e){!function(e){let t;var r;(r=t=e.MessageHeader||(e.MessageHeader={}))[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"}(e.flatbuf||(e.flatbuf={}))}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(e){!function(e){(e.flatbuf||(e.flatbuf={})).FieldNode=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static createFieldNode(e,t,r){return e.prep(8,16),e.writeInt64(r),e.writeInt64(t),e.offset()}}}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(t,r){let n=this.bb.__offset(this.bb_pos,6);return n?(r||new e.apache.arrow.flatbuf.FieldNode).__init(this.bb.__vector(this.bb_pos+n)+16*t,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let r=this.bb.__offset(this.bb_pos,8);return r?(t||new i.org.apache.arrow.flatbuf.Buffer).__init(this.bb.__vector(this.bb_pos+r)+16*e,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}static startRecordBatch(e){e.startObject(3)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static endRecordBatch(e){return e.endObject()}static createRecordBatch(e,t,n,i){return r.startRecordBatch(e),r.addLength(e,t),r.addNodes(e,n),r.addBuffers(e,i),r.endRecordBatch(e)}}t.RecordBatch=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(t){let r=this.bb.__offset(this.bb_pos,6);return r?(t||new e.apache.arrow.flatbuf.RecordBatch).__init(this.bb.__indirect(this.bb_pos+r),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}static createDictionaryBatch(e,t,n,i){return r.startDictionaryBatch(e),r.addId(e,t),r.addData(e,n),r.addIsDelta(e,i),r.endDictionaryBatch(e)}}t.DictionaryBatch=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={})),function(e){!function(t){!function(t){!function(t){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):i.org.apache.arrow.flatbuf.MetadataVersion.V1}headerType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):e.apache.arrow.flatbuf.MessageHeader.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let r=this.bb.__offset(this.bb_pos,12);return r?(t||new i.org.apache.arrow.flatbuf.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,i.org.apache.arrow.flatbuf.MetadataVersion.V1)}static addHeaderType(t,r){t.addFieldInt8(1,r,e.apache.arrow.flatbuf.MessageHeader.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static createMessage(e,t,n,i,a,s){return r.startMessage(e),r.addVersion(e,t),r.addHeaderType(e,n),r.addHeader(e,i),r.addBodyLength(e,a),r.addCustomMetadata(e,s),r.endMessage(e)}}t.Message=r}(t.flatbuf||(t.flatbuf={}))}(t.arrow||(t.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={}))})),F=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferType=e.Type=e.MetadataVersion=e.MessageHeader=e.IntervalUnit=e.UnionMode=e.Precision=e.TimeUnit=e.DateUnit=e.ArrowType=void 0;var t,r=A(),n=D();e.ArrowType=r.org.apache.arrow.flatbuf.Type,e.DateUnit=r.org.apache.arrow.flatbuf.DateUnit,e.TimeUnit=r.org.apache.arrow.flatbuf.TimeUnit,e.Precision=r.org.apache.arrow.flatbuf.Precision,e.UnionMode=r.org.apache.arrow.flatbuf.UnionMode,e.IntervalUnit=r.org.apache.arrow.flatbuf.IntervalUnit,e.MessageHeader=n.org.apache.arrow.flatbuf.MessageHeader,e.MetadataVersion=r.org.apache.arrow.flatbuf.MetadataVersion,(t=e.Type||(e.Type={}))[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",function(e){e[e.OFFSET=0]="OFFSET",e[e.DATA=1]="DATA",e[e.VALIDITY=2]="VALIDITY",e[e.TYPE=3]="TYPE"}(e.BufferType||(e.BufferType={}))})),M=m((e=>{"use strict";function t(e,t,r,n){return 0!=(r&1<<n)}function r(e,t,r,n){return(r&1<<n)>>n}function n(e){let t=[],r=0,n=0,i=0;for(let a of e)a&&(i|=1<<n),8==++n&&(t[r++]=i,i=n=0);(0===r||n>0)&&(t[r++]=i);let a=new Uint8Array(t.length+7&-8);return a.set(t),a}function*i(e,t,r,n,i){let a=t%8,s=t>>3,o=0,u=r;for(;u>0;a=0){let t=e[s++];do{yield i(n,o++,t,a)}while(--u>0&&++a<8)}}function a(e,t,r){let n=0,i=0|t,a=new DataView(e.buffer,e.byteOffset,e.byteLength),o=void 0===r?e.byteLength:i+r;for(;o-i>=4;)n+=s(a.getUint32(i)),i+=4;for(;o-i>=2;)n+=s(a.getUint16(i)),i+=2;for(;o-i>=1;)n+=s(a.getUint8(i)),i+=1;return n}function s(e){let t=0|e;return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24}Object.defineProperty(e,"__esModule",{value:!0}),e.popcnt_uint32=e.popcnt_array=e.popcnt_bit_range=e.iterateBits=e.packBools=e.truncateBitmap=e.setBool=e.getBit=e.getBool=void 0,e.getBool=t,e.getBit=r,e.setBool=function(e,t,r){return r?!!(e[t>>3]|=1<<t%8)||!0:!(e[t>>3]&=~(1<<t%8))&&!1},e.truncateBitmap=function(e,r,a){let s=a.byteLength+7&-8;if(e>0||a.byteLength<s){let o=new Uint8Array(s);return o.set(e%8==0?a.subarray(e>>3):n(i(a,e,r,null,t)).subarray(0,s)),o}return a},e.packBools=n,e.iterateBits=i,e.popcnt_bit_range=function e(t,n,s){if(s-n<=0)return 0;if(s-n<8){let e=0;for(let a of i(t,n,s-n,t,r))e+=a;return e}let o=s>>3<<3,u=n+(n%8==0?0:8-n%8);return e(t,n,u)+e(t,o,s)+a(t,u>>3,o-u>>3)},e.popcnt_array=a,e.popcnt_uint32=s})),U=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Visitor=void 0;var t=E(),r=O(),n=F(),i=P(),a=class{visitMany(e,...t){return e.map(((e,r)=>this.visit(e,...t.map((e=>e[r])))))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,a=!0){return function(e,a,o=!0){let u=null,c=n.Type.NONE;switch(a instanceof t.Data||a instanceof r.Vector?c=s(a.type):a instanceof i.DataType?c=s(a):"number"!=typeof(c=a)&&(c=n.Type[a]),c){case n.Type.Null:u=e.visitNull;break;case n.Type.Bool:u=e.visitBool;break;case n.Type.Int:u=e.visitInt;break;case n.Type.Int8:u=e.visitInt8||e.visitInt;break;case n.Type.Int16:u=e.visitInt16||e.visitInt;break;case n.Type.Int32:u=e.visitInt32||e.visitInt;break;case n.Type.Int64:u=e.visitInt64||e.visitInt;break;case n.Type.Uint8:u=e.visitUint8||e.visitInt;break;case n.Type.Uint16:u=e.visitUint16||e.visitInt;break;case n.Type.Uint32:u=e.visitUint32||e.visitInt;break;case n.Type.Uint64:u=e.visitUint64||e.visitInt;break;case n.Type.Float:u=e.visitFloat;break;case n.Type.Float16:u=e.visitFloat16||e.visitFloat;break;case n.Type.Float32:u=e.visitFloat32||e.visitFloat;break;case n.Type.Float64:u=e.visitFloat64||e.visitFloat;break;case n.Type.Utf8:u=e.visitUtf8;break;case n.Type.Binary:u=e.visitBinary;break;case n.Type.FixedSizeBinary:u=e.visitFixedSizeBinary;break;case n.Type.Date:u=e.visitDate;break;case n.Type.DateDay:u=e.visitDateDay||e.visitDate;break;case n.Type.DateMillisecond:u=e.visitDateMillisecond||e.visitDate;break;case n.Type.Timestamp:u=e.visitTimestamp;break;case n.Type.TimestampSecond:u=e.visitTimestampSecond||e.visitTimestamp;break;case n.Type.TimestampMillisecond:u=e.visitTimestampMillisecond||e.visitTimestamp;break;case n.Type.TimestampMicrosecond:u=e.visitTimestampMicrosecond||e.visitTimestamp;break;case n.Type.TimestampNanosecond:u=e.visitTimestampNanosecond||e.visitTimestamp;break;case n.Type.Time:u=e.visitTime;break;case n.Type.TimeSecond:u=e.visitTimeSecond||e.visitTime;break;case n.Type.TimeMillisecond:u=e.visitTimeMillisecond||e.visitTime;break;case n.Type.TimeMicrosecond:u=e.visitTimeMicrosecond||e.visitTime;break;case n.Type.TimeNanosecond:u=e.visitTimeNanosecond||e.visitTime;break;case n.Type.Decimal:u=e.visitDecimal;break;case n.Type.List:u=e.visitList;break;case n.Type.Struct:u=e.visitStruct;break;case n.Type.Union:u=e.visitUnion;break;case n.Type.DenseUnion:u=e.visitDenseUnion||e.visitUnion;break;case n.Type.SparseUnion:u=e.visitSparseUnion||e.visitUnion;break;case n.Type.Dictionary:u=e.visitDictionary;break;case n.Type.Interval:u=e.visitInterval;break;case n.Type.IntervalDayTime:u=e.visitIntervalDayTime||e.visitInterval;break;case n.Type.IntervalYearMonth:u=e.visitIntervalYearMonth||e.visitInterval;break;case n.Type.FixedSizeList:u=e.visitFixedSizeList;break;case n.Type.Map:u=e.visitMap}if("function"==typeof u)return u;if(!o)return()=>null;throw new Error(`Unrecognized type '${n.Type[c]}'`)}(this,e,a)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}};function s(e){switch(e.typeId){case n.Type.Null:return n.Type.Null;case n.Type.Int:let{bitWidth:t,isSigned:r}=e;switch(t){case 8:return r?n.Type.Int8:n.Type.Uint8;case 16:return r?n.Type.Int16:n.Type.Uint16;case 32:return r?n.Type.Int32:n.Type.Uint32;case 64:return r?n.Type.Int64:n.Type.Uint64}return n.Type.Int;case n.Type.Float:switch(e.precision){case n.Precision.HALF:return n.Type.Float16;case n.Precision.SINGLE:return n.Type.Float32;case n.Precision.DOUBLE:return n.Type.Float64}return n.Type.Float;case n.Type.Binary:return n.Type.Binary;case n.Type.Utf8:return n.Type.Utf8;case n.Type.Bool:return n.Type.Bool;case n.Type.Decimal:return n.Type.Decimal;case n.Type.Time:switch(e.unit){case n.TimeUnit.SECOND:return n.Type.TimeSecond;case n.TimeUnit.MILLISECOND:return n.Type.TimeMillisecond;case n.TimeUnit.MICROSECOND:return n.Type.TimeMicrosecond;case n.TimeUnit.NANOSECOND:return n.Type.TimeNanosecond}return n.Type.Time;case n.Type.Timestamp:switch(e.unit){case n.TimeUnit.SECOND:return n.Type.TimestampSecond;case n.TimeUnit.MILLISECOND:return n.Type.TimestampMillisecond;case n.TimeUnit.MICROSECOND:return n.Type.TimestampMicrosecond;case n.TimeUnit.NANOSECOND:return n.Type.TimestampNanosecond}return n.Type.Timestamp;case n.Type.Date:switch(e.unit){case n.DateUnit.DAY:return n.Type.DateDay;case n.DateUnit.MILLISECOND:return n.Type.DateMillisecond}return n.Type.Date;case n.Type.Interval:switch(e.unit){case n.IntervalUnit.DAY_TIME:return n.Type.IntervalDayTime;case n.IntervalUnit.YEAR_MONTH:return n.Type.IntervalYearMonth}return n.Type.Interval;case n.Type.Map:return n.Type.Map;case n.Type.List:return n.Type.List;case n.Type.Struct:return n.Type.Struct;case n.Type.Union:switch(e.mode){case n.UnionMode.Dense:return n.Type.DenseUnion;case n.UnionMode.Sparse:return n.Type.SparseUnion}return n.Type.Union;case n.Type.FixedSizeBinary:return n.Type.FixedSizeBinary;case n.Type.FixedSizeList:return n.Type.FixedSizeList;case n.Type.Dictionary:return n.Type.Dictionary}throw new Error(`Unrecognized type '${n.Type[e.typeId]}'`)}e.Visitor=a,a.prototype.visitInt8=null,a.prototype.visitInt16=null,a.prototype.visitInt32=null,a.prototype.visitInt64=null,a.prototype.visitUint8=null,a.prototype.visitUint16=null,a.prototype.visitUint32=null,a.prototype.visitUint64=null,a.prototype.visitFloat16=null,a.prototype.visitFloat32=null,a.prototype.visitFloat64=null,a.prototype.visitDateDay=null,a.prototype.visitDateMillisecond=null,a.prototype.visitTimestampSecond=null,a.prototype.visitTimestampMillisecond=null,a.prototype.visitTimestampMicrosecond=null,a.prototype.visitTimestampNanosecond=null,a.prototype.visitTimeSecond=null,a.prototype.visitTimeMillisecond=null,a.prototype.visitTimeMicrosecond=null,a.prototype.visitTimeNanosecond=null,a.prototype.visitDenseUnion=null,a.prototype.visitSparseUnion=null,a.prototype.visitIntervalDayTime=null,a.prototype.visitIntervalYearMonth=null})),V=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.TypeComparator=void 0;var t=U(),r=class extends t.Visitor{compareSchemas(t,r){return t===r||r instanceof t.constructor&&e.instance.compareFields(t.fields,r.fields)}compareFields(t,r){return t===r||Array.isArray(t)&&Array.isArray(r)&&t.length===r.length&&t.every(((t,n)=>e.instance.compareField(t,r[n])))}compareField(t,r){return t===r||r instanceof t.constructor&&t.name===r.name&&t.nullable===r.nullable&&e.instance.visit(t.type,r.type)}};function n(e,t){return t instanceof e.constructor}function i(e,t){return e===t||n(e,t)}function a(e,t){return e===t||n(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function s(e,t){return e===t||n(e,t)&&e.precision===t.precision}function o(e,t){return e===t||n(e,t)&&e.unit===t.unit}function u(e,t){return e===t||n(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function c(e,t){return e===t||n(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function l(t,r){return t===r||n(t,r)&&t.mode===r.mode&&t.typeIds.every(((e,t)=>e===r.typeIds[t]))&&e.instance.compareFields(t.children,r.children)}function d(e,t){return e===t||n(e,t)&&e.unit===t.unit}e.TypeComparator=r,r.prototype.visitNull=i,r.prototype.visitBool=i,r.prototype.visitInt=a,r.prototype.visitInt8=a,r.prototype.visitInt16=a,r.prototype.visitInt32=a,r.prototype.visitInt64=a,r.prototype.visitUint8=a,r.prototype.visitUint16=a,r.prototype.visitUint32=a,r.prototype.visitUint64=a,r.prototype.visitFloat=s,r.prototype.visitFloat16=s,r.prototype.visitFloat32=s,r.prototype.visitFloat64=s,r.prototype.visitUtf8=i,r.prototype.visitBinary=i,r.prototype.visitFixedSizeBinary=function(e,t){return e===t||n(e,t)&&e.byteWidth===t.byteWidth},r.prototype.visitDate=o,r.prototype.visitDateDay=o,r.prototype.visitDateMillisecond=o,r.prototype.visitTimestamp=u,r.prototype.visitTimestampSecond=u,r.prototype.visitTimestampMillisecond=u,r.prototype.visitTimestampMicrosecond=u,r.prototype.visitTimestampNanosecond=u,r.prototype.visitTime=c,r.prototype.visitTimeSecond=c,r.prototype.visitTimeMillisecond=c,r.prototype.visitTimeMicrosecond=c,r.prototype.visitTimeNanosecond=c,r.prototype.visitDecimal=i,r.prototype.visitList=function(t,r){return t===r||n(t,r)&&t.children.length===r.children.length&&e.instance.compareFields(t.children,r.children)},r.prototype.visitStruct=function(t,r){return t===r||n(t,r)&&t.children.length===r.children.length&&e.instance.compareFields(t.children,r.children)},r.prototype.visitUnion=l,r.prototype.visitDenseUnion=l,r.prototype.visitSparseUnion=l,r.prototype.visitDictionary=function(t,r){return t===r||n(t,r)&&t.id===r.id&&t.isOrdered===r.isOrdered&&e.instance.visit(t.indices,r.indices)&&e.instance.visit(t.dictionary,r.dictionary)},r.prototype.visitInterval=d,r.prototype.visitIntervalDayTime=d,r.prototype.visitIntervalYearMonth=d,r.prototype.visitFixedSizeList=function(t,r){return t===r||n(t,r)&&t.listSize===r.listSize&&t.children.length===r.children.length&&e.instance.compareFields(t.children,r.children)},r.prototype.visitMap=function(t,r){return t===r||n(t,r)&&t.keysSorted===r.keysSorted&&t.children.length===r.children.length&&e.instance.compareFields(t.children,r.children)},e.instance=new r})),P=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strideForType=e.Dictionary=e.Map_=e.FixedSizeList=e.FixedSizeBinary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.DateMillisecond=e.DateDay=e.Date_=e.Decimal=e.Bool=e.Utf8=e.Binary=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Null=e.DataType=void 0;var t,r=V(),n=F(),i=class{static isNull(e){return e&&e.typeId===n.Type.Null}static isInt(e){return e&&e.typeId===n.Type.Int}static isFloat(e){return e&&e.typeId===n.Type.Float}static isBinary(e){return e&&e.typeId===n.Type.Binary}static isUtf8(e){return e&&e.typeId===n.Type.Utf8}static isBool(e){return e&&e.typeId===n.Type.Bool}static isDecimal(e){return e&&e.typeId===n.Type.Decimal}static isDate(e){return e&&e.typeId===n.Type.Date}static isTime(e){return e&&e.typeId===n.Type.Time}static isTimestamp(e){return e&&e.typeId===n.Type.Timestamp}static isInterval(e){return e&&e.typeId===n.Type.Interval}static isList(e){return e&&e.typeId===n.Type.List}static isStruct(e){return e&&e.typeId===n.Type.Struct}static isUnion(e){return e&&e.typeId===n.Type.Union}static isFixedSizeBinary(e){return e&&e.typeId===n.Type.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===n.Type.FixedSizeList}static isMap(e){return e&&e.typeId===n.Type.Map}static isDictionary(e){return e&&e.typeId===n.Type.Dictionary}get typeId(){return n.Type.NONE}compareTo(e){return r.instance.visit(this,e)}};e.DataType=i,i[Symbol.toStringTag]=((t=i.prototype).children=null,t.ArrayType=Array,t[Symbol.toStringTag]="DataType");var a=class extends i{toString(){return"Null"}get typeId(){return n.Type.Null}};e.Null=a,a[Symbol.toStringTag]=(e=>e[Symbol.toStringTag]="Null")(a.prototype);var s=class extends i{constructor(e,t){super(),this.isSigned=e,this.bitWidth=t}get typeId(){return n.Type.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:case 64:return this.isSigned?Int32Array:Uint32Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}};e.Int=s,s[Symbol.toStringTag]=(e=>(e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"))(s.prototype);var o=class extends s{constructor(){super(!0,8)}};e.Int8=o;var u=class extends s{constructor(){super(!0,16)}};e.Int16=u;var c=class extends s{constructor(){super(!0,32)}};e.Int32=c;var l=class extends s{constructor(){super(!0,64)}};e.Int64=l;var d=class extends s{constructor(){super(!1,8)}};e.Uint8=d;var f=class extends s{constructor(){super(!1,16)}};e.Uint16=f;var h=class extends s{constructor(){super(!1,32)}};e.Uint32=h;var p=class extends s{constructor(){super(!1,64)}};e.Uint64=p,Object.defineProperty(o.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(u.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(c.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(l.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(d.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(f.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(h.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(p.prototype,"ArrayType",{value:Uint32Array});var y=class extends i{constructor(e){super(),this.precision=e}get typeId(){return n.Type.Float}get ArrayType(){switch(this.precision){case n.Precision.HALF:return Uint16Array;case n.Precision.SINGLE:return Float32Array;case n.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}};e.Float=y,y[Symbol.toStringTag]=(e=>(e.precision=null,e[Symbol.toStringTag]="Float"))(y.prototype);var b=class extends y{constructor(){super(n.Precision.HALF)}};e.Float16=b;var m=class extends y{constructor(){super(n.Precision.SINGLE)}};e.Float32=m;var g=class extends y{constructor(){super(n.Precision.DOUBLE)}};e.Float64=g,Object.defineProperty(b.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(m.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(g.prototype,"ArrayType",{value:Float64Array});var _=class extends i{constructor(){super()}get typeId(){return n.Type.Binary}toString(){return"Binary"}};e.Binary=_,_[Symbol.toStringTag]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"))(_.prototype);var v=class extends i{constructor(){super()}get typeId(){return n.Type.Utf8}toString(){return"Utf8"}};e.Utf8=v,v[Symbol.toStringTag]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"))(v.prototype);var B=class extends i{constructor(){super()}get typeId(){return n.Type.Bool}toString(){return"Bool"}};e.Bool=B,B[Symbol.toStringTag]=(e=>(e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"))(B.prototype);var T=class extends i{constructor(e,t){super(),this.scale=e,this.precision=t}get typeId(){return n.Type.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};e.Decimal=T,T[Symbol.toStringTag]=(e=>(e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"))(T.prototype);var w=class extends i{constructor(e){super(),this.unit=e}get typeId(){return n.Type.Date}toString(){return`Date${32*(this.unit+1)}<${n.DateUnit[this.unit]}>`}};e.Date_=w,w[Symbol.toStringTag]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"))(w.prototype),e.DateDay=class extends w{constructor(){super(n.DateUnit.DAY)}},e.DateMillisecond=class extends w{constructor(){super(n.DateUnit.MILLISECOND)}};var I=class extends i{constructor(e,t){super(),this.unit=e,this.bitWidth=t}get typeId(){return n.Type.Time}toString(){return`Time${this.bitWidth}<${n.TimeUnit[this.unit]}>`}};e.Time=I,I[Symbol.toStringTag]=(e=>(e.unit=null,e.bitWidth=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Time"))(I.prototype),e.TimeSecond=class extends I{constructor(){super(n.TimeUnit.SECOND,32)}},e.TimeMillisecond=class extends I{constructor(){super(n.TimeUnit.MILLISECOND,32)}},e.TimeMicrosecond=class extends I{constructor(){super(n.TimeUnit.MICROSECOND,64)}},e.TimeNanosecond=class extends I{constructor(){super(n.TimeUnit.NANOSECOND,64)}};var S=class extends i{constructor(e,t){super(),this.unit=e,this.timezone=t}get typeId(){return n.Type.Timestamp}toString(){return`Timestamp<${n.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}};e.Timestamp=S,S[Symbol.toStringTag]=(e=>(e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"))(S.prototype),e.TimestampSecond=class extends S{constructor(e){super(n.TimeUnit.SECOND,e)}},e.TimestampMillisecond=class extends S{constructor(e){super(n.TimeUnit.MILLISECOND,e)}},e.TimestampMicrosecond=class extends S{constructor(e){super(n.TimeUnit.MICROSECOND,e)}},e.TimestampNanosecond=class extends S{constructor(e){super(n.TimeUnit.NANOSECOND,e)}};var O=class extends i{constructor(e){super(),this.unit=e}get typeId(){return n.Type.Interval}toString(){return`Interval<${n.IntervalUnit[this.unit]}>`}};e.Interval=O,O[Symbol.toStringTag]=(e=>(e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"))(O.prototype),e.IntervalDayTime=class extends O{constructor(){super(n.IntervalUnit.DAY_TIME)}},e.IntervalYearMonth=class extends O{constructor(){super(n.IntervalUnit.YEAR_MONTH)}};var A=class extends i{constructor(e){super(),this.children=[e]}get typeId(){return n.Type.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};e.List=A,A[Symbol.toStringTag]=(e=>(e.children=null,e[Symbol.toStringTag]="List"))(A.prototype);var D=class extends i{constructor(e){super(),this.children=e}get typeId(){return n.Type.Struct}toString(){return`Struct<{${this.children.map((e=>`${e.name}:${e.type}`)).join(", ")}}>`}};e.Struct=D,D[Symbol.toStringTag]=(e=>(e.children=null,e[Symbol.toStringTag]="Struct"))(D.prototype);var M=class extends i{constructor(e,t,r){super(),this.mode=e,this.children=r,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce(((e,t,r)=>(e[t]=r)&&e||e),Object.create(null))}get typeId(){return n.Type.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((e=>`${e.type}`)).join(" | ")}>`}};e.Union=M,M[Symbol.toStringTag]=(e=>(e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"))(M.prototype),e.DenseUnion=class extends M{constructor(e,t){super(n.UnionMode.Dense,e,t)}},e.SparseUnion=class extends M{constructor(e,t){super(n.UnionMode.Sparse,e,t)}};var U=class extends i{constructor(e){super(),this.byteWidth=e}get typeId(){return n.Type.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};e.FixedSizeBinary=U,U[Symbol.toStringTag]=(e=>(e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"))(U.prototype);var P=class extends i{constructor(e,t){super(),this.listSize=e,this.children=[t]}get typeId(){return n.Type.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};e.FixedSizeList=P,P[Symbol.toStringTag]=(e=>(e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"))(P.prototype);var E=class extends i{constructor(e,t=!1){super(),this.children=[e],this.keysSorted=t}get typeId(){return n.Type.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}toString(){return`Map<{${this.children[0].type.children.map((e=>`${e.name}:${e.type}`)).join(", ")}}>`}};e.Map_=E,E[Symbol.toStringTag]=(e=>(e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"))(E.prototype);var R=(e=>()=>++e)(-1),L=class extends i{constructor(e,t,r,n){super(),this.indices=t,this.dictionary=e,this.isOrdered=n||!1,this.id=null==r?R():"number"==typeof r?r:r.low}get typeId(){return n.Type.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}};e.Dictionary=L,L[Symbol.toStringTag]=(e=>(e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"))(L.prototype),e.strideForType=function(e){let t=e;switch(e.typeId){case n.Type.Decimal:return 4;case n.Type.Timestamp:return 2;case n.Type.Date:case n.Type.Interval:return 1+t.unit;case n.Type.Int:case n.Type.Time:return+(t.bitWidth>32)+1;case n.Type.FixedSizeList:return t.listSize;case n.Type.FixedSizeBinary:return t.byteWidth;default:return 1}}})),E=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Data=e.kUnknownNullCount=void 0;var t=M(),r=M(),n=F(),i=P(),a=I();e.kUnknownNullCount=-1;var s=class{constructor(e,t,r,n,a,o,u){let c;this.type=e,this.dictionary=u,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(n||0,-1)),this.childData=(o||[]).map((e=>e instanceof s?e:e.data)),a instanceof s?(this.stride=a.stride,this.values=a.values,this.typeIds=a.typeIds,this.nullBitmap=a.nullBitmap,this.valueOffsets=a.valueOffsets):(this.stride=i.strideForType(e),a&&((c=a[0])&&(this.valueOffsets=c),(c=a[1])&&(this.values=c),(c=a[2])&&(this.nullBitmap=c),(c=a[3])&&(this.typeIds=c)))}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:r,nullBitmap:n,typeIds:i}=this;return t&&(e+=t.byteLength),r&&(e+=r.byteLength),n&&(e+=n.byteLength),i&&(e+=i.byteLength),this.childData.reduce(((e,t)=>e+t.byteLength),e)}get nullCount(){let t,n=this._nullCount;return n<=e.kUnknownNullCount&&(t=this.nullBitmap)&&(this._nullCount=n=this.length-r.popcnt_bit_range(t,this.offset,this.offset+this.length)),n}clone(e,t=this.offset,r=this.length,n=this._nullCount,i=this,a=this.childData){return new s(e,t,r,n,i,a,this.dictionary)}slice(e,t){let{stride:r,typeId:n,childData:i}=this,a=+(0===this._nullCount)-1,s=16===n?r:1,o=this._sliceBuffers(e,t,r,n);return this.clone(this.type,this.offset+e,t,a,o,!i.length||this.valueOffsets?i:this._sliceChildren(i,s*e,s*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===n.Type.Null)return this.clone(this.type,0,e,0);let{length:r,nullCount:i}=this,a=new Uint8Array((e+63&-64)>>3).fill(255,0,r>>3);a[r>>3]=(1<<r-(-8&r))-1,i>0&&a.set(t.truncateBitmap(this.offset,r,this.nullBitmap),0);let s=this.buffers;return s[n.BufferType.VALIDITY]=a,this.clone(this.type,0,e,i+(e-r),s)}_sliceBuffers(e,t,r,i){let a,{buffers:s}=this;return(a=s[n.BufferType.TYPE])&&(s[n.BufferType.TYPE]=a.subarray(e,e+t)),(a=s[n.BufferType.OFFSET])&&(s[n.BufferType.OFFSET]=a.subarray(e,e+t+1))||(a=s[n.BufferType.DATA])&&(s[n.BufferType.DATA]=6===i?a:a.subarray(r*e,r*(e+t))),s}_sliceChildren(e,t,r){return e.map((e=>e.slice(t,r)))}static new(e,t,r,i,a,o,u){switch(a instanceof s?a=a.buffers:a||(a=[]),e.typeId){case n.Type.Null:return s.Null(e,t,r);case n.Type.Int:return s.Int(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.DATA]||[]);case n.Type.Dictionary:return s.Dictionary(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.DATA]||[],u);case n.Type.Float:return s.Float(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.DATA]||[]);case n.Type.Bool:return s.Bool(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.DATA]||[]);case n.Type.Decimal:return s.Decimal(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.DATA]||[]);case n.Type.Date:return s.Date(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.DATA]||[]);case n.Type.Time:return s.Time(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.DATA]||[]);case n.Type.Timestamp:return s.Timestamp(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.DATA]||[]);case n.Type.Interval:return s.Interval(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.DATA]||[]);case n.Type.FixedSizeBinary:return s.FixedSizeBinary(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.DATA]||[]);case n.Type.Binary:return s.Binary(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.OFFSET]||[],a[n.BufferType.DATA]||[]);case n.Type.Utf8:return s.Utf8(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.OFFSET]||[],a[n.BufferType.DATA]||[]);case n.Type.List:return s.List(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.OFFSET]||[],(o||[])[0]);case n.Type.FixedSizeList:return s.FixedSizeList(e,t,r,i||0,a[n.BufferType.VALIDITY],(o||[])[0]);case n.Type.Struct:return s.Struct(e,t,r,i||0,a[n.BufferType.VALIDITY],o||[]);case n.Type.Map:return s.Map(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.OFFSET]||[],(o||[])[0]);case n.Type.Union:return s.Union(e,t,r,i||0,a[n.BufferType.VALIDITY],a[n.BufferType.TYPE]||[],a[n.BufferType.OFFSET]||o,o)}throw new Error(`Unrecognized typeId ${e.typeId}`)}static Null(e,t,r){return new s(e,t,r,0)}static Int(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,a.toArrayBufferView(e.ArrayType,o),a.toUint8Array(i)])}static Dictionary(e,t,r,n,i,o,u){return new s(e,t,r,n,[void 0,a.toArrayBufferView(e.indices.ArrayType,o),a.toUint8Array(i)],[],u)}static Float(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,a.toArrayBufferView(e.ArrayType,o),a.toUint8Array(i)])}static Bool(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,a.toArrayBufferView(e.ArrayType,o),a.toUint8Array(i)])}static Decimal(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,a.toArrayBufferView(e.ArrayType,o),a.toUint8Array(i)])}static Date(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,a.toArrayBufferView(e.ArrayType,o),a.toUint8Array(i)])}static Time(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,a.toArrayBufferView(e.ArrayType,o),a.toUint8Array(i)])}static Timestamp(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,a.toArrayBufferView(e.ArrayType,o),a.toUint8Array(i)])}static Interval(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,a.toArrayBufferView(e.ArrayType,o),a.toUint8Array(i)])}static FixedSizeBinary(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,a.toArrayBufferView(e.ArrayType,o),a.toUint8Array(i)])}static Binary(e,t,r,n,i,o,u){return new s(e,t,r,n,[a.toInt32Array(o),a.toUint8Array(u),a.toUint8Array(i)])}static Utf8(e,t,r,n,i,o,u){return new s(e,t,r,n,[a.toInt32Array(o),a.toUint8Array(u),a.toUint8Array(i)])}static List(e,t,r,n,i,o,u){return new s(e,t,r,n,[a.toInt32Array(o),void 0,a.toUint8Array(i)],u?[u]:[])}static FixedSizeList(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,void 0,a.toUint8Array(i)],o?[o]:[])}static Struct(e,t,r,n,i,o){return new s(e,t,r,n,[void 0,void 0,a.toUint8Array(i)],o)}static Map(e,t,r,n,i,o,u){return new s(e,t,r,n,[a.toInt32Array(o),void 0,a.toUint8Array(i)],u?[u]:[])}static Union(e,t,r,i,o,u,c,l){let d=[void 0,void 0,a.toUint8Array(o),a.toArrayBufferView(e.ArrayType,u)];return e.mode===n.UnionMode.Sparse?new s(e,t,r,i,d,c):(d[n.BufferType.OFFSET]=a.toInt32Array(c),new s(e,t,r,i,d,l))}};e.Data=s,s.prototype.childData=Object.freeze([])})),R=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.valueToString=void 0,e.valueToString=function(e){if(null===e)return"null";if(void 0===e)return"undefined";switch(typeof e){case"number":case"bigint":return`${e}`;case"string":return`"${e}"`}return"function"==typeof e[Symbol.toPrimitive]?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e)}})),L=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createIsValidFunction=void 0;var t=R(),r=w();e.createIsValidFunction=function(e){if(!e||e.length<=0)return function(e){return!0};let n="",i=e.filter((e=>e==e));return i.length>0&&(n=`\n    switch (x) {${i.map((e=>`\n        case ${function(e){return"bigint"!=typeof e?t.valueToString(e):r.BigIntAvailable?`${t.valueToString(e)}n`:`"${t.valueToString(e)}"`}(e)}:`)).join("")}\n            return false;\n    }`),e.length!==i.length&&(n=`if (x !== x) return false;\n${n}`),new Function("x",`${n}\nreturn true;`)}})),N=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WideBufferBuilder=e.OffsetsBufferBuilder=e.BitmapBufferBuilder=e.DataBufferBuilder=e.BufferBuilder=void 0;var t=I(),r=w(),n=(e,t)=>(e*t+63&-64||64)/t,i=class{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=e.length/t|0)}get byteLength(){return this.length*this.stride*this.BYTES_PER_ELEMENT|0}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,r=this.length*t,i=this.buffer.length;r>=i&&this._resize(n(0===i?1*r:2*r,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=n(e*this.stride,this.BYTES_PER_ELEMENT);let r=((e,r=0)=>e.length>=r?e.subarray(0,r):t.memcpy(new e.constructor(r),e,0))(this.buffer,e);return this.clear(),r}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=t.memcpy(new this.ArrayType(e),this.buffer)}};e.BufferBuilder=i,i.prototype.offset=0;var a=class extends i{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}};e.DataBufferBuilder=a,e.BitmapBufferBuilder=class extends a{constructor(e=new Uint8Array(0)){super(e,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:r}=this.reserve(e-this.length+1),n=e>>3,i=e%8,a=r[n]>>i&1;return t?0===a&&(r[n]|=1<<i,++this.numValid):1===a&&(r[n]&=~(1<<i),--this.numValid),this}clear(){return this.numValid=0,super.clear()}},e.OffsetsBufferBuilder=class extends a{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let r=this.length-1,n=this.reserve(e-r+1).buffer;return r<e++&&n.fill(n[r],r,e),n[e]=n[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}},e.WideBufferBuilder=class extends i{get ArrayType64(){return this._ArrayType64||(this._ArrayType64=this.buffer instanceof Int32Array?r.BigInt64Array:r.BigUint64Array)}set(e,t){switch(this.reserve(e-this.length+1),typeof t){case"bigint":this.buffer64[e]=t;break;case"number":this.buffer[e*this.stride]=t;break;default:this.buffer.set(t,e*this.stride)}return this}_resize(e){let t=super._resize(e),n=t.byteLength/(this.BYTES_PER_ELEMENT*this.stride);return r.BigIntAvailable&&(this.buffer64=new this.ArrayType64(t.buffer,t.byteOffset,n)),t}}})),j=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VariableWidthBuilder=e.FixedWidthBuilder=e.Builder=void 0;var t=O(),r=F(),n=E(),i=L(),a=N(),s=P(),o=class{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=s.strideForType(e),this._nulls=new a.BitmapBufferBuilder,t&&t.length>0&&(this._isValid=i.createIsValidFunction(t))}static new(e){}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}static throughIterable(e){return function(e){let{queueingStrategy:t="count"}=e,{highWaterMark:r=("bytes"!==t?1e3:16384)}=e,n="bytes"!==t?"length":"byteLength";return function*(t){let i=0,a=o.new(e);for(let e of t)a.append(e)[n]>=r&&++i&&(yield a.toVector());(a.finish().length>0||0===i)&&(yield a.toVector())}}(e)}static throughAsyncIterable(e){return function(e){let{queueingStrategy:t="count"}=e,{highWaterMark:r=("bytes"!==t?1e3:16384)}=e,n="bytes"!==t?"length":"byteLength";return async function*(t){let i=0,a=o.new(e);for await(let e of t)a.append(e)[n]>=r&&++i&&(yield a.toVector());(a.finish().length>0||0===i)&&(yield a.toVector())}}(e)}toVector(){return t.Vector.new(this.flush())}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),this._typeIds&&(e+=this._typeIds.byteLength),this.children.reduce(((e,t)=>e+t.byteLength),e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce(((e,t)=>e+t.reservedByteLength),e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e=[],t=this._values,i=this._offsets,a=this._typeIds,{length:s,nullCount:o}=this;a?(e[r.BufferType.TYPE]=a.flush(s),i&&(e[r.BufferType.OFFSET]=i.flush(s))):i?(t&&(e[r.BufferType.DATA]=t.flush(i.last())),e[r.BufferType.OFFSET]=i.flush(s)):t&&(e[r.BufferType.DATA]=t.flush(s)),o>0&&(e[r.BufferType.VALIDITY]=this._nulls.flush(s));let u=n.Data.new(this.type,0,s,o,e,this.children.map((e=>e.flush())));return this.clear(),u}finish(){return this.finished=!0,this.children.forEach((e=>e.finish())),this}clear(){return this.length=0,this._offsets&&this._offsets.clear(),this._values&&this._values.clear(),this._nulls&&this._nulls.clear(),this._typeIds&&this._typeIds.clear(),this.children.forEach((e=>e.clear())),this}};e.Builder=o,o.prototype.length=1,o.prototype.stride=1,o.prototype.children=null,o.prototype.finished=!1,o.prototype.nullValues=null,o.prototype._isValid=()=>!0,e.FixedWidthBuilder=class extends o{constructor(e){super(e),this._values=new a.DataBufferBuilder(new this.ArrayType(0),this.stride)}setValue(e,t){let r=this._values;return r.reserve(e-r.length+1),super.setValue(e,t)}},e.VariableWidthBuilder=class extends o{constructor(e){super(e),this._pendingLength=0,this._offsets=new a.OffsetsBufferBuilder}setValue(e,t){let r=this._pending||(this._pending=new Map),n=r.get(e);n&&(this._pendingLength-=n.length),this._pendingLength+=t.length,r.set(e,t)}setValid(e,t){return!!super.setValid(e,t)||((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}}})),x=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BoolBuilder=void 0;var t=N(),r=j(),n=class extends r.Builder{constructor(e){super(e),this._values=new t.BitmapBufferBuilder}setValue(e,t){this._values.set(e,+t)}};e.BoolBuilder=n})),C=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullBuilder=void 0;var t=j(),r=class extends t.Builder{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}};e.NullBuilder=r})),k=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=void 0;var t=j(),r=class extends t.FixedWidthBuilder{};e.DateBuilder=r,e.DateDayBuilder=class extends r{},e.DateMillisecondBuilder=class extends r{}})),z=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecimalBuilder=void 0;var t=j(),r=class extends t.FixedWidthBuilder{};e.DecimalBuilder=r})),W=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DictionaryBuilder=void 0;var t=P(),r=j(),n=class extends r.Builder{constructor({type:e,nullValues:n,dictionaryHashFunction:i}){super({type:new t.Dictionary(e.dictionary,e.indices,e.id,e.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=r.Builder.new({type:this.type.indices,nullValues:n}),this.dictionary=r.Builder.new({type:this.type.dictionary,nullValues:null}),"function"==typeof i&&(this.valueToKey=i)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let r=this.indices;return t=r.setValid(e,t),this.length=r.length,t}setValue(e,t){let r=this._keysToIndices,n=this.valueToKey(t),i=r[n];return void 0===i&&(r[n]=i=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,i)}flush(){let e=this.type,t=this._dictionary,r=this.dictionary.toVector(),n=this.indices.flush().clone(e);return n.dictionary=t?t.concat(r):r,this.finished||(this._dictionaryOffset+=r.length),this._dictionary=n.dictionary,this.clear(),n}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return"string"==typeof e?e:`${e}`}};e.DictionaryBuilder=n})),H=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeBinaryBuilder=void 0;var t=j(),r=class extends t.FixedWidthBuilder{};e.FixedSizeBinaryBuilder=r})),Y=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.float64ToUint16=e.uint16ToFloat64=void 0;var t=new Float64Array(1),r=new Uint32Array(t.buffer);e.uint16ToFloat64=function(e){let t=(31744&e)>>10,r=(1023&e)/1024,n=(-1)**((32768&e)>>15);switch(t){case 31:return n*(r?NaN:1/0);case 0:return n*(r?6103515625e-14*r:0)}return n*2**(t-15)*(1+r)},e.float64ToUint16=function(e){if(e!=e)return 32256;t[0]=e;let n=(2147483648&r[1])>>16&65535,i=2146435072&r[1],a=0;return i>=1089470464?r[0]>0?i=31744:(i=(2080374784&i)>>16,a=(1048575&r[1])>>10):i<=1056964608?(a=1048576+(1048575&r[1]),a=1048576+(a<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,a=512+(1048575&r[1])>>10),n|i|65535&a}})),$=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=void 0;var t=Y(),r=j(),n=class extends r.FixedWidthBuilder{};e.FloatBuilder=n,e.Float16Builder=class extends n{setValue(e,r){this._values.set(e,t.float64ToUint16(r))}},e.Float32Builder=class extends n{setValue(e,t){this._values.set(e,t)}},e.Float64Builder=class extends n{setValue(e,t){this._values.set(e,t)}}})),G=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BN=e.bignumToBigInt=e.bignumToString=e.isArrowBigNumSymbol=void 0;var t=I(),r=w();function n(e,...r){return 0===r.length?Object.setPrototypeOf(t.toArrayBufferView(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...r),this.constructor.prototype)}function i(...e){return n.apply(this,e)}function a(...e){return n.apply(this,e)}function s(...e){return n.apply(this,e)}function o(e){let t,r,{buffer:n,byteOffset:i,length:a,signed:s}=e,o=new Int32Array(n,i,a),u=0,c=0,l=o.length;for(;c<l;)r=o[c++],t=o[c++],s||(t>>>=0),u+=(r>>>0)+t*c**32;return u}function u(e){let t="",r=new Uint32Array(2),n=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),i=new Uint32Array((n=new Uint16Array(n).reverse()).buffer),a=-1,s=n.length-1;do{for(r[0]=n[a=0];a<s;)n[a++]=r[1]=r[0]/10,r[0]=(r[0]-10*r[1]<<16)+n[a];n[a]=r[1]=r[0]/10,r[0]=r[0]-10*r[1],t=`${r[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t||"0"}e.isArrowBigNumSymbol=Symbol.for("isArrowBigNum"),n.prototype[e.isArrowBigNumSymbol]=!0,n.prototype.toJSON=function(){return`"${e.bignumToString(this)}"`},n.prototype.valueOf=function(){return o(this)},n.prototype.toString=function(){return e.bignumToString(this)},n.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return o(this);case"string":return e.bignumToString(this);case"default":return e.bignumToBigInt(this)}return e.bignumToString(this)},Object.setPrototypeOf(i.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(a.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(s.prototype,Object.create(Uint32Array.prototype)),Object.assign(i.prototype,n.prototype,{constructor:i,signed:!0,TypedArray:Int32Array,BigIntArray:r.BigInt64Array}),Object.assign(a.prototype,n.prototype,{constructor:a,signed:!1,TypedArray:Uint32Array,BigIntArray:r.BigUint64Array}),Object.assign(s.prototype,n.prototype,{constructor:s,signed:!0,TypedArray:Uint32Array,BigIntArray:r.BigUint64Array}),r.BigIntAvailable?(e.bignumToBigInt=e=>8===e.byteLength?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:u(e),e.bignumToString=e=>8===e.byteLength?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:u(e)):(e.bignumToString=u,e.bignumToBigInt=e.bignumToString);var c=class{static new(e,t){switch(t){case!0:return new i(e);case!1:return new a(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case r.BigInt64Array:return new i(e)}return 16===e.byteLength?new s(e):new a(e)}static signed(e){return new i(e)}static unsigned(e){return new a(e)}static decimal(e){return new s(e)}constructor(e,t){return c.new(e,t)}};e.BN=c})),K=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=void 0;var t=G(),r=N(),n=w(),i=j(),a=class extends i.FixedWidthBuilder{setValue(e,t){this._values.set(e,t)}};e.IntBuilder=a,e.Int8Builder=class extends a{},e.Int16Builder=class extends a{},e.Int32Builder=class extends a{},e.Int64Builder=class extends a{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(o)),super(e),this._values=new r.WideBufferBuilder(new Int32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(o(e))}},e.Uint8Builder=class extends a{},e.Uint16Builder=class extends a{},e.Uint32Builder=class extends a{},e.Uint64Builder=class extends a{constructor(e){e.nullValues&&(e.nullValues=e.nullValues.map(o)),super(e),this._values=new r.WideBufferBuilder(new Uint32Array(0),2)}get values64(){return this._values.buffer64}isValid(e){return super.isValid(o(e))}};var s,o=(s={BigIntArray:n.BigInt64Array},e=>(ArrayBuffer.isView(e)&&(s.buffer=e.buffer,s.byteOffset=e.byteOffset,s.byteLength=e.byteLength,e=t.bignumToBigInt(s),s.buffer=null),e))})),J=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=void 0;var t=j(),r=class extends t.FixedWidthBuilder{};e.TimeBuilder=r,e.TimeSecondBuilder=class extends r{},e.TimeMillisecondBuilder=class extends r{},e.TimeMicrosecondBuilder=class extends r{},e.TimeNanosecondBuilder=class extends r{}})),q=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=void 0;var t=j(),r=class extends t.FixedWidthBuilder{};e.TimestampBuilder=r,e.TimestampSecondBuilder=class extends r{},e.TimestampMillisecondBuilder=class extends r{},e.TimestampMicrosecondBuilder=class extends r{},e.TimestampNanosecondBuilder=class extends r{}})),Q=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=void 0;var t=j(),r=class extends t.FixedWidthBuilder{};e.IntervalBuilder=r,e.IntervalDayTimeBuilder=class extends r{},e.IntervalYearMonthBuilder=class extends r{}})),Z=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryBuilder=void 0;var t=I(),r=N(),n=j(),i=class extends n.VariableWidthBuilder{constructor(e){super(e),this._values=new r.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,r){return super.setValue(e,t.toUint8Array(r))}_flushPending(e,t){let r,n=this._offsets,i=this._values.reserve(t).buffer,a=0,s=0,o=0;for([a,r]of e)void 0===r?n.set(a,0):(s=r.length,i.set(r,o),n.set(a,s),o+=s)}};e.BinaryBuilder=i})),X=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Utf8Builder=void 0;var t=B(),r=Z(),n=N(),i=j(),a=class extends i.VariableWidthBuilder{constructor(e){super(e),this._values=new n.BufferBuilder(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,r){return super.setValue(e,t.encodeUtf8(r))}_flushPending(e,t){}};e.Utf8Builder=a,a.prototype._flushPending=r.BinaryBuilder.prototype._flushPending})),ee=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Run=void 0;var t=O();e.Run=class{get length(){return this._values.length}get(e){return this._values[e]}clear(){return this._values=null,this}bind(e){return e instanceof t.Vector?e:(this._values=e,this)}}})),te=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StructRow=e.MapRow=void 0;var t,r=R(),n=Symbol.for("parent"),i=Symbol.for("rowIndex"),a=Symbol.for("keyToIdx"),s=Symbol.for("idxToVal"),o=Symbol.for("nodejs.util.inspect.custom"),u=class{constructor(e,t){this[n]=e,this.size=t}entries(){return this[Symbol.iterator]()}has(e){return void 0!==this.get(e)}get(e){let t;if(null!=e){let r=this[a]||(this[a]=new Map),n=r.get(e);if(void 0!==n){let e=this[s]||(this[s]=new Array(this.size));void 0!==(t=e[n])||(e[n]=t=this.getValue(n))}else if((n=this.getIndex(e))>-1){r.set(e,n);let i=this[s]||(this[s]=new Array(this.size));void 0!==(t=i[n])||(i[n]=t=this.getValue(n))}}return t}set(e,t){if(null!=e){let r=this[a]||(this[a]=new Map),n=r.get(e);void 0===n&&r.set(e,n=this.getIndex(e)),n>-1&&((this[s]||(this[s]=new Array(this.size)))[n]=this.setValue(n,t))}return this}clear(){throw new Error(`Clearing ${this[Symbol.toStringTag]} not supported.`)}delete(e){throw new Error(`Deleting ${this[Symbol.toStringTag]} values not supported.`)}*[Symbol.iterator](){let e=this.keys(),t=this.values(),r=this[a]||(this[a]=new Map),n=this[s]||(this[s]=new Array(this.size));for(let i,a,s,o,u=0;!(s=e.next()).done&&!(o=t.next()).done;++u)i=s.value,a=o.value,n[u]=a,r.has(i)||r.set(i,u),yield[i,a]}forEach(e,t){let r=this.keys(),n=this.values(),i=void 0===t?e:(r,n,i)=>e.call(t,r,n,i),o=this[a]||(this[a]=new Map),u=this[s]||(this[s]=new Array(this.size));for(let e,t,a,s,c=0;!(a=r.next()).done&&!(s=n.next()).done;++c)e=a.value,t=s.value,u[c]=t,o.has(e)||o.set(e,c),i(t,e,this)}toArray(){return[...this.values()]}toJSON(){let e={};return this.forEach(((t,r)=>e[r]=t)),e}inspect(){return this.toString()}[o](){return this.toString()}toString(){let e=[];return this.forEach(((t,n)=>{n=r.valueToString(n),t=r.valueToString(t),e.push(`${n}: ${t}`)})),`{ ${e.join(", ")} }`}};u[Symbol.toStringTag]=(t=u.prototype,Object.defineProperties(t,{size:{writable:!0,enumerable:!1,configurable:!1,value:0},[n]:{writable:!0,enumerable:!1,configurable:!1,value:null},[i]:{writable:!0,enumerable:!1,configurable:!1,value:-1}}),t[Symbol.toStringTag]="Row"),e.MapRow=class extends u{constructor(e){return super(e,e.length),l(this)}keys(){return this[n].getChildAt(0)[Symbol.iterator]()}values(){return this[n].getChildAt(1)[Symbol.iterator]()}getKey(e){return this[n].getChildAt(0).get(e)}getIndex(e){return this[n].getChildAt(0).indexOf(e)}getValue(e){return this[n].getChildAt(1).get(e)}setValue(e,t){this[n].getChildAt(1).set(e,t)}},e.StructRow=class extends u{constructor(e){return super(e,e.type.children.length),c(this)}*keys(){for(let e of this[n].type.children)yield e.name}*values(){for(let e of this[n].type.children)yield this[e.name]}getKey(e){return this[n].type.children[e].name}getIndex(e){return this[n].type.children.findIndex((t=>t.name===e))}getValue(e){return this[n].getChildAt(e).get(this[i])}setValue(e,t){return this[n].getChildAt(e).set(this[i],t)}},Object.setPrototypeOf(u.prototype,Map.prototype);var c=(()=>{let e={enumerable:!0,configurable:!1,get:null,set:null};return t=>{let r=-1,n=t[a]||(t[a]=new Map),i=e=>function(){return this.get(e)},s=e=>function(t){return this.set(e,t)};for(let a of t.keys())n.set(a,++r),e.get=i(a),e.set=s(a),t.hasOwnProperty(a)||(e.enumerable=!0,Object.defineProperty(t,a,e)),t.hasOwnProperty(r)||(e.enumerable=!1,Object.defineProperty(t,r,e));return e.get=e.set=null,t}})(),l=(()=>{if("undefined"==typeof Proxy)return c;let e=u.prototype.has,t=u.prototype.get,r=u.prototype.set,l=u.prototype.getKey,d={isExtensible:()=>!1,deleteProperty:()=>!1,preventExtensions:()=>!0,ownKeys:e=>[...e.keys()].map((e=>`${e}`)),has(e,t){switch(t){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case n:case i:case s:case a:case o:return!0}return"number"==typeof t&&!e.has(t)&&(t=e.getKey(t)),e.has(t)},get(r,u,c){switch(u){case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:case n:case i:case s:case a:case o:return Reflect.get(r,u,c)}return"number"==typeof u&&!e.call(c,u)&&(u=l.call(c,u)),t.call(c,u)},set(t,o,u,c){switch(o){case n:case i:case s:case a:return Reflect.set(t,o,u,c);case"getKey":case"getIndex":case"getValue":case"setValue":case"toArray":case"toJSON":case"inspect":case"constructor":case"isPrototypeOf":case"propertyIsEnumerable":case"toString":case"toLocaleString":case"valueOf":case"size":case"has":case"get":case"set":case"clear":case"delete":case"keys":case"values":case"entries":case"forEach":case"__proto__":case"__defineGetter__":case"__defineSetter__":case"hasOwnProperty":case"__lookupGetter__":case"__lookupSetter__":case Symbol.iterator:case Symbol.toStringTag:return!1}return"number"==typeof o&&!e.call(c,o)&&(o=l.call(c,o)),!!e.call(c,o)&&!!r.call(c,o,u)}};return e=>new Proxy(e,d)})()})),re=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElementComparator=e.clampRange=e.clampIndex=void 0;var t,r=O(),n=te(),i=I(),a=w();e.clampIndex=function(e,t,r){let n=e.length,i=t>-1?t:n+t%n;return r?r(e,i):i},e.clampRange=function(e,r,n,i){let{length:a=0}=e,s="number"!=typeof r?0:r,o="number"!=typeof n?a:n;return s<0&&(s=(s%a+a)%a),o<0&&(o=(o%a+a)%a),o<s&&(t=s,s=o,o=t),o>a&&(o=a),i?i(e,s,o):[s,o]};var s=a.BigIntAvailable?a.BigInt(0):0,o=e=>e!=e;function u(e,t){return i=>{if(!i||"object"!=typeof i)return!1;switch(i.constructor){case Array:return function(e,t){let r=e.length;if(t.length!==r)return!1;for(let n=-1;++n<r;)if(!e[n](t[n]))return!1;return!0}(e,i);case Map:case n.MapRow:case n.StructRow:return c(e,i,i.keys());case Object:case void 0:return c(e,i,t||Object.keys(i))}return i instanceof r.Vector&&function(e,t){let r=e.length;if(t.length!==r)return!1;for(let n=-1;++n<r;)if(!e[n](t.get(n)))return!1;return!0}(e,i)}}function c(e,t,r){let n=r[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),a=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),s=0,o=e.length,u=a.next(),c=n.next(),l=i.next();for(;s<o&&!c.done&&!l.done&&!u.done&&c.value===l.value&&e[s](u.value);++s,c=n.next(),l=i.next(),u=a.next());return!!(s===o&&c.done&&l.done&&u.done)||(n.return&&n.return(),i.return&&i.return(),a.return&&a.return(),!1)}e.createElementComparator=function e(t){let n=typeof t;if("object"!==n||null===t)return o(t)?o:"bigint"!==n?e=>e===t:e=>s+e===t;if(t instanceof Date){let e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&i.compareArrayLike(t,e):t instanceof Map?function(t){let r=-1,n=[];return t.forEach((t=>n[++r]=e(t))),u(n)}(t):Array.isArray(t)?function(t){let r=[];for(let n=-1,i=t.length;++n<i;)r[n]=e(t[n]);return u(r)}(t):t instanceof r.Vector?function(t){let r=[];for(let n=-1,i=t.length;++n<i;)r[n]=e(t.get(n));return u(r)}(t):function(t){let r=Object.keys(t);if(0===r.length)return()=>!1;let n=[];for(let i=-1,a=r.length;++i<a;)n[i]=e(t[r[i]]);return u(n,r)}(t)}})),ne=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Chunked=void 0;var t=re(),r=P(),n=ae(),i=O(),a=class extends i.AbstractVector{constructor(e,t=[],r=function(e){let t=new Uint32Array((e||[]).length+1),r=t[0]=0,n=t.length;for(let i=0;++i<n;)t[i]=r+=e[i-1].length;return t}(t)){super(),this._nullCount=-1,this._type=e,this._chunks=t,this._chunkOffsets=r,this._length=r[r.length-1],this._numChildren=(this._type.children||[]).length}static flatten(...e){return n.selectChunkArgs(i.Vector,e)}static concat(...e){let t=a.flatten(...e);return new a(t[0].type,t)}get type(){return this._type}get length(){return this._length}get chunks(){return this._chunks}get typeId(){return this._type.typeId}get VectorName(){return`Chunked<${this._type}>`}get data(){return this._chunks[0]?this._chunks[0].data:null}get ArrayType(){return this._type.ArrayType}get numChildren(){return this._numChildren}get stride(){return this._chunks[0]?this._chunks[0].stride:1}get byteLength(){return this._chunks.reduce(((e,t)=>e+t.byteLength),0)}get nullCount(){let e=this._nullCount;return e<0&&(this._nullCount=e=this._chunks.reduce(((e,{nullCount:t})=>e+t),0)),e}get indices(){if(r.DataType.isDictionary(this._type)){if(!this._indices){let e=this._chunks;this._indices=1===e.length?e[0].indices:a.concat(...e.map((e=>e.indices)))}return this._indices}return null}get dictionary(){return r.DataType.isDictionary(this._type)?this._chunks[this._chunks.length-1].data.dictionary:null}*[Symbol.iterator](){for(let e of this._chunks)yield*e}clone(e=this._chunks){return new a(this._type,e)}concat(...e){return this.clone(a.flatten(this,...e))}slice(e,r){return t.clampRange(this,e,r,this._sliceInternal)}getChildAt(e){if(e<0||e>=this._numChildren)return null;let t,r,n,i=this._children||(this._children=[]);return(t=i[e])?t:(r=(this._type.children||[])[e])&&(n=this._chunks.map((t=>t.getChildAt(e))).filter((e=>null!=e)),n.length>0)?i[e]=new a(r.type,n):null}search(e,t){let r=e,n=this._chunkOffsets,i=n.length-1;if(r<0||r>=n[i])return null;if(i<=1)return t?t(this,0,r):[0,r];let a=0,s=0,o=0;do{if(a+1===i)return t?t(this,a,r-s):[a,r-s];o=a+(i-a)/2|0,r>=n[o]?a=o:i=o}while(r<n[i]&&r>=(s=n[a]));return null}isValid(e){return!!this.search(e,this.isValidInternal)}get(e){return this.search(e,this.getInternal)}set(e,t){this.search(e,(({chunks:e},r,n)=>e[r].set(n,t)))}indexOf(e,t){return t&&"number"==typeof t?this.search(t,((t,r,n)=>this.indexOfInternal(t,r,n,e))):this.indexOfInternal(this,0,Math.max(0,t||0),e)}toArray(){let{chunks:e}=this,t=e.length,r=this._type.ArrayType;if(t<=0)return new r(0);if(t<=1)return e[0].toArray();let n=0,i=new Array(t);for(let r=-1;++r<t;)n+=(i[r]=e[r].toArray()).length;r!==i[0].constructor&&(r=i[0].constructor);let a=new r(n),u=r===Array?o:s;for(let e=-1,r=0;++e<t;)r=u(i[e],a,r);return a}getInternal({_chunks:e},t,r){return e[t].get(r)}isValidInternal({_chunks:e},t,r){return e[t].isValid(r)}indexOfInternal({_chunks:e},t,r,n){let i=t-1,a=e.length,s=r,o=0,u=-1;for(;++i<a;){if(~(u=e[i].indexOf(n,s)))return o+u;s=0,o+=e[i].length}return-1}_sliceInternal(e,t,r){let n=[],{chunks:i,_chunkOffsets:a}=e;for(let e=-1,s=i.length;++e<s;){let s=i[e],o=s.length,u=a[e];if(u>=r)break;if(t>=u+o)continue;if(u>=t&&u+o<=r){n.push(s);continue}let c=Math.max(0,t-u),l=Math.min(r-u,o);n.push(s.slice(c,l))}return e.clone(n)}};e.Chunked=a;var s=(e,t,r)=>(t.set(e,r),r+e.length),o=(e,t,r)=>{let n=r;for(let r=-1,i=e.length;++r<i;)t[n++]=e[r];return n}})),ie=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Column=void 0;var t=se(),r=O(),n=ne(),i=class extends n.Chunked{constructor(e,t=[],r){if(t=n.Chunked.flatten(...t),super(e.type,t,r),this._field=e,1===t.length&&!(this instanceof a))return new a(e,t[0],this._chunkOffsets)}static new(...e){let[a,s,...o]=e;"string"!=typeof a&&!(a instanceof t.Field)&&(s=a,a="");let u=n.Chunked.flatten(Array.isArray(s)?[...s,...o]:s instanceof r.Vector?[s,...o]:[r.Vector.new(s,...o)]);if("string"==typeof a){let e=u[0].data.type;a=new t.Field(a,e,!0)}else!a.nullable&&u.some((({nullCount:e})=>e>0))&&(a=a.clone({nullable:!0}));return new i(a,u)}get field(){return this._field}get name(){return this._field.name}get nullable(){return this._field.nullable}get metadata(){return this._field.metadata}clone(e=this._chunks){return new i(this._field,e)}getChildAt(e){if(e<0||e>=this.numChildren)return null;let t,r,n,a=this._children||(this._children=[]);return(t=a[e])?t:(r=(this.type.children||[])[e])&&(n=this._chunks.map((t=>t.getChildAt(e))).filter((e=>null!=e)),n.length>0)?a[e]=new i(r,n):null}};e.Column=i;var a=class extends i{constructor(e,t,r){super(e,[t],r),this._chunk=t}search(e,t){return t?t(this,0,e):[0,e]}isValid(e){return this._chunk.isValid(e)}get(e){return this._chunk.get(e)}set(e,t){this._chunk.set(e,t)}indexOf(e,t){return this._chunk.indexOf(e,t)}}})),ae=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.selectColumnChildrenArgs=e.selectVectorChildrenArgs=e.selectChunkArgs=e.selectFieldArgs=e.selectColumnArgs=e.selectArgs=void 0;var t=E(),r=se(),n=ie(),i=O(),a=P(),s=ne(),o=Array.isArray;function u(e,t,r,n){let i,a=n,s=-1,c=t.length;for(;++s<c;)o(i=t[s])?a=u(e,i,r,a).length:i instanceof e&&(r[a++]=i);return r}function c(e,t,r,n){let i,a=n,u=-1,l=t.length;for(;++u<l;)o(i=t[u])?a=c(e,i,r,a).length:i instanceof s.Chunked?a=c(e,i.chunks,r,a).length:i instanceof e&&(r[a++]=i);return r}function l(e,t,r,n){let a,s=n,c=-1,d=t.length;for(;++c<d;)o(a=t[c])?s=l(e,a,r,s).length:a instanceof e?s=u(i.Vector,a.schema.fields.map(((e,t)=>a.getChildAt(t))),r,s).length:a instanceof i.Vector&&(r[s++]=a);return r}function d(e,t,r,i){let a,s=i,c=-1,l=t.length;for(;++c<l;)o(a=t[c])?s=d(e,a,r,s).length:a instanceof e?s=u(n.Column,a.schema.fields.map(((e,t)=>n.Column.new(e,a.getChildAt(t)))),r,s).length:a instanceof n.Column&&(r[s++]=a);return r}e.selectArgs=(e,t)=>u(e,t,[],0),e.selectColumnArgs=e=>{let[t,r]=h(e,[[],[]]);return r.map(((e,r)=>e instanceof n.Column?n.Column.new(e.field.clone(t[r]),e):e instanceof i.Vector?n.Column.new(t[r],e):n.Column.new(t[r],[])))},e.selectFieldArgs=e=>h(e,[[],[]]),e.selectChunkArgs=(e,t)=>c(e,t,[],0),e.selectVectorChildrenArgs=(e,t)=>l(e,t,[],0),e.selectColumnChildrenArgs=(e,t)=>d(e,t,[],0);var f=(e,[t,r],n)=>(e[0][n]=t,e[1][n]=r,e);function h(e,s){let u,c;switch(c=e.length){case 0:return s;case 1:if(u=s[0],!e[0])return s;if(o(e[0]))return h(e[0],s);e[0]instanceof t.Data||e[0]instanceof i.Vector||e[0]instanceof a.DataType||([u,e]=Object.entries(e[0]).reduce(f,s));break;default:o(u=e[c-1])?e=o(e[0])?e[0]:e.slice(0,c-1):(e=o(e[0])?e[0]:e,u=[])}let l,d,p=-1,y=-1,b=-1,m=e.length,[g,_]=s;for(;++b<m;)d=e[b],d instanceof n.Column&&(_[++y]=d)?g[++p]=d.field.clone(u[b],d.type,!0):(({[b]:l=b}=u),d instanceof a.DataType&&(_[++y]=d)?g[++p]=r.Field.new(l,d,!0):d&&d.type&&(_[++y]=d)&&(d instanceof t.Data&&(_[y]=d=i.Vector.new(d)),g[++p]=r.Field.new(l,d.type,!0)));return s}})),se=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Field=e.Schema=void 0;var t=P(),r=ae(),n=ae(),i=V(),a=class{constructor(e=[],t,r){this.fields=e||[],this.metadata=t||new Map,r||(r=u(e)),this.dictionaries=r}static from(...e){return a.new(e[0],e[1])}static new(...e){return new a(n.selectFieldArgs(e)[0])}get[Symbol.toStringTag](){return"Schema"}toString(){return`Schema<{ ${this.fields.map(((e,t)=>`${t}: ${e}`)).join(", ")} }>`}compareTo(e){return i.instance.compareSchemas(this,e)}select(...e){let t=e.reduce(((e,t)=>(e[t]=!0)&&e),Object.create(null));return new a(this.fields.filter((e=>t[e.name])),this.metadata)}selectAt(...e){return new a(e.map((e=>this.fields[e])).filter(Boolean),this.metadata)}assign(...e){let t=e[0]instanceof a?e[0]:new a(r.selectArgs(s,e)),n=[...this.fields],i=o(o(new Map,this.metadata),t.metadata),c=t.fields.filter((e=>{let t=n.findIndex((t=>t.name===e.name));return!~t||(n[t]=e.clone({metadata:o(o(new Map,n[t].metadata),e.metadata)}))&&!1})),l=u(c,new Map);return new a([...n,...c],i,new Map([...this.dictionaries,...l]))}};e.Schema=a;var s=class{constructor(e,t,r=!1,n){this.name=e,this.type=t,this.nullable=r,this.metadata=n||new Map}static new(...e){let[t,r,n,i]=e;return e[0]&&"object"==typeof e[0]&&(({name:t}=e[0]),void 0===r&&(r=e[0].type),void 0===n&&(n=e[0].nullable),void 0===i&&(i=e[0].metadata)),new s(`${t}`,r,n,i)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}compareTo(e){return i.instance.compareField(this,e)}clone(...e){let[t,r,n,i]=e;return e[0]&&"object"==typeof e[0]?({name:t=this.name,type:r=this.type,nullable:n=this.nullable,metadata:i=this.metadata}=e[0]):[t=this.name,r=this.type,n=this.nullable,i=this.metadata]=e,s.new(t,r,n,i)}};function o(e,t){return new Map([...e||new Map,...t||new Map])}function u(e,r=new Map){for(let n=-1,i=e.length;++n<i;){let i=e[n].type;if(t.DataType.isDictionary(i))if(r.has(i.id)){if(r.get(i.id)!==i.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else r.set(i.id,i.dictionary);i.children&&i.children.length>0&&u(i.children,r)}return r}e.Field=s,a.prototype.fields=null,a.prototype.metadata=null,a.prototype.dictionaries=null,s.prototype.type=null,s.prototype.name=null,s.prototype.nullable=null,s.prototype.metadata=null})),oe=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListBuilder=void 0;var t=ee(),r=se(),n=P(),i=N(),a=j(),s=class extends a.VariableWidthBuilder{constructor(e){super(e),this._run=new t.Run,this._offsets=new i.OffsetsBufferBuilder}addChild(e,t="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new n.List(new r.Field(t,e.type,!0)),this.numChildren-1}clear(){return this._run.clear(),super.clear()}_flushPending(e){let t,r=this._run,n=this._offsets,i=this._setValue,a=0;for([a,t]of e)void 0===t?n.set(a,0):(n.set(a,t.length),i(this,a,r.bind(t)))}};e.ListBuilder=s})),ue=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeListBuilder=void 0;var t=ee(),r=se(),n=j(),i=P(),a=class extends n.Builder{constructor(){super(...arguments),this._run=new t.Run}setValue(e,t){super.setValue(e,this._run.bind(t))}addChild(e,t="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");let n=this.children.push(e);return this.type=new i.FixedSizeList(this.type.listSize,new r.Field(t,e.type,!0)),n}clear(){return this._run.clear(),super.clear()}};e.FixedSizeListBuilder=a})),ce=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapBuilder=void 0;var t=se(),r=P(),n=j(),i=class extends n.VariableWidthBuilder{set(e,t){return super.set(e,t)}setValue(e,t){t=t instanceof Map?t:new Map(Object.entries(t));let r=this._pending||(this._pending=new Map),n=r.get(e);n&&(this._pendingLength-=n.size),this._pendingLength+=t.size,r.set(e,t)}addChild(e,n=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new r.Map_(new t.Field(n,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,r=this._setValue;e.forEach(((e,n)=>{void 0===e?t.set(n,0):(t.set(n,e.size),r(this,n,e))}))}};e.MapBuilder=i})),le=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StructBuilder=void 0;var t=se(),r=j(),n=P(),i=class extends r.Builder{addChild(e,r=`${this.numChildren}`){let i=this.children.push(e);return this.type=new n.Struct([...this.type.children,new t.Field(r,e.type,!0)]),i}};e.StructBuilder=i})),de=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseUnionBuilder=e.SparseUnionBuilder=e.UnionBuilder=void 0;var t=se(),r=N(),n=j(),i=P(),a=class extends n.Builder{constructor(e){super(e),this._typeIds=new r.DataBufferBuilder(new Int8Array(0),1),"function"==typeof e.valueToChildTypeId&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,r){return void 0===r&&(r=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,r),this}setValue(e,t,r){this._typeIds.set(e,r),super.setValue(e,t)}addChild(e,r=`${this.children.length}`){let n=this.children.push(e),{type:{children:a,mode:s,typeIds:o}}=this,u=[...a,new t.Field(r,e.type)];return this.type=new i.Union(s,[...o,n],u),n}_valueToChildTypeId(e,t,r){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}};e.UnionBuilder=a,e.SparseUnionBuilder=class extends a{},e.DenseUnionBuilder=class extends a{constructor(e){super(e),this._offsets=new r.DataBufferBuilder(new Int32Array(0))}setValue(e,t,r){let n=this.type.typeIdToChildIndex[r];return this._offsets.set(e,this.getChildAt(n).length),super.setValue(e,t,r)}}})),fe=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.SetVisitor=void 0;var t=O(),r=U(),n=B(),i=Y(),a=I(),s=F(),o=class extends r.Visitor{};e.SetVisitor=o;var u=(e,t,r)=>{e[t]=r%4294967296|0,e[t+1]=r/4294967296|0},c=(e,t,r,n)=>{let{[r]:i,[r+1]:a}=t;null!=i&&null!=a&&e.set(n.subarray(0,a-i),i)},l=({values:e},t,r)=>{((e,t,r)=>{e[t]=r/864e5|0})(e,t,r.valueOf())},d=({values:e},t,r)=>{u(e,2*t,r.valueOf())},f=({stride:e,values:t},r,n)=>{t[e*r]=n},h=({stride:e,values:t},r,n)=>{t[e*r]=i.float64ToUint16(n)},p=(e,t,r)=>{switch(typeof r){case"bigint":e.values64[t]=r;break;case"number":e.values[t*e.stride]=r;break;default:let n=r,{stride:i,ArrayType:s}=e,o=a.toArrayBufferView(s,n);e.values.set(o.subarray(0,i),i*t)}},y=({values:e},t,r)=>u(e,2*t,r/1e3),b=({values:e},t,r)=>u(e,2*t,r),m=({values:e},t,r)=>((e,t,r)=>{e[t]=1e3*r%4294967296|0,e[t+1]=1e3*r/4294967296|0})(e,2*t,r),g=({values:e},t,r)=>((e,t,r)=>{e[t]=1e6*r%4294967296|0,e[t+1]=1e6*r/4294967296|0})(e,2*t,r),_=({values:e,stride:t},r,n)=>{e[t*r]=n},v=({values:e,stride:t},r,n)=>{e[t*r]=n},T=({values:e},t,r)=>{e.set(r.subarray(0,2),2*t)},w=({values:e},t,r)=>{e.set(r.subarray(0,2),2*t)},S=(e,t,r)=>{let n=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(n);i&&i.set(e.valueOffsets[t],r)},A=(e,t,r)=>{let n=e.typeIdToChildIndex[e.typeIds[t]],i=e.getChildAt(n);i&&i.set(t,r)},D=({values:e},t,r)=>{e.set(r.subarray(0,2),2*t)},M=({values:e},t,r)=>{e[t]=12*r[0]+r[1]%12};o.prototype.visitBool=({offset:e,values:t},r,n)=>{let i=e+r;n?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},o.prototype.visitInt=(e,t,r)=>{e.type.bitWidth<64?f(e,t,r):p(e,t,r)},o.prototype.visitInt8=f,o.prototype.visitInt16=f,o.prototype.visitInt32=f,o.prototype.visitInt64=p,o.prototype.visitUint8=f,o.prototype.visitUint16=f,o.prototype.visitUint32=f,o.prototype.visitUint64=p,o.prototype.visitFloat=(e,t,r)=>{e.type.precision!==s.Precision.HALF?f(e,t,r):h(e,t,r)},o.prototype.visitFloat16=h,o.prototype.visitFloat32=f,o.prototype.visitFloat64=f,o.prototype.visitUtf8=({values:e,valueOffsets:t},r,i)=>{c(e,t,r,n.encodeUtf8(i))},o.prototype.visitBinary=({values:e,valueOffsets:t},r,n)=>c(e,t,r,n),o.prototype.visitFixedSizeBinary=({stride:e,values:t},r,n)=>{t.set(n.subarray(0,e),e*r)},o.prototype.visitDate=(e,t,r)=>{e.type.unit===s.DateUnit.DAY?l(e,t,r):d(e,t,r)},o.prototype.visitDateDay=l,o.prototype.visitDateMillisecond=d,o.prototype.visitTimestamp=(e,t,r)=>{switch(e.type.unit){case s.TimeUnit.SECOND:return y(e,t,r);case s.TimeUnit.MILLISECOND:return b(e,t,r);case s.TimeUnit.MICROSECOND:return m(e,t,r);case s.TimeUnit.NANOSECOND:return g(e,t,r)}},o.prototype.visitTimestampSecond=y,o.prototype.visitTimestampMillisecond=b,o.prototype.visitTimestampMicrosecond=m,o.prototype.visitTimestampNanosecond=g,o.prototype.visitTime=(e,t,r)=>{switch(e.type.unit){case s.TimeUnit.SECOND:return _(e,t,r);case s.TimeUnit.MILLISECOND:return v(e,t,r);case s.TimeUnit.MICROSECOND:return T(e,t,r);case s.TimeUnit.NANOSECOND:return w(e,t,r)}},o.prototype.visitTimeSecond=_,o.prototype.visitTimeMillisecond=v,o.prototype.visitTimeMicrosecond=T,o.prototype.visitTimeNanosecond=w,o.prototype.visitDecimal=({values:e},t,r)=>{e.set(r.subarray(0,4),4*t)},o.prototype.visitList=(e,t,r)=>{let n=e.getChildAt(0),i=e.valueOffsets;for(let e=-1,a=i[t],s=i[t+1];a<s;)n.set(a++,r.get(++e))},o.prototype.visitStruct=(e,r,n)=>{let i=n instanceof Map?((e,t)=>(r,n,i)=>r&&r.set(e,t.get(n.name)))(r,n):n instanceof t.Vector?((e,t)=>(r,n,i)=>r&&r.set(e,t.get(i)))(r,n):Array.isArray(n)?((e,t)=>(r,n,i)=>r&&r.set(e,t[i]))(r,n):((e,t)=>(r,n,i)=>r&&r.set(e,t[n.name]))(r,n);e.type.children.forEach(((t,r)=>i(e.getChildAt(r),t,r)))},o.prototype.visitUnion=(e,t,r)=>{e.type.mode===s.UnionMode.Dense?S(e,t,r):A(e,t,r)},o.prototype.visitDenseUnion=S,o.prototype.visitSparseUnion=A,o.prototype.visitDictionary=(e,t,r)=>{let n=e.getKey(t);null!==n&&e.setValue(n,r)},o.prototype.visitInterval=(e,t,r)=>{e.type.unit===s.IntervalUnit.DAY_TIME?D(e,t,r):M(e,t,r)},o.prototype.visitIntervalDayTime=D,o.prototype.visitIntervalYearMonth=M,o.prototype.visitFixedSizeList=(e,t,r)=>{let n=e.getChildAt(0),{stride:i}=e;for(let e=-1,a=t*i;++e<i;)n.set(a+e,r.get(e))},o.prototype.visitMap=(e,t,r)=>{let n=e.getChildAt(0),i=e.valueOffsets,a=r instanceof Map?[...r]:Object.entries(r);for(let e=-1,r=i[t],s=i[t+1];r<s;)n.set(r++,a[++e])},e.instance=new o})),he=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.GetBuilderCtor=void 0;var t=U(),r=Z(),n=x(),i=k(),a=z(),s=W(),o=H(),u=ue(),c=$(),l=Q(),d=K(),f=oe(),h=ce(),p=C(),y=le(),b=q(),m=J(),g=de(),_=X(),v=class extends t.Visitor{visitNull(){return p.NullBuilder}visitBool(){return n.BoolBuilder}visitInt(){return d.IntBuilder}visitInt8(){return d.Int8Builder}visitInt16(){return d.Int16Builder}visitInt32(){return d.Int32Builder}visitInt64(){return d.Int64Builder}visitUint8(){return d.Uint8Builder}visitUint16(){return d.Uint16Builder}visitUint32(){return d.Uint32Builder}visitUint64(){return d.Uint64Builder}visitFloat(){return c.FloatBuilder}visitFloat16(){return c.Float16Builder}visitFloat32(){return c.Float32Builder}visitFloat64(){return c.Float64Builder}visitUtf8(){return _.Utf8Builder}visitBinary(){return r.BinaryBuilder}visitFixedSizeBinary(){return o.FixedSizeBinaryBuilder}visitDate(){return i.DateBuilder}visitDateDay(){return i.DateDayBuilder}visitDateMillisecond(){return i.DateMillisecondBuilder}visitTimestamp(){return b.TimestampBuilder}visitTimestampSecond(){return b.TimestampSecondBuilder}visitTimestampMillisecond(){return b.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return b.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return b.TimestampNanosecondBuilder}visitTime(){return m.TimeBuilder}visitTimeSecond(){return m.TimeSecondBuilder}visitTimeMillisecond(){return m.TimeMillisecondBuilder}visitTimeMicrosecond(){return m.TimeMicrosecondBuilder}visitTimeNanosecond(){return m.TimeNanosecondBuilder}visitDecimal(){return a.DecimalBuilder}visitList(){return f.ListBuilder}visitStruct(){return y.StructBuilder}visitUnion(){return g.UnionBuilder}visitDenseUnion(){return g.DenseUnionBuilder}visitSparseUnion(){return g.SparseUnionBuilder}visitDictionary(){return s.DictionaryBuilder}visitInterval(){return l.IntervalBuilder}visitIntervalDayTime(){return l.IntervalDayTimeBuilder}visitIntervalYearMonth(){return l.IntervalYearMonthBuilder}visitFixedSizeList(){return u.FixedSizeListBuilder}visitMap(){return h.MapBuilder}};e.GetBuilderCtor=v,e.instance=new v})),pe=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseUnionBuilder=e.SparseUnionBuilder=e.UnionBuilder=e.StructBuilder=e.MapBuilder=e.FixedSizeListBuilder=e.ListBuilder=e.BinaryBuilder=e.Utf8Builder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.NullBuilder=e.BoolBuilder=e.Builder=void 0;var t=j();Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return t.Builder}});var r=x();Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return r.BoolBuilder}});var n=C();Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return n.NullBuilder}});var i=k();Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return i.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return i.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return i.DateMillisecondBuilder}});var a=z();Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return a.DecimalBuilder}});var s=W();Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return s.DictionaryBuilder}});var o=H();Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return o.FixedSizeBinaryBuilder}});var u=$();Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return u.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return u.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return u.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return u.Float64Builder}});var c=K();Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return c.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return c.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return c.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return c.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return c.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return c.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return c.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return c.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return c.Uint64Builder}});var l=J();Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return l.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return l.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return l.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return l.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return l.TimeNanosecondBuilder}});var d=q();Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return d.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return d.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return d.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return d.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return d.TimestampNanosecondBuilder}});var f=Q();Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return f.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return f.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return f.IntervalYearMonthBuilder}});var h=X();Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return h.Utf8Builder}});var p=Z();Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return p.BinaryBuilder}});var y=oe();Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return y.ListBuilder}});var b=ue();Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return b.FixedSizeListBuilder}});var m=ce();Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return m.MapBuilder}});var g=le();Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return g.StructBuilder}});var _=de();Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return _.UnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return _.SparseUnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return _.DenseUnionBuilder}});var v=F(),B=X(),T=j(),w=fe(),I=he();T.Builder.new=function e(t){let r=t.type,n=new(I.instance.getVisitFn(r)())(t);if(r.children&&r.children.length>0){let i=t.children||[],a={nullValues:t.nullValues},s=Array.isArray(i)?(e,t)=>i[t]||a:({name:e})=>i[e]||a;r.children.forEach(((t,r)=>{let{type:i}=t,a=s(t,r);n.children.push(e({...a,type:i}))}))}return n},Object.keys(v.Type).map((e=>v.Type[e])).filter((e=>"number"==typeof e&&e!==v.Type.NONE)).forEach((e=>{I.instance.visit(e).prototype._setValue=w.instance.getVisitFn(e)})),B.Utf8Builder.prototype._setValue=w.instance.visitBinary})),ye=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.org=void 0;var t,r,n,i=A();(function(e){class r{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new r).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):i.org.apache.arrow.flatbuf.MetadataVersion.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new i.org.apache.arrow.flatbuf.Schema).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,r){let n=this.bb.__offset(this.bb_pos,8);return n?(r||new t.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,r){let n=this.bb.__offset(this.bb_pos,10);return n?(r||new t.apache.arrow.flatbuf.Block).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(4)}static addVersion(e,t){e.addFieldInt16(0,t,i.org.apache.arrow.flatbuf.MetadataVersion.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static createFooter(e,t,n,i,a){return r.startFooter(e),r.addVersion(e,t),r.addSchema(e,n),r.addDictionaries(e,i),r.addRecordBatches(e,a),r.endFooter(e)}}e.Footer=r})((n=(r=(t=e.org||(e.org={})).apache||(t.apache={})).arrow||(r.arrow={})).flatbuf||(n.flatbuf={})),function(e){!function(e){!function(e){(e.flatbuf||(e.flatbuf={})).Block=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static createBlock(e,t,r,n){return e.prep(8,24),e.writeInt64(n),e.pad(4),e.writeInt32(r),e.writeInt64(t),e.offset()}}}(e.arrow||(e.arrow={}))}(e.apache||(e.apache={}))}(e.org||(e.org={}))})),be=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileBlock=e.Footer=void 0;var t=ye(),r=_(),n=r.flatbuffers.Long,i=r.flatbuffers.Builder,a=r.flatbuffers.ByteBuffer,s=t.org.apache.arrow.flatbuf.Block,o=t.org.apache.arrow.flatbuf.Footer,u=se(),c=F(),l=I(),d=class{constructor(e,t=c.MetadataVersion.V4,r,n){this.schema=e,this.version=t,r&&(this._recordBatches=r),n&&(this._dictionaryBatches=n)}static decode(e){e=new a(l.toUint8Array(e));let t=o.getRootAsFooter(e),r=u.Schema.decode(t.schema());return new f(r,t)}static encode(e){let t=new i,r=u.Schema.encode(t,e.schema);o.startRecordBatchesVector(t,e.numRecordBatches),[...e.recordBatches()].slice().reverse().forEach((e=>h.encode(t,e)));let n=t.endVector();o.startDictionariesVector(t,e.numDictionaries),[...e.dictionaryBatches()].slice().reverse().forEach((e=>h.encode(t,e)));let a=t.endVector();return o.startFooter(t),o.addSchema(t,r),o.addVersion(t,c.MetadataVersion.V4),o.addRecordBatches(t,n),o.addDictionaries(t,a),o.finishFooterBuffer(t,o.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,r=this.numRecordBatches;++t<r;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,r=this.numDictionaries;++t<r;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}};e.Footer=d;var f=class extends d{constructor(e,t){super(e,t.version()),this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return h.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return h.decode(t)}return null}},h=class{constructor(e,t,r){this.metaDataLength=e,this.offset="number"==typeof r?r:r.low,this.bodyLength="number"==typeof t?t:t.low}static decode(e){return new h(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:r}=t,i=new n(t.offset,0),a=new n(t.bodyLength,0);return s.createBlock(e,i,r,a)}};e.FileBlock=h})),me=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncByteStream=e.ByteStream=e.AsyncByteQueue=void 0;var t=S(),r=B(),n=T(),i=I(),a=w(),s=class extends n.AsyncQueue{write(e){if((e=i.toUint8Array(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?r.decodeUtf8(this.toUint8Array(!0)):this.toUint8Array(!1).then(r.decodeUtf8)}toUint8Array(e=!1){return e?i.joinUint8Arrays(this._values)[0]:(async()=>{let e=[],t=0;for await(let r of this)e.push(r),t+=r.byteLength;return i.joinUint8Arrays(e,t)[0]})()}};e.AsyncByteQueue=s;var o=class{constructor(e){e&&(this.source=new c(t.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};e.ByteStream=o;var u=class{constructor(e){e instanceof u?this.source=e.source:e instanceof s?this.source=new l(t.default.fromAsyncIterable(e)):a.isReadableNodeStream(e)?this.source=new l(t.default.fromNodeStream(e)):a.isReadableDOMStream(e)?this.source=new l(t.default.fromDOMStream(e)):a.isFetchResponse(e)?this.source=new l(t.default.fromDOMStream(e.body)):a.isIterable(e)?this.source=new l(t.default.fromIterable(e)):(a.isPromise(e)||a.isAsyncIterable(e))&&(this.source=new l(t.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}};e.AsyncByteStream=u;var c=class{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||n.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||n.ITERATOR_DONE)}},l=class{constructor(e){this.source=e,this._closedPromise=new Promise((e=>this._closedPromiseResolve=e))}async cancel(e){await this.return(e)}get closed(){return this._closedPromise}async read(e){return(await this.next(e,"read")).value}async peek(e){return(await this.next(e,"peek")).value}async next(e,t="read"){return await this.source.next({cmd:t,size:e})}async throw(e){let t=this.source.throw&&await this.source.throw(e)||n.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)}async return(e){let t=this.source.return&&await this.source.return(e)||n.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)}}})),ge=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncRandomAccessFile=e.RandomAccessFile=void 0;var t=me(),r=I(),n=class extends t.ByteStream{constructor(e,t){super(),this.position=0,this.buffer=r.toUint8Array(e),this.size=void 0===t?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:r}=this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:r,position:n}=this;return t&&n<r?("number"!=typeof e&&(e=1/0),this.position=Math.min(r,n+Math.min(r-n,e)),t.subarray(n,this.position)):null}readAt(e,t){let r=this.buffer,n=Math.min(this.size,e+t);return r?r.subarray(e,n):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}};e.RandomAccessFile=n;var i=class extends t.AsyncByteStream{constructor(e,t){super(),this.position=0,this._handle=e,"number"==typeof t?this.size=t:this._pending=(async()=>{this.size=(await e.stat()).size,delete this._pending})()}async readInt32(e){let{buffer:t,byteOffset:r}=await this.readAt(e,4);return new DataView(t,r).getInt32(0,!0)}async seek(e){return this._pending&&await this._pending,this.position=Math.min(e,this.size),e<this.size}async read(e){this._pending&&await this._pending;let{_handle:t,size:r,position:n}=this;if(t&&n<r){"number"!=typeof e&&(e=1/0);let i=n,a=0,s=0,o=Math.min(r,i+Math.min(r-i,e)),u=new Uint8Array(Math.max(0,(this.position=o)-i));for(;(i+=s)<o&&(a+=s)<u.byteLength;)({bytesRead:s}=await t.read(u,a,u.byteLength-a,i));return u}return null}async readAt(e,t){this._pending&&await this._pending;let{_handle:r,size:n}=this;if(r&&e+t<n){let i=Math.min(n,e+t),a=new Uint8Array(i-e);return(await r.read(a,0,t,e)).buffer}return new Uint8Array(t)}async close(){let e=this._handle;this._handle=null,e&&await e.close()}async throw(e){return await this.close(),{done:!0,value:e}}async return(e){return await this.close(),{done:!0,value:e}}};e.AsyncRandomAccessFile=i})),_e=m((e=>{"use strict";function t(e){return e<0&&(e=4294967295+e+1),`0x${e.toString(16)}`}Object.defineProperty(e,"__esModule",{value:!0}),e.Int128=e.Int64=e.Uint64=e.BaseInt64=void 0;var r=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],n=class{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),r=new Uint32Array([e.buffer[1]>>>16,65535&e.buffer[1],e.buffer[0]>>>16,65535&e.buffer[0]]),n=t[3]*r[3];this.buffer[0]=65535&n;let i=n>>>16;return n=t[2]*r[3],i+=n,n=t[3]*r[2]>>>0,i+=n,this.buffer[0]+=i<<16,this.buffer[1]=i>>>0<n?65536:0,this.buffer[1]+=i>>>16,this.buffer[1]+=t[1]*r[3]+t[2]*r[2]+t[3]*r[1],this.buffer[1]+=t[0]*r[3]+t[1]*r[2]+t[2]*r[1]+t[3]*r[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${t(this.buffer[1])} ${t(this.buffer[0])}`}};e.BaseInt64=n;var i=class extends n{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return i.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return i.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let n=e.length,a=new i(t);for(let t=0;t<n;){let s=8<n-t?8:n-t,o=new i(new Uint32Array([parseInt(e.substr(t,s),10),0])),u=new i(new Uint32Array([r[s],0]));a.times(u),a.plus(o),t+=s}return a}static convertArray(e){let t=new Uint32Array(2*e.length);for(let r=-1,n=e.length;++r<n;)i.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new i(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new i(new Uint32Array(e.buffer)).plus(t)}};e.Uint64=i;var a=class extends n{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=this.buffer[1]<<0,r=e.buffer[1]<<0;return t<r||t===r&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return a.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return a.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let n=e.startsWith("-"),i=e.length,s=new a(t);for(let t=n?1:0;t<i;){let n=8<i-t?8:i-t,o=new a(new Uint32Array([parseInt(e.substr(t,n),10),0])),u=new a(new Uint32Array([r[n],0]));s.times(u),s.plus(o),t+=n}return n?s.negate():s}static convertArray(e){let t=new Uint32Array(2*e.length);for(let r=-1,n=e.length;++r<n;)a.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}static multiply(e,t){return new a(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new a(new Uint32Array(e.buffer)).plus(t)}};e.Int64=a;var s=class{constructor(e){this.buffer=e}high(){return new a(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new a(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(e){let t=new i(new Uint32Array([this.buffer[3],0])),r=new i(new Uint32Array([this.buffer[2],0])),n=new i(new Uint32Array([this.buffer[1],0])),a=new i(new Uint32Array([this.buffer[0],0])),s=new i(new Uint32Array([e.buffer[3],0])),o=new i(new Uint32Array([e.buffer[2],0])),u=new i(new Uint32Array([e.buffer[1],0])),c=new i(new Uint32Array([e.buffer[0],0])),l=i.multiply(a,c);this.buffer[0]=l.low();let d=new i(new Uint32Array([l.high(),0]));return l=i.multiply(n,c),d.plus(l),l=i.multiply(a,u),d.plus(l),this.buffer[1]=d.low(),this.buffer[3]=d.lessThan(l)?1:0,this.buffer[2]=d.high(),new i(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(i.multiply(r,c)).plus(i.multiply(n,u)).plus(i.multiply(a,o)),this.buffer[3]+=i.multiply(t,c).plus(i.multiply(r,u)).plus(i.multiply(n,o)).plus(i.multiply(a,s)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${t(this.buffer[3])} ${t(this.buffer[2])} ${t(this.buffer[1])} ${t(this.buffer[0])}`}static multiply(e,t){return new s(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new s(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return s.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return s.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let n=e.startsWith("-"),i=e.length,a=new s(t);for(let t=n?1:0;t<i;){let n=8<i-t?8:i-t,o=new s(new Uint32Array([parseInt(e.substr(t,n),10),0,0,0])),u=new s(new Uint32Array([r[n],0,0,0]));a.times(u),a.plus(o),t+=n}return n?a.negate():a}static convertArray(e){let t=new Uint32Array(4*e.length);for(let r=-1,n=e.length;++r<n;)s.from(e[r],new Uint32Array(t.buffer,t.byteOffset+16*r,4));return t}};e.Int128=s})),ve=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONVectorLoader=e.VectorLoader=void 0;var t=E(),r=se(),n=P(),i=U(),a=M(),s=B(),o=_e(),u=F(),c=I(),l=class extends i.Visitor{constructor(e,t,r,n){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=r,this.dictionaries=n}visit(e){return super.visit(e instanceof r.Field?e.type:e)}visitNull(e,{length:r}=this.nextFieldNode()){return t.Data.Null(e,0,r)}visitBool(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Bool(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitInt(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Int(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitFloat(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Float(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitUtf8(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Utf8(e,0,r,n,this.readNullBitmap(e,n),this.readOffsets(e),this.readData(e))}visitBinary(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Binary(e,0,r,n,this.readNullBitmap(e,n),this.readOffsets(e),this.readData(e))}visitFixedSizeBinary(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.FixedSizeBinary(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitDate(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Date(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitTimestamp(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Timestamp(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitTime(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Time(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitDecimal(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Decimal(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitList(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.List(e,0,r,n,this.readNullBitmap(e,n),this.readOffsets(e),this.visit(e.children[0]))}visitStruct(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Struct(e,0,r,n,this.readNullBitmap(e,n),this.visitMany(e.children))}visitUnion(e){return e.mode===u.UnionMode.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Union(e,0,r,n,this.readNullBitmap(e,n),this.readTypeIds(e),this.readOffsets(e),this.visitMany(e.children))}visitSparseUnion(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Union(e,0,r,n,this.readNullBitmap(e,n),this.readTypeIds(e),this.visitMany(e.children))}visitDictionary(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Dictionary(e,0,r,n,this.readNullBitmap(e,n),this.readData(e.indices),this.readDictionary(e))}visitInterval(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Interval(e,0,r,n,this.readNullBitmap(e,n),this.readData(e))}visitFixedSizeList(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.FixedSizeList(e,0,r,n,this.readNullBitmap(e,n),this.visit(e.children[0]))}visitMap(e,{length:r,nullCount:n}=this.nextFieldNode()){return t.Data.Map(e,0,r,n,this.readNullBitmap(e,n),this.readOffsets(e),this.visit(e.children[0]))}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,r=this.nextBufferRange()){return t>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+t)}readDictionary(e){return this.dictionaries.get(e.id)}};e.VectorLoader=l,e.JSONVectorLoader=class extends l{constructor(e,t,r,n){super(new Uint8Array(0),t,r,n),this.sources=e}readNullBitmap(e,t,{offset:r}=this.nextBufferRange()){return t<=0?new Uint8Array(0):a.packBools(this.sources[r])}readOffsets(e,{offset:t}=this.nextBufferRange()){return c.toArrayBufferView(Uint8Array,c.toArrayBufferView(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return c.toArrayBufferView(Uint8Array,c.toArrayBufferView(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:r}=this;return n.DataType.isTimestamp(e)||(n.DataType.isInt(e)||n.DataType.isTime(e))&&64===e.bitWidth||n.DataType.isDate(e)&&e.unit===u.DateUnit.MILLISECOND?c.toArrayBufferView(Uint8Array,o.Int64.convertArray(r[t])):n.DataType.isDecimal(e)?c.toArrayBufferView(Uint8Array,o.Int128.convertArray(r[t])):n.DataType.isBinary(e)||n.DataType.isFixedSizeBinary(e)?function(e){let t=e.join(""),r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e>>1]=parseInt(t.substr(e,2),16);return r}(r[t]):n.DataType.isBool(e)?a.packBools(r[t]):n.DataType.isUtf8(e)?s.encodeUtf8(r[t].join("")):c.toArrayBufferView(Uint8Array,c.toArrayBufferView(e.ArrayType,r[t].map((e=>+e))))}}})),Be=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.TypeAssembler=void 0;var t=_().flatbuffers.Long,r=A(),n=U(),i=r.org.apache.arrow.flatbuf.Null,a=r.org.apache.arrow.flatbuf.Int,s=r.org.apache.arrow.flatbuf.FloatingPoint,o=r.org.apache.arrow.flatbuf.Binary,u=r.org.apache.arrow.flatbuf.Bool,c=r.org.apache.arrow.flatbuf.Utf8,l=r.org.apache.arrow.flatbuf.Decimal,d=r.org.apache.arrow.flatbuf.Date,f=r.org.apache.arrow.flatbuf.Time,h=r.org.apache.arrow.flatbuf.Timestamp,p=r.org.apache.arrow.flatbuf.Interval,y=r.org.apache.arrow.flatbuf.List,b=r.org.apache.arrow.flatbuf.Struct_,m=r.org.apache.arrow.flatbuf.Union,g=r.org.apache.arrow.flatbuf.DictionaryEncoding,v=r.org.apache.arrow.flatbuf.FixedSizeBinary,B=r.org.apache.arrow.flatbuf.FixedSizeList,T=r.org.apache.arrow.flatbuf.Map,w=class extends n.Visitor{visit(e,t){return null==e||null==t?void 0:super.visit(e,t)}visitNull(e,t){return i.startNull(t),i.endNull(t)}visitInt(e,t){return a.startInt(t),a.addBitWidth(t,e.bitWidth),a.addIsSigned(t,e.isSigned),a.endInt(t)}visitFloat(e,t){return s.startFloatingPoint(t),s.addPrecision(t,e.precision),s.endFloatingPoint(t)}visitBinary(e,t){return o.startBinary(t),o.endBinary(t)}visitBool(e,t){return u.startBool(t),u.endBool(t)}visitUtf8(e,t){return c.startUtf8(t),c.endUtf8(t)}visitDecimal(e,t){return l.startDecimal(t),l.addScale(t,e.scale),l.addPrecision(t,e.precision),l.endDecimal(t)}visitDate(e,t){return d.startDate(t),d.addUnit(t,e.unit),d.endDate(t)}visitTime(e,t){return f.startTime(t),f.addUnit(t,e.unit),f.addBitWidth(t,e.bitWidth),f.endTime(t)}visitTimestamp(e,t){let r=e.timezone&&t.createString(e.timezone)||void 0;return h.startTimestamp(t),h.addUnit(t,e.unit),void 0!==r&&h.addTimezone(t,r),h.endTimestamp(t)}visitInterval(e,t){return p.startInterval(t),p.addUnit(t,e.unit),p.endInterval(t)}visitList(e,t){return y.startList(t),y.endList(t)}visitStruct(e,t){return b.startStruct_(t),b.endStruct_(t)}visitUnion(e,t){m.startTypeIdsVector(t,e.typeIds.length);let r=m.createTypeIdsVector(t,e.typeIds);return m.startUnion(t),m.addMode(t,e.mode),m.addTypeIds(t,r),m.endUnion(t)}visitDictionary(e,r){let n=this.visit(e.indices,r);return g.startDictionaryEncoding(r),g.addId(r,new t(e.id,0)),g.addIsOrdered(r,e.isOrdered),void 0!==n&&g.addIndexType(r,n),g.endDictionaryEncoding(r)}visitFixedSizeBinary(e,t){return v.startFixedSizeBinary(t),v.addByteWidth(t,e.byteWidth),v.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return B.startFixedSizeList(t),B.addListSize(t,e.listSize),B.endFixedSizeList(t)}visitMap(e,t){return T.startMap(t),T.addKeysSorted(t,e.keysSorted),T.endMap(t)}};e.TypeAssembler=w,e.instance=new w})),Te=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fieldFromJSON=e.dictionaryBatchFromJSON=e.recordBatchFromJSON=e.schemaFromJSON=void 0;var t=se(),r=P(),n=we(),i=F();function a(e){return new n.RecordBatch(e.count,o(e.columns),u(e.columns))}function s(e,r){return(e.children||[]).filter(Boolean).map((e=>t.Field.fromJSON(e,r)))}function o(e){return(e||[]).reduce(((e,t)=>[...e,new n.FieldNode(t.count,c(t.VALIDITY)),...o(t.children)]),[])}function u(e,t=[]){for(let r=-1,i=(e||[]).length;++r<i;){let i=e[r];i.VALIDITY&&t.push(new n.BufferRegion(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new n.BufferRegion(t.length,i.TYPE.length)),i.OFFSET&&t.push(new n.BufferRegion(t.length,i.OFFSET.length)),i.DATA&&t.push(new n.BufferRegion(t.length,i.DATA.length)),t=u(i.children,t)}return t}function c(e){return(e||[]).reduce(((e,t)=>e+ +(0===t)),0)}function l(e){return new Map(Object.entries(e||{}))}function d(e){return new r.Int(e.isSigned,e.bitWidth)}function f(e,t){let n=e.type.name;switch(n){case"NONE":case"null":return new r.Null;case"binary":return new r.Binary;case"utf8":return new r.Utf8;case"bool":return new r.Bool;case"list":return new r.List((t||[])[0]);case"struct":case"struct_":return new r.Struct(t||[])}switch(n){case"int":{let t=e.type;return new r.Int(t.isSigned,t.bitWidth)}case"floatingpoint":{let t=e.type;return new r.Float(i.Precision[t.precision])}case"decimal":{let t=e.type;return new r.Decimal(t.scale,t.precision)}case"date":{let t=e.type;return new r.Date_(i.DateUnit[t.unit])}case"time":{let t=e.type;return new r.Time(i.TimeUnit[t.unit],t.bitWidth)}case"timestamp":{let t=e.type;return new r.Timestamp(i.TimeUnit[t.unit],t.timezone)}case"interval":{let t=e.type;return new r.Interval(i.IntervalUnit[t.unit])}case"union":{let n=e.type;return new r.Union(i.UnionMode[n.mode],n.typeIds||[],t||[])}case"fixedsizebinary":{let t=e.type;return new r.FixedSizeBinary(t.byteWidth)}case"fixedsizelist":{let n=e.type;return new r.FixedSizeList(n.listSize,(t||[])[0])}case"map":{let n=e.type;return new r.Map_((t||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}e.schemaFromJSON=function(e,r=new Map){return new t.Schema(function(e,r){return(e.fields||[]).filter(Boolean).map((e=>t.Field.fromJSON(e,r)))}(e,r),l(e.customMetadata),r)},e.recordBatchFromJSON=a,e.dictionaryBatchFromJSON=function(e){return new n.DictionaryBatch(a(e.data),e.id,e.isDelta)},e.fieldFromJSON=function(e,n){let i,a,o,u,c,h;return n&&(u=e.dictionary)?n.has(i=u.id)?(a=(a=u.indexType)?d(a):new r.Int32,h=new r.Dictionary(n.get(i),a,i,u.isOrdered),o=new t.Field(e.name,h,e.nullable,l(e.customMetadata))):(a=(a=u.indexType)?d(a):new r.Int32,n.set(i,c=f(e,s(e,n))),h=new r.Dictionary(c,a,i,u.isOrdered),o=new t.Field(e.name,h,e.nullable,l(e.customMetadata))):(c=f(e,s(e,n)),o=new t.Field(e.name,c,e.nullable,l(e.customMetadata))),o||null}})),we=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FieldNode=e.BufferRegion=e.DictionaryBatch=e.RecordBatch=e.Message=void 0;var t=_(),r=A(),n=D(),i=se(),a=I(),s=F(),o=Be(),u=Te(),c=t.flatbuffers.Long,l=t.flatbuffers.Builder,d=t.flatbuffers.ByteBuffer,f=r.org.apache.arrow.flatbuf.Type,h=r.org.apache.arrow.flatbuf.Field,p=r.org.apache.arrow.flatbuf.Schema,y=r.org.apache.arrow.flatbuf.Buffer,b=n.org.apache.arrow.flatbuf.Message,m=r.org.apache.arrow.flatbuf.KeyValue,g=n.org.apache.arrow.flatbuf.FieldNode,v=r.org.apache.arrow.flatbuf.Endianness,B=n.org.apache.arrow.flatbuf.RecordBatch,T=n.org.apache.arrow.flatbuf.DictionaryBatch,w=P(),S=class{constructor(e,t,r,n){this._version=t,this._headerType=r,this.body=new Uint8Array(0),n&&(this._createHeader=()=>n),this._bodyLength="number"==typeof e?e:e.low}static fromJSON(e,t){let r=new S(0,s.MetadataVersion.V4,t);return r._createHeader=function(e,t){return()=>{switch(t){case s.MessageHeader.Schema:return i.Schema.fromJSON(e);case s.MessageHeader.RecordBatch:return O.fromJSON(e);case s.MessageHeader.DictionaryBatch:return M.fromJSON(e)}throw new Error(`Unrecognized Message type: { name: ${s.MessageHeader[t]}, type: ${t} }`)}}(e,t),r}static decode(e){e=new d(a.toUint8Array(e));let t=b.getRootAsMessage(e),r=t.bodyLength(),n=t.version(),o=t.headerType(),u=new S(r,n,o);return u._createHeader=function(e,t){return()=>{switch(t){case s.MessageHeader.Schema:return i.Schema.decode(e.header(new p));case s.MessageHeader.RecordBatch:return O.decode(e.header(new B),e.version());case s.MessageHeader.DictionaryBatch:return M.decode(e.header(new T),e.version())}throw new Error(`Unrecognized Message type: { name: ${s.MessageHeader[t]}, type: ${t} }`)}}(t,o),u}static encode(e){let t=new l,r=-1;return e.isSchema()?r=i.Schema.encode(t,e.header()):e.isRecordBatch()?r=O.encode(t,e.header()):e.isDictionaryBatch()&&(r=M.encode(t,e.header())),b.startMessage(t),b.addVersion(t,s.MetadataVersion.V4),b.addHeader(t,r),b.addHeaderType(t,e.headerType),b.addBodyLength(t,new c(e.bodyLength,0)),b.finishMessageBuffer(t,b.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof i.Schema)return new S(0,s.MetadataVersion.V4,s.MessageHeader.Schema,e);if(e instanceof O)return new S(t,s.MetadataVersion.V4,s.MessageHeader.RecordBatch,e);if(e instanceof M)return new S(t,s.MetadataVersion.V4,s.MessageHeader.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===s.MessageHeader.Schema}isRecordBatch(){return this.headerType===s.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===s.MessageHeader.DictionaryBatch}};e.Message=S;var O=class{constructor(e,t,r){this._nodes=t,this._buffers=r,this._length="number"==typeof e?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}};e.RecordBatch=O;var M=class{constructor(e,t,r=!1){this._data=e,this._isDelta=r,this._id="number"==typeof t?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}};e.DictionaryBatch=M;var U=class{constructor(e,t){this.offset="number"==typeof e?e:e.low,this.length="number"==typeof t?t:t.low}};e.BufferRegion=U;var V=class{constructor(e,t){this.length="number"==typeof e?e:e.low,this.nullCount="number"==typeof t?t:t.low}};function E(e,t){let r=[];for(let n,a=-1,s=-1,o=e.childrenLength();++a<o;)(n=e.children(a))&&(r[++s]=i.Field.decode(n,t));return r}function R(e){let t=new Map;if(e)for(let r,n,i=-1,a=0|e.customMetadataLength();++i<a;)(r=e.customMetadata(i))&&null!=(n=r.key())&&t.set(n,r.value());return t}function L(e){return new w.Int(e.isSigned(),e.bitWidth())}function N(e,t){let n=e.typeType();switch(n){case f.NONE:case f.Null:return new w.Null;case f.Binary:return new w.Binary;case f.Utf8:return new w.Utf8;case f.Bool:return new w.Bool;case f.List:return new w.List((t||[])[0]);case f.Struct_:return new w.Struct(t||[])}switch(n){case f.Int:{let t=e.type(new r.org.apache.arrow.flatbuf.Int);return new w.Int(t.isSigned(),t.bitWidth())}case f.FloatingPoint:{let t=e.type(new r.org.apache.arrow.flatbuf.FloatingPoint);return new w.Float(t.precision())}case f.Decimal:{let t=e.type(new r.org.apache.arrow.flatbuf.Decimal);return new w.Decimal(t.scale(),t.precision())}case f.Date:{let t=e.type(new r.org.apache.arrow.flatbuf.Date);return new w.Date_(t.unit())}case f.Time:{let t=e.type(new r.org.apache.arrow.flatbuf.Time);return new w.Time(t.unit(),t.bitWidth())}case f.Timestamp:{let t=e.type(new r.org.apache.arrow.flatbuf.Timestamp);return new w.Timestamp(t.unit(),t.timezone())}case f.Interval:{let t=e.type(new r.org.apache.arrow.flatbuf.Interval);return new w.Interval(t.unit())}case f.Union:{let n=e.type(new r.org.apache.arrow.flatbuf.Union);return new w.Union(n.mode(),n.typeIdsArray()||[],t||[])}case f.FixedSizeBinary:{let t=e.type(new r.org.apache.arrow.flatbuf.FixedSizeBinary);return new w.FixedSizeBinary(t.byteWidth())}case f.FixedSizeList:{let n=e.type(new r.org.apache.arrow.flatbuf.FixedSizeList);return new w.FixedSizeList(n.listSize(),(t||[])[0])}case f.Map:{let n=e.type(new r.org.apache.arrow.flatbuf.Map);return new w.Map_((t||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${f[n]}" (${n})`)}e.FieldNode=V,i.Field.encode=function(e,t){let r=-1,n=-1,a=-1,s=t.type,u=t.typeId;w.DataType.isDictionary(s)?(u=s.dictionary.typeId,a=o.instance.visit(s,e),n=o.instance.visit(s.dictionary,e)):n=o.instance.visit(s,e);let c=(s.children||[]).map((t=>i.Field.encode(e,t))),l=h.createChildrenVector(e,c),d=t.metadata&&t.metadata.size>0?h.createCustomMetadataVector(e,[...t.metadata].map((([t,r])=>{let n=e.createString(`${t}`),i=e.createString(`${r}`);return m.startKeyValue(e),m.addKey(e,n),m.addValue(e,i),m.endKeyValue(e)}))):-1;return t.name&&(r=e.createString(t.name)),h.startField(e),h.addType(e,n),h.addTypeType(e,u),h.addChildren(e,l),h.addNullable(e,!!t.nullable),-1!==r&&h.addName(e,r),-1!==a&&h.addDictionary(e,a),-1!==d&&h.addCustomMetadata(e,d),h.endField(e)},i.Field.decode=function(e,t){let r,n,a,s,o,u;return t&&(u=e.dictionary())?t.has(r=u.id().low)?(s=(s=u.indexType())?L(s):new w.Int32,o=new w.Dictionary(t.get(r),s,r,u.isOrdered()),n=new i.Field(e.name(),o,e.nullable(),R(e))):(s=(s=u.indexType())?L(s):new w.Int32,t.set(r,a=N(e,E(e,t))),o=new w.Dictionary(a,s,r,u.isOrdered()),n=new i.Field(e.name(),o,e.nullable(),R(e))):(a=N(e,E(e,t)),n=new i.Field(e.name(),a,e.nullable(),R(e))),n||null},i.Field.fromJSON=u.fieldFromJSON,i.Schema.encode=function(e,t){let r=t.fields.map((t=>i.Field.encode(e,t)));p.startFieldsVector(e,r.length);let n=p.createFieldsVector(e,r),a=t.metadata&&t.metadata.size>0?p.createCustomMetadataVector(e,[...t.metadata].map((([t,r])=>{let n=e.createString(`${t}`),i=e.createString(`${r}`);return m.startKeyValue(e),m.addKey(e,n),m.addValue(e,i),m.endKeyValue(e)}))):-1;return p.startSchema(e),p.addFields(e,n),p.addEndianness(e,j?v.Little:v.Big),-1!==a&&p.addCustomMetadata(e,a),p.endSchema(e)},i.Schema.decode=function(e,t=new Map){let r=function(e,t){let r=[];for(let n,a=-1,s=-1,o=e.fieldsLength();++a<o;)(n=e.fields(a))&&(r[++s]=i.Field.decode(n,t));return r}(e,t);return new i.Schema(r,R(e),t)},i.Schema.fromJSON=u.schemaFromJSON,O.encode=function(e,t){let r=t.nodes||[],n=t.buffers||[];B.startNodesVector(e,r.length),r.slice().reverse().forEach((t=>V.encode(e,t)));let i=e.endVector();B.startBuffersVector(e,n.length),n.slice().reverse().forEach((t=>U.encode(e,t)));let a=e.endVector();return B.startRecordBatch(e),B.addLength(e,new c(t.length,0)),B.addNodes(e,i),B.addBuffers(e,a),B.endRecordBatch(e)},O.decode=function(e,t=s.MetadataVersion.V4){return new O(e.length(),function(e){let t=[];for(let r,n=-1,i=-1,a=e.nodesLength();++n<a;)(r=e.nodes(n))&&(t[++i]=V.decode(r));return t}(e),function(e,t){let r=[];for(let n,i=-1,a=-1,o=e.buffersLength();++i<o;)(n=e.buffers(i))&&(t<s.MetadataVersion.V4&&(n.bb_pos+=8*(i+1)),r[++a]=U.decode(n));return r}(e,t))},O.fromJSON=u.recordBatchFromJSON,M.encode=function(e,t){let r=O.encode(e,t.data);return T.startDictionaryBatch(e),T.addId(e,new c(t.id,0)),T.addIsDelta(e,t.isDelta),T.addData(e,r),T.endDictionaryBatch(e)},M.decode=function(e,t=s.MetadataVersion.V4){return new M(O.decode(e.data(),t),e.id(),e.isDelta())},M.fromJSON=u.dictionaryBatchFromJSON,V.encode=function(e,t){return g.createFieldNode(e,new c(t.length,0),new c(t.nullCount,0))},V.decode=function(e){return new V(e.length(),e.nullCount())},U.encode=function(e,t){return y.createBuffer(e,new c(t.offset,0),new c(t.length,0))},U.decode=function(e){return new U(e.offset(),e.length())};var j=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()})),Ie=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.magicX2AndPadding=e.magicAndPadding=e.magicLength=e.checkForMagicArrowString=e.MAGIC=e.MAGIC_STR=e.PADDING=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=void 0;var t=F(),r=_().flatbuffers.ByteBuffer,n=we(),i=w(),a=ge(),s=I(),o=me(),u=T(),c=e=>`Expected ${t.MessageHeader[e]} Message in stream, but was null or length 0.`,l=e=>`Header pointer of flatbuffer-encoded ${t.MessageHeader[e]} Message is null or length 0.`,d=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,f=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`,h=class{constructor(e){this.source=e instanceof o.ByteStream?e:new o.ByteStream(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||-1===e.value&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?u.ITERATOR_DONE:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(c(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=s.toUint8Array(this.source.read(e));if(t.byteLength<e)throw new Error(f(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let r=t.MessageHeader.Schema,n=this.readMessage(r),i=n&&n.header();if(e&&!i)throw new Error(l(r));return i}readMetadataLength(){let t=this.source.read(e.PADDING),n=t&&new r(t),i=n&&n.readInt32(0)||0;return{done:0===i,value:i}}readMetadata(e){let t=this.source.read(e);if(!t)return u.ITERATOR_DONE;if(t.byteLength<e)throw new Error(d(e,t.byteLength));return{done:!1,value:n.Message.decode(t)}}};e.MessageReader=h;var p=class{constructor(e,t){this.source=e instanceof o.AsyncByteStream?e:i.isFileHandle(e)?new a.AsyncRandomAccessFile(e,t):new o.AsyncByteStream(e)}[Symbol.asyncIterator](){return this}async next(){let e;return(e=await this.readMetadataLength()).done||-1===e.value&&(e=await this.readMetadataLength()).done||(e=await this.readMetadata(e.value)).done?u.ITERATOR_DONE:e}async throw(e){return await this.source.throw(e)}async return(e){return await this.source.return(e)}async readMessage(e){let t;if((t=await this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(c(e));return t.value}async readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=s.toUint8Array(await this.source.read(e));if(t.byteLength<e)throw new Error(f(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}async readSchema(e=!1){let r=t.MessageHeader.Schema,n=await this.readMessage(r),i=n&&n.header();if(e&&!i)throw new Error(l(r));return i}async readMetadataLength(){let t=await this.source.read(e.PADDING),n=t&&new r(t),i=n&&n.readInt32(0)||0;return{done:0===i,value:i}}async readMetadata(e){let t=await this.source.read(e);if(!t)return u.ITERATOR_DONE;if(t.byteLength<e)throw new Error(d(e,t.byteLength));return{done:!1,value:n.Message.decode(t)}}};e.AsyncMessageReader=p,e.JSONMessageReader=class extends h{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof u.ArrowJSON?e:new u.ArrowJSON(e)}next(){let{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:n.Message.fromJSON(e.schema,t.MessageHeader.Schema)};if(this._dictionaryIndex<e.dictionaries.length){let r=e.dictionaries[this._dictionaryIndex++];return this._body=r.data.columns,{done:!1,value:n.Message.fromJSON(r,t.MessageHeader.DictionaryBatch)}}if(this._batchIndex<e.batches.length){let r=e.batches[this._batchIndex++];return this._body=r.columns,{done:!1,value:n.Message.fromJSON(r,t.MessageHeader.RecordBatch)}}return this._body=[],u.ITERATOR_DONE}readMessageBody(e){return function e(t){return(t||[]).reduce(((t,r)=>[...t,...r.VALIDITY&&[r.VALIDITY]||[],...r.TYPE&&[r.TYPE]||[],...r.OFFSET&&[r.OFFSET]||[],...r.DATA&&[r.DATA]||[],...e(r.children)]),[])}(this._body)}readMessage(e){let t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(c(e));return t.value}readSchema(){let e=t.MessageHeader.Schema,r=this.readMessage(e),n=r&&r.header();if(!r||!n)throw new Error(l(e));return n}},e.PADDING=4,e.MAGIC_STR="ARROW1",e.MAGIC=new Uint8Array(e.MAGIC_STR.length);for(let t=0;t<e.MAGIC_STR.length;t+=1)e.MAGIC[t]=e.MAGIC_STR.charCodeAt(t);e.checkForMagicArrowString=function(t,r=0){for(let n=-1,i=e.MAGIC.length;++n<i;)if(e.MAGIC[n]!==t[r+n])return!1;return!0},e.magicLength=e.MAGIC.length,e.magicAndPadding=e.magicLength+e.PADDING,e.magicX2AndPadding=2*e.magicLength+e.PADDING})),Se=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorAssembler=void 0;var t=U(),r=F(),n=it(),i=I(),a=M(),s=ae(),o=we(),u=P(),c=class extends t.Visitor{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=new c,r=s.selectVectorChildrenArgs(n.RecordBatch,e),[i=t]=t.visitMany(r);return i}visit(e){if(!u.DataType.isDictionary(e.type)){let{data:t,length:r,nullCount:n}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");u.DataType.isNull(e.type)||l.call(this,n<=0?new Uint8Array(0):a.truncateBitmap(t.offset,r,t.nullBitmap)),this.nodes.push(new o.FieldNode(r,n))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.indices)}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}};function l(e){let t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new o.BufferRegion(this._byteLength,t)),this._byteLength+=t,this}function d(e){return l.call(this,e.values.subarray(0,e.length*e.stride))}function f(e){let{length:t,values:r,valueOffsets:n}=e,a=n[0],s=n[t],o=Math.min(s-a,r.byteLength-a);return l.call(this,i.rebaseValueOffsets(-n[0],t,n)),l.call(this,r.subarray(a,a+o)),this}function h(e){let{length:t,valueOffsets:r}=e;return r&&l.call(this,i.rebaseValueOffsets(r[0],t,r)),this.visit(e.getChildAt(0))}function p(e){return this.visitMany(e.type.children.map(((t,r)=>e.getChildAt(r))).filter(Boolean))[0]}e.VectorAssembler=c,c.prototype.visitBool=function(e){let t;return e.nullCount>=e.length?l.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?l.call(this,a.truncateBitmap(e.offset,e.length,t)):l.call(this,a.packBools(e))},c.prototype.visitInt=d,c.prototype.visitFloat=d,c.prototype.visitUtf8=f,c.prototype.visitBinary=f,c.prototype.visitFixedSizeBinary=d,c.prototype.visitDate=d,c.prototype.visitTimestamp=d,c.prototype.visitTime=d,c.prototype.visitDecimal=d,c.prototype.visitList=h,c.prototype.visitStruct=p,c.prototype.visitUnion=function(e){let{type:t,length:n,typeIds:a,valueOffsets:s}=e;if(l.call(this,a),t.mode===r.UnionMode.Sparse)return p.call(this,e);if(t.mode===r.UnionMode.Dense){if(e.offset<=0)return l.call(this,s),p.call(this,e);{let r=a.reduce(((e,t)=>Math.max(e,t)),a[0]),o=new Int32Array(r+1),u=new Int32Array(r+1).fill(-1),c=new Int32Array(n),d=i.rebaseValueOffsets(-s[0],n,s);for(let e,t,r=-1;++r<n;)-1===(t=u[e=a[r]])&&(t=u[e]=d[e]),c[r]=d[r]-t,++o[e];l.call(this,c);for(let r,i=-1,a=t.children.length;++i<a;)if(r=e.getChildAt(i)){let e=t.typeIds[i],a=Math.min(n,o[e]);this.visit(r.slice(u[e],a))}}}return this},c.prototype.visitInterval=d,c.prototype.visitFixedSizeList=h,c.prototype.visitMap=h})),Oe=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONTypeAssembler=void 0;var t=U(),r=F(),n=class extends t.Visitor{visit(e){return null==e?void 0:super.visit(e)}visitNull({typeId:e}){return{name:r.ArrowType[e].toLowerCase()}}visitInt({typeId:e,bitWidth:t,isSigned:n}){return{name:r.ArrowType[e].toLowerCase(),bitWidth:t,isSigned:n}}visitFloat({typeId:e,precision:t}){return{name:r.ArrowType[e].toLowerCase(),precision:r.Precision[t]}}visitBinary({typeId:e}){return{name:r.ArrowType[e].toLowerCase()}}visitBool({typeId:e}){return{name:r.ArrowType[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:r.ArrowType[e].toLowerCase()}}visitDecimal({typeId:e,scale:t,precision:n}){return{name:r.ArrowType[e].toLowerCase(),scale:t,precision:n}}visitDate({typeId:e,unit:t}){return{name:r.ArrowType[e].toLowerCase(),unit:r.DateUnit[t]}}visitTime({typeId:e,unit:t,bitWidth:n}){return{name:r.ArrowType[e].toLowerCase(),unit:r.TimeUnit[t],bitWidth:n}}visitTimestamp({typeId:e,timezone:t,unit:n}){return{name:r.ArrowType[e].toLowerCase(),unit:r.TimeUnit[n],timezone:t}}visitInterval({typeId:e,unit:t}){return{name:r.ArrowType[e].toLowerCase(),unit:r.IntervalUnit[t]}}visitList({typeId:e}){return{name:r.ArrowType[e].toLowerCase()}}visitStruct({typeId:e}){return{name:r.ArrowType[e].toLowerCase()}}visitUnion({typeId:e,mode:t,typeIds:n}){return{name:r.ArrowType[e].toLowerCase(),mode:r.UnionMode[t],typeIds:[...n]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:t}){return{name:r.ArrowType[e].toLowerCase(),byteWidth:t}}visitFixedSizeList({typeId:e,listSize:t}){return{name:r.ArrowType[e].toLowerCase(),listSize:t}}visitMap({typeId:e,keysSorted:t}){return{name:r.ArrowType[e].toLowerCase(),keysSorted:t}}};e.JSONTypeAssembler=n})),Ae=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONVectorAssembler=void 0;var t=G(),r=ie(),n=O(),i=U(),a=F(),s=it(),o=F(),u=M(),c=ae(),l=P(),d=class extends i.Visitor{static assemble(...e){return(new d).visitMany(c.selectColumnChildrenArgs(s.RecordBatch,e))}visit(e){let{data:t,name:r,length:i}=e,{offset:s,nullCount:o,nullBitmap:c}=t,d=l.DataType.isDictionary(e.type)?e.type.indices:e.type,f=Object.assign([],t.buffers,{[a.BufferType.VALIDITY]:void 0});return{name:r,count:i,VALIDITY:l.DataType.isNull(d)?void 0:o<=0?Array.from({length:i},(()=>1)):[...u.iterateBits(c,s,i,null,u.getBit)],...super.visit(n.Vector.new(t.clone(d,s,i,0,f)))}}visitNull(){return{}}visitBool({values:e,offset:t,length:r}){return{DATA:[...u.iterateBits(e,t,r,null,u.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...h(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...e],OFFSET:[...e.valueOffsets]}}visitBinary(e){return{DATA:[...f(e)],OFFSET:[...e.valueOffsets]}}visitFixedSizeBinary(e){return{DATA:[...f(e)]}}visitDate(e){return{DATA:e.type.unit===o.DateUnit.DAY?[...e.values]:[...h(e.values,2)]}}visitTimestamp(e){return{DATA:[...h(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<o.TimeUnit.MICROSECOND?[...e.values]:[...h(e.values,2)]}}visitDecimal(e){return{DATA:[...h(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map(((t,n)=>this.visit(new r.Column(t,[e.getChildAt(n)]))))}}visitStruct(e){return{children:e.type.children.map(((t,n)=>this.visit(new r.Column(t,[e.getChildAt(n)]))))}}visitUnion(e){return{TYPE:[...e.typeIds],OFFSET:e.type.mode===o.UnionMode.Dense?[...e.valueOffsets]:void 0,children:e.type.children.map(((t,n)=>this.visit(new r.Column(t,[e.getChildAt(n)]))))}}visitInterval(e){return{DATA:[...e.values]}}visitFixedSizeList(e){return{children:e.type.children.map(((t,n)=>this.visit(new r.Column(t,[e.getChildAt(n)]))))}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:e.type.children.map(((t,n)=>this.visit(new r.Column(t,[e.getChildAt(n)]))))}}};function*f(e){for(let t of e)yield t.reduce(((e,t)=>`${e}${("0"+(255&t).toString(16)).slice(-2)}`),"").toUpperCase()}function*h(e,r){for(let n=-1,i=e.length/r;++n<i;)yield`${t.BN.new(e.subarray((n+0)*r,(n+1)*r),!1)}`}e.JSONVectorAssembler=d})),De=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RecordBatchJSONWriter=e.RecordBatchFileWriter=e.RecordBatchStreamWriter=e.RecordBatchWriter=void 0;var t=nt(),r=Ie(),n=ie(),i=P(),a=se(),s=we(),o=we(),u=be(),c=F(),l=me(),d=Se(),f=Oe(),h=Ae(),p=I(),y=it(),b=T(),m=w(),g=class extends b.ReadableInterop{constructor(e){super(),this._position=0,this._started=!1,this._sink=new l.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,m.isObject(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!=typeof e.autoDestroy||e.autoDestroy,this._writeLegacyIpcFormat="boolean"==typeof e.writeLegacyIpcFormat&&e.writeLegacyIpcFormat}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return m.isPromise(e)?e.then((e=>this.writeAll(e))):m.isAsyncIterable(e)?O(this,e):S(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof l.AsyncByteQueue?this._sink=e:(this._sink=new l.AsyncByteQueue,e&&m.isWritableDOMStream(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&m.isWritableNodeStream(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!t.compareTo(this._schema))&&(null===t?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let r=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==e)return this.finish()&&void 0;if(e instanceof t.Table&&!(r=e.schema))return this.finish()&&void 0;if(e instanceof y.RecordBatch&&!(r=e.schema))return this.finish()&&void 0;if(r&&!r.compareTo(this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,r)}e instanceof y.RecordBatch?e instanceof y._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof t.Table?this.writeAll(e.chunks):m.isIterable(e)&&this.writeAll(e)}_writeMessage(e,t=8){let r=t-1,n=s.Message.encode(e),i=n.byteLength,a=this._writeLegacyIpcFormat?4:8,o=i+a+r&~r,l=o-i-a;return e.headerType===c.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new u.FileBlock(o,e.bodyLength,this._position)):e.headerType===c.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new u.FileBlock(o,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(o-a)),i>0&&this._write(n),this._writePadding(l)}_write(e){if(this._started){let t=p.toUint8Array(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(s.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(r.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:r,bufferRegions:n,buffers:i}=d.VectorAssembler.assemble(e),a=new o.RecordBatch(e.length,r,n),u=s.Message.from(a,t);return this._writeDictionaries(e)._writeMessage(u)._writeBodyBuffers(i)}_writeDictionaryBatch(e,t,r=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:n,nodes:i,bufferRegions:a,buffers:u}=d.VectorAssembler.assemble(e),c=new o.RecordBatch(e.length,i,a),l=new o.DictionaryBatch(c,t,r),f=s.Message.from(l,n);return this._writeMessage(f)._writeBodyBuffers(u)}_writeBodyBuffers(e){let t,r,n;for(let i=-1,a=e.length;++i<a;)(t=e[i])&&(r=t.byteLength)>0&&(this._write(t),(n=(r+7&-8)-r)>0&&this._writePadding(n));return this}_writeDictionaries(e){for(let[t,r]of e.dictionaries){let e=this._dictionaryDeltaOffsets.get(t)||0;if(0===e||(r=r.slice(e)).length>0){let n="chunks"in r?r.chunks:[r];for(let r of n)this._writeDictionaryBatch(r,t,e>0),e+=r.length}}return this}};e.RecordBatchWriter=g;var _=class extends g{static writeAll(e,t){let r=new _(t);return m.isPromise(e)?e.then((e=>r.writeAll(e))):m.isAsyncIterable(e)?O(r,e):S(r,e)}};e.RecordBatchStreamWriter=_;var v=class extends g{static writeAll(e){let t=new v;return m.isPromise(e)?e.then((e=>t.writeAll(e))):m.isAsyncIterable(e)?O(t,e):S(t,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=u.Footer.encode(new u.Footer(e,c.MetadataVersion.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}};e.RecordBatchFileWriter=v;var B=class extends g{constructor(){super(),this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}static writeAll(e){return(new B).writeAll(e)}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{\n  "schema": ${JSON.stringify({fields:e.fields.map(A)},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,t,r=!1){return this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0)),this._write(0===this._dictionaryBlocks.length?"    ":",\n    "),this._write(`${function(e,t,r=!1){let i=new a.Field(`${t}`,e.type,e.nullCount>0),s=h.JSONVectorAssembler.assemble(new n.Column(i,[e]));return JSON.stringify({id:t,isDelta:r,data:{count:e.length,columns:s}},null,2)}(e,t,r)}`),this._dictionaryBlocks.push(new u.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(',\n  "dictionaries": [\n');for(let e of this._dictionaries)super._writeDictionaries(e);this._write("\n  ]")}if(this._recordBatches.length>0){for(let t=-1,r=this._recordBatches.length;++t<r;)this._write(0===t?',\n  "batches": [\n    ':",\n    "),this._write(`${e=this._recordBatches[t],JSON.stringify({count:e.length,columns:h.JSONVectorAssembler.assemble(e)},null,2)}`),this._recordBatchBlocks.push(new u.FileBlock(0,0,0));this._write("\n  ]")}var e;return this._schema&&this._write("\n}"),this._dictionaries=[],this._recordBatches=[],super.close()}};function S(e,r){let n=r;r instanceof t.Table&&(n=r.chunks,e.reset(void 0,r.schema));for(let t of n)e.write(t);return e.finish()}async function O(e,t){for await(let r of t)e.write(r);return e.finish()}function A({name:e,type:t,nullable:r}){let n=new f.JSONTypeAssembler;return{name:e,nullable:r,type:n.visit(t),children:(t.children||[]).map(A),dictionary:i.DataType.isDictionary(t)?{id:t.id,isOrdered:t.isOrdered,indexType:n.visit(t.indices)}:void 0}}e.RecordBatchJSONWriter=B})),Fe=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.distributeVectorsIntoRecordBatches=e.distributeColumnsIntoRecordBatches=e.ensureSameLengthData=void 0;var t=E(),r=se(),n=ne(),i=it(),a=new Uint8Array(0),s=e=>[a,a,new Uint8Array(e),a];function o(e,t){return function(e,t){let n,a=[...e.fields],s=[],o={numBatches:t.reduce(((e,t)=>Math.max(e,t.length)),0)},c=0,l=0,d=-1,f=t.length,h=[];for(;o.numBatches-- >0;){for(l=Number.POSITIVE_INFINITY,d=-1;++d<f;)h[d]=n=t[d].shift(),l=Math.min(l,n?n.length:l);isFinite(l)&&(h=u(a,l,h,t,o),l>0&&(s[c++]=[l,h.slice()]))}return[e=new r.Schema(a,e.metadata),s.map((t=>new i.RecordBatch(e,...t)))]}(e,t.map((e=>e instanceof n.Chunked?e.chunks.map((e=>e.data)):[e.data])))}function u(e,r,n,i,a){let o,u,c=0,l=-1,d=i.length,f=(r+63&-64)>>3;for(;++l<d;)(o=n[l])&&(c=o.length)>=r?c===r?n[l]=o:(n[l]=o.slice(0,r),o=o.slice(r,c-r),a.numBatches=Math.max(a.numBatches,i[l].unshift(o))):((u=e[l]).nullable||(e[l]=u.clone({nullable:!0})),n[l]=o?o._changeLengthAndBackfillNullBitmap(r):t.Data.new(u.type,0,r,r,s(f)));return n}e.ensureSameLengthData=function(e,n,i=n.reduce(((e,t)=>Math.max(e,t.length)),0)){let a,o,u=-1,c=n.length,l=[...e.fields],d=[],f=(i+63&-64)>>3;for(;++u<c;)(a=n[u])&&a.length===i?d[u]=a:((o=l[u]).nullable||(l[u]=l[u].clone({nullable:!0})),d[u]=a?a._changeLengthAndBackfillNullBitmap(i):t.Data.new(o.type,0,i,i,s(f)));return[new r.Schema(l),i,d]},e.distributeColumnsIntoRecordBatches=function(e){return o(new r.Schema(e.map((({field:e})=>e))),e)},e.distributeVectorsIntoRecordBatches=o})),Me=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVector=void 0;var t=F(),r=ne(),n=re(),i=O(),a=class extends i.AbstractVector{constructor(e,t){super(),this._children=t,this.numChildren=e.childData.length,this._bindDataAccessors(this.data=e)}get type(){return this.data.type}get typeId(){return this.data.typeId}get length(){return this.data.length}get offset(){return this.data.offset}get stride(){return this.data.stride}get nullCount(){return this.data.nullCount}get byteLength(){return this.data.byteLength}get VectorName(){return`${t.Type[this.typeId]}Vector`}get ArrayType(){return this.type.ArrayType}get values(){return this.data.values}get typeIds(){return this.data.typeIds}get nullBitmap(){return this.data.nullBitmap}get valueOffsets(){return this.data.valueOffsets}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}clone(e,t=this._children){return i.Vector.new(e,t)}concat(...e){return r.Chunked.concat(this,...e)}slice(e,t){return n.clampRange(this,e,t,this._sliceInternal)}isValid(e){if(this.nullCount>0){let t=this.offset+e;return 0!=(this.nullBitmap[t>>3]&1<<t%8)}return!0}getChildAt(e){return e<0||e>=this.numChildren?null:(this._children||(this._children=[]))[e]||(this._children[e]=i.Vector.new(this.data.childData[e]))}toJSON(){return[...this]}_sliceInternal(e,t,r){return e.clone(e.data.slice(t,r-t),null)}_bindDataAccessors(e){}};e.BaseVector=a,a.prototype[Symbol.isConcatSpreadable]=!0})),Ue=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryVector=void 0;var t=O(),r=Me(),n=P(),i=class extends r.BaseVector{asUtf8(){return t.Vector.new(this.data.clone(new n.Utf8))}};e.BinaryVector=i})),Ve=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BoolVector=void 0;var t=P(),r=Me(),n=rt(),i=class extends r.BaseVector{static from(e){return n.vectorFromValuesWithType((()=>new t.Bool),e)}};e.BoolVector=i})),Pe=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateMillisecondVector=e.DateDayVector=e.DateVector=void 0;var t=F(),r=Me(),n=rt(),i=P(),a=class extends r.BaseVector{static from(...e){return 2===e.length?n.vectorFromValuesWithType((()=>e[1]===t.DateUnit.DAY?new i.DateDay:new i.DateMillisecond),e[0]):n.vectorFromValuesWithType((()=>new i.DateMillisecond),e[0])}};e.DateVector=a,e.DateDayVector=class extends a{},e.DateMillisecondVector=class extends a{}})),Ee=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecimalVector=void 0;var t=Me(),r=class extends t.BaseVector{};e.DecimalVector=r})),Re=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DictionaryVector=void 0;var t=E(),r=O(),n=Me(),i=rt(),a=P(),s=class extends n.BaseVector{constructor(e){super(e),this.indices=r.Vector.new(e.clone(this.type.indices))}static from(...e){if(3===e.length){let[n,i,s]=e,o=new a.Dictionary(n.type,i,null,null);return r.Vector.new(t.Data.Dictionary(o,0,s.length,0,null,s,n))}return i.vectorFromValuesWithType((()=>e[0].type),e[0])}get dictionary(){return this.data.dictionary}reverseLookup(e){return this.dictionary.indexOf(e)}getKey(e){return this.indices.get(e)}getValue(e){return this.dictionary.get(e)}setKey(e,t){return this.indices.set(e,t)}setValue(e,t){return this.dictionary.set(e,t)}};e.DictionaryVector=s,s.prototype.indices=null})),Le=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeBinaryVector=void 0;var t=Me(),r=class extends t.BaseVector{};e.FixedSizeBinaryVector=r})),Ne=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedSizeListVector=void 0;var t=Me(),r=class extends t.BaseVector{};e.FixedSizeListVector=r})),je=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=void 0;var t=E(),r=O(),n=Me(),i=rt(),a=P(),s=class extends n.BaseVector{static from(e){let n=f(this);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){let i=d(e.constructor)||n;if(null===n&&(n=i),n&&n===i){let i=new n,a=e.byteLength/i.ArrayType.BYTES_PER_ELEMENT;if(!l(n,e.constructor))return r.Vector.new(t.Data.Float(i,0,a,0,null,e))}}if(n)return i.vectorFromValuesWithType((()=>new n),e);throw e instanceof DataView||e instanceof ArrayBuffer?new TypeError(`Cannot infer float type from instance of ${e.constructor.name}`):new TypeError("Unrecognized FloatVector input")}};e.FloatVector=s;var o=class extends s{toFloat32Array(){return new Float32Array(this)}toFloat64Array(){return new Float64Array(this)}};e.Float16Vector=o;var u=class extends s{};e.Float32Vector=u;var c=class extends s{};e.Float64Vector=c;var l=(e,t)=>e===a.Float16&&t!==Uint16Array,d=e=>{switch(e){case Uint16Array:return a.Float16;case Float32Array:return a.Float32;case Float64Array:return a.Float64;default:return null}},f=e=>{switch(e){case o:return a.Float16;case u:return a.Float32;case c:return a.Float64;default:return null}}})),xe=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=void 0;var t=Me(),r=class extends t.BaseVector{};e.IntervalVector=r,e.IntervalDayTimeVector=class extends r{},e.IntervalYearMonthVector=class extends r{}})),Ce=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=void 0;var t=E(),r=O(),n=Me(),i=rt(),a=w(),s=I(),o=P(),u=class extends n.BaseVector{static from(...e){let[n,a=!1]=e,s=_(this,a);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)){let e=g(n.constructor,a)||s;if(null===s&&(s=e),s&&s===e){let e=new s,i=n.byteLength/e.ArrayType.BYTES_PER_ELEMENT;return m(s,n.constructor)&&(i*=.5),r.Vector.new(t.Data.Int(e,0,i,0,null,n))}}if(s)return i.vectorFromValuesWithType((()=>new s),n);throw n instanceof DataView||n instanceof ArrayBuffer?new TypeError(`Cannot infer integer type from instance of ${n.constructor.name}`):new TypeError("Unrecognized IntVector input")}};e.IntVector=u;var c=class extends u{};e.Int8Vector=c;var l=class extends u{};e.Int16Vector=l;var d=class extends u{};e.Int32Vector=d;var f=class extends u{toBigInt64Array(){return s.toBigInt64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigInt64Array())}};e.Int64Vector=f;var h=class extends u{};e.Uint8Vector=h;var p=class extends u{};e.Uint16Vector=p;var y=class extends u{};e.Uint32Vector=y;var b=class extends u{toBigUint64Array(){return s.toBigUint64Array(this.values)}get values64(){return this._values64||(this._values64=this.toBigUint64Array())}};e.Uint64Vector=b;var m=(e,t)=>!(e!==o.Int64&&e!==o.Uint64||t!==Int32Array&&t!==Uint32Array),g=(e,t)=>{switch(e){case Int8Array:return o.Int8;case Int16Array:return o.Int16;case Int32Array:return t?o.Int64:o.Int32;case a.BigInt64Array:return o.Int64;case Uint8Array:return o.Uint8;case Uint16Array:return o.Uint16;case Uint32Array:return t?o.Uint64:o.Uint32;case a.BigUint64Array:return o.Uint64;default:return null}},_=(e,t)=>{switch(e){case c:return o.Int8;case l:return o.Int16;case d:return t?o.Int64:o.Int32;case f:return o.Int64;case h:return o.Uint8;case p:return o.Uint16;case y:return t?o.Uint64:o.Uint32;case b:return o.Uint64;default:return null}}})),ke=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListVector=void 0;var t=Me(),r=class extends t.BaseVector{};e.ListVector=r})),ze=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapVector=void 0;var t=te(),r=O(),n=Me(),i=P(),a=class extends n.BaseVector{asList(){let e=this.type.children[0];return r.Vector.new(this.data.clone(new i.List(e)))}bind(e){let r=this.getChildAt(0),{[e]:n,[e+1]:i}=this.valueOffsets;return new t.MapRow(r.slice(n,i))}};e.MapVector=a})),We=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullVector=void 0;var t=Me(),r=class extends t.BaseVector{};e.NullVector=r})),He=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StructVector=void 0;var t=te(),r=Me(),n=Symbol.for("rowIndex"),i=class extends r.BaseVector{bind(e){let r=this._row||(this._row=new t.StructRow(this)),i=Object.create(r);return i[n]=e,i}};e.StructVector=i})),Ye=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=void 0;var t=Me(),r=class extends t.BaseVector{};e.TimestampVector=r,e.TimestampSecondVector=class extends r{},e.TimestampMillisecondVector=class extends r{},e.TimestampMicrosecondVector=class extends r{},e.TimestampNanosecondVector=class extends r{}})),$e=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=void 0;var t=Me(),r=class extends t.BaseVector{};e.TimeVector=r,e.TimeSecondVector=class extends r{},e.TimeMillisecondVector=class extends r{},e.TimeMicrosecondVector=class extends r{},e.TimeNanosecondVector=class extends r{}})),Ge=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=void 0;var t=Me(),r=class extends t.BaseVector{get typeIdToChildIndex(){return this.data.type.typeIdToChildIndex}};e.UnionVector=r,e.DenseUnionVector=class extends r{get valueOffsets(){return this.data.valueOffsets}},e.SparseUnionVector=class extends r{}})),Ke=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Utf8Vector=void 0;var t=O(),r=Me(),n=P(),i=rt(),a=class extends r.BaseVector{static from(e){return i.vectorFromValuesWithType((()=>new n.Utf8),e)}asBinary(){return t.Vector.new(this.data.clone(new n.Binary))}};e.Utf8Vector=a})),Je=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.partial2=e.partial1=e.partial0=void 0,e.partial0=function(e){return function(){return e(this)}},e.partial1=function(e){return function(t){return e(this,t)}},e.partial2=function(e){return function(t,r){return e(this,t,r)}}})),qe=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.GetVisitor=void 0;var t=G(),r=U(),n=B(),i=Y(),a=F(),s=class extends r.Visitor{};e.GetVisitor=s;var o=(e,t)=>4294967296*e[t+1]+(e[t]>>>0),u=e=>new Date(e),c=(e,t,r)=>{let{[r]:n,[r+1]:i}=t;return null!=n&&null!=i?e.subarray(n,i):null},l=({values:e},t)=>((e,t)=>u(((e,t)=>864e5*e[t])(e,t)))(e,t),d=({values:e},t)=>((e,t)=>u(o(e,t)))(e,2*t),f=({stride:e,values:t},r)=>t[e*r],h=({stride:e,values:t},r)=>i.uint16ToFloat64(t[e*r]),p=({stride:e,values:r,type:n},i)=>t.BN.new(r.subarray(e*i,e*(i+1)),n.isSigned),y=({values:e},t)=>1e3*o(e,2*t),b=({values:e},t)=>o(e,2*t),m=({values:e},t)=>((e,t)=>e[t+1]/1e3*4294967296+(e[t]>>>0)/1e3)(e,2*t),g=({values:e},t)=>((e,t)=>e[t+1]/1e6*4294967296+(e[t]>>>0)/1e6)(e,2*t),_=({values:e,stride:t},r)=>e[t*r],v=({values:e,stride:t},r)=>e[t*r],T=({values:e},r)=>t.BN.signed(e.subarray(2*r,2*(r+1))),w=({values:e},r)=>t.BN.signed(e.subarray(2*r,2*(r+1))),I=(e,t)=>{let r=e.typeIdToChildIndex[e.typeIds[t]],n=e.getChildAt(r);return n?n.get(e.valueOffsets[t]):null},S=(e,t)=>{let r=e.typeIdToChildIndex[e.typeIds[t]],n=e.getChildAt(r);return n?n.get(t):null},O=({values:e},t)=>e.subarray(2*t,2*(t+1)),A=({values:e},t)=>{let r=e[t],n=new Int32Array(2);return n[0]=r/12|0,n[1]=r%12|0,n};s.prototype.visitNull=(e,t)=>null,s.prototype.visitBool=({offset:e,values:t},r)=>{let n=e+r;return 0!=(t[n>>3]&1<<n%8)},s.prototype.visitInt=(e,t)=>e.type.bitWidth<64?f(e,t):p(e,t),s.prototype.visitInt8=f,s.prototype.visitInt16=f,s.prototype.visitInt32=f,s.prototype.visitInt64=p,s.prototype.visitUint8=f,s.prototype.visitUint16=f,s.prototype.visitUint32=f,s.prototype.visitUint64=p,s.prototype.visitFloat=(e,t)=>e.type.precision!==a.Precision.HALF?f(e,t):h(e,t),s.prototype.visitFloat16=h,s.prototype.visitFloat32=f,s.prototype.visitFloat64=f,s.prototype.visitUtf8=({values:e,valueOffsets:t},r)=>{let i=c(e,t,r);return null!==i?n.decodeUtf8(i):null},s.prototype.visitBinary=({values:e,valueOffsets:t},r)=>c(e,t,r),s.prototype.visitFixedSizeBinary=({stride:e,values:t},r)=>t.subarray(e*r,e*(r+1)),s.prototype.visitDate=(e,t)=>e.type.unit===a.DateUnit.DAY?l(e,t):d(e,t),s.prototype.visitDateDay=l,s.prototype.visitDateMillisecond=d,s.prototype.visitTimestamp=(e,t)=>{switch(e.type.unit){case a.TimeUnit.SECOND:return y(e,t);case a.TimeUnit.MILLISECOND:return b(e,t);case a.TimeUnit.MICROSECOND:return m(e,t);case a.TimeUnit.NANOSECOND:return g(e,t)}},s.prototype.visitTimestampSecond=y,s.prototype.visitTimestampMillisecond=b,s.prototype.visitTimestampMicrosecond=m,s.prototype.visitTimestampNanosecond=g,s.prototype.visitTime=(e,t)=>{switch(e.type.unit){case a.TimeUnit.SECOND:return _(e,t);case a.TimeUnit.MILLISECOND:return v(e,t);case a.TimeUnit.MICROSECOND:return T(e,t);case a.TimeUnit.NANOSECOND:return w(e,t)}},s.prototype.visitTimeSecond=_,s.prototype.visitTimeMillisecond=v,s.prototype.visitTimeMicrosecond=T,s.prototype.visitTimeNanosecond=w,s.prototype.visitDecimal=({values:e},r)=>t.BN.decimal(e.subarray(4*r,4*(r+1))),s.prototype.visitList=(e,t)=>{let r=e.getChildAt(0),{valueOffsets:n,stride:i}=e;return r.slice(n[t*i],n[t*i+1])},s.prototype.visitStruct=(e,t)=>e.bind(t),s.prototype.visitUnion=(e,t)=>e.type.mode===a.UnionMode.Dense?I(e,t):S(e,t),s.prototype.visitDenseUnion=I,s.prototype.visitSparseUnion=S,s.prototype.visitDictionary=(e,t)=>e.getValue(e.getKey(t)),s.prototype.visitInterval=(e,t)=>e.type.unit===a.IntervalUnit.DAY_TIME?O(e,t):A(e,t),s.prototype.visitIntervalDayTime=O,s.prototype.visitIntervalYearMonth=A,s.prototype.visitFixedSizeList=(e,t)=>{let r=e.getChildAt(0),{stride:n}=e;return r.slice(t*n,(t+1)*n)},s.prototype.visitMap=(e,t)=>e.bind(t),e.instance=new s})),Qe=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.IndexOfVisitor=void 0;var t=U(),r=M(),n=re(),i=class extends t.Visitor{};function a(e,t,i){if(void 0===t)return-1;if(null===t)return function(e,t){let{nullBitmap:n}=e.data;if(!n||e.nullCount<=0)return-1;let i=0;for(let a of r.iterateBits(n,e.data.offset+(t||0),e.length,n,r.getBool)){if(!a)return i;++i}return-1}(e,i);let a=n.createElementComparator(t);for(let t=(i||0)-1,r=e.length;++t<r;)if(a(e.get(t)))return t;return-1}function s(e,t,r){let i=n.createElementComparator(t);for(let t=(r||0)-1,n=e.length;++t<n;)if(i(e.get(t)))return t;return-1}e.IndexOfVisitor=i,i.prototype.visitNull=function(e,t){return null===t&&e.length>0?0:-1},i.prototype.visitBool=a,i.prototype.visitInt=a,i.prototype.visitInt8=a,i.prototype.visitInt16=a,i.prototype.visitInt32=a,i.prototype.visitInt64=a,i.prototype.visitUint8=a,i.prototype.visitUint16=a,i.prototype.visitUint32=a,i.prototype.visitUint64=a,i.prototype.visitFloat=a,i.prototype.visitFloat16=a,i.prototype.visitFloat32=a,i.prototype.visitFloat64=a,i.prototype.visitUtf8=a,i.prototype.visitBinary=a,i.prototype.visitFixedSizeBinary=a,i.prototype.visitDate=a,i.prototype.visitDateDay=a,i.prototype.visitDateMillisecond=a,i.prototype.visitTimestamp=a,i.prototype.visitTimestampSecond=a,i.prototype.visitTimestampMillisecond=a,i.prototype.visitTimestampMicrosecond=a,i.prototype.visitTimestampNanosecond=a,i.prototype.visitTime=a,i.prototype.visitTimeSecond=a,i.prototype.visitTimeMillisecond=a,i.prototype.visitTimeMicrosecond=a,i.prototype.visitTimeNanosecond=a,i.prototype.visitDecimal=a,i.prototype.visitList=a,i.prototype.visitStruct=a,i.prototype.visitUnion=a,i.prototype.visitDenseUnion=s,i.prototype.visitSparseUnion=s,i.prototype.visitDictionary=a,i.prototype.visitInterval=a,i.prototype.visitIntervalDayTime=a,i.prototype.visitIntervalYearMonth=a,i.prototype.visitFixedSizeList=a,i.prototype.visitMap=a,e.instance=new i})),Ze=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.IteratorVisitor=void 0;var t=F(),r=U(),n=M(),i=qe(),a=class extends r.Visitor{};function s(e){if(e.nullCount>0)return function(e){let t=i.instance.getVisitFn(e);return n.iterateBits(e.data.nullBitmap,e.data.offset,e.length,e,((e,r,n,i)=>0!=(n&1<<i)?t(e,r):null))}(e);let{type:r,typeId:a,length:s}=e;return 1===e.stride&&(a===t.Type.Timestamp||a===t.Type.Int&&64!==r.bitWidth||a===t.Type.Time&&64!==r.bitWidth||a===t.Type.Float&&r.precision>0)?e.data.values.subarray(0,s)[Symbol.iterator]():function*(t){for(let r=-1;++r<s;)yield t(e,r)}(i.instance.getVisitFn(e))}e.IteratorVisitor=a,a.prototype.visitNull=s,a.prototype.visitBool=s,a.prototype.visitInt=s,a.prototype.visitInt8=s,a.prototype.visitInt16=s,a.prototype.visitInt32=s,a.prototype.visitInt64=s,a.prototype.visitUint8=s,a.prototype.visitUint16=s,a.prototype.visitUint32=s,a.prototype.visitUint64=s,a.prototype.visitFloat=s,a.prototype.visitFloat16=s,a.prototype.visitFloat32=s,a.prototype.visitFloat64=s,a.prototype.visitUtf8=s,a.prototype.visitBinary=s,a.prototype.visitFixedSizeBinary=s,a.prototype.visitDate=s,a.prototype.visitDateDay=s,a.prototype.visitDateMillisecond=s,a.prototype.visitTimestamp=s,a.prototype.visitTimestampSecond=s,a.prototype.visitTimestampMillisecond=s,a.prototype.visitTimestampMicrosecond=s,a.prototype.visitTimestampNanosecond=s,a.prototype.visitTime=s,a.prototype.visitTimeSecond=s,a.prototype.visitTimeMillisecond=s,a.prototype.visitTimeMicrosecond=s,a.prototype.visitTimeNanosecond=s,a.prototype.visitDecimal=s,a.prototype.visitList=s,a.prototype.visitStruct=s,a.prototype.visitUnion=s,a.prototype.visitDenseUnion=s,a.prototype.visitSparseUnion=s,a.prototype.visitDictionary=s,a.prototype.visitInterval=s,a.prototype.visitIntervalDayTime=s,a.prototype.visitIntervalYearMonth=s,a.prototype.visitFixedSizeList=s,a.prototype.visitMap=s,e.instance=new a})),Xe=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.ToArrayVisitor=void 0;var t=F(),r=U(),n=Ze(),i=class extends r.Visitor{};function a(e){let{type:r,length:i,stride:a}=e;switch(r.typeId){case t.Type.Int:case t.Type.Float:case t.Type.Decimal:case t.Type.Time:case t.Type.Timestamp:return e.data.values.subarray(0,i*a)}return[...n.instance.visit(e)]}e.ToArrayVisitor=i,i.prototype.visitNull=a,i.prototype.visitBool=a,i.prototype.visitInt=a,i.prototype.visitInt8=a,i.prototype.visitInt16=a,i.prototype.visitInt32=a,i.prototype.visitInt64=a,i.prototype.visitUint8=a,i.prototype.visitUint16=a,i.prototype.visitUint32=a,i.prototype.visitUint64=a,i.prototype.visitFloat=a,i.prototype.visitFloat16=a,i.prototype.visitFloat32=a,i.prototype.visitFloat64=a,i.prototype.visitUtf8=a,i.prototype.visitBinary=a,i.prototype.visitFixedSizeBinary=a,i.prototype.visitDate=a,i.prototype.visitDateDay=a,i.prototype.visitDateMillisecond=a,i.prototype.visitTimestamp=a,i.prototype.visitTimestampSecond=a,i.prototype.visitTimestampMillisecond=a,i.prototype.visitTimestampMicrosecond=a,i.prototype.visitTimestampNanosecond=a,i.prototype.visitTime=a,i.prototype.visitTimeSecond=a,i.prototype.visitTimeMillisecond=a,i.prototype.visitTimeMicrosecond=a,i.prototype.visitTimeNanosecond=a,i.prototype.visitDecimal=a,i.prototype.visitList=a,i.prototype.visitStruct=a,i.prototype.visitUnion=a,i.prototype.visitDenseUnion=a,i.prototype.visitSparseUnion=a,i.prototype.visitDictionary=a,i.prototype.visitInterval=a,i.prototype.visitIntervalDayTime=a,i.prototype.visitIntervalYearMonth=a,i.prototype.visitFixedSizeList=a,i.prototype.visitMap=a,e.instance=new i})),et=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.ByteWidthVisitor=void 0;var t=U(),r=F(),n=(e,t)=>e+t,i=e=>`Cannot compute the byte width of variable-width column ${e}`,a=class extends t.Visitor{visitNull(e){return 0}visitInt(e){return e.bitWidth/8}visitFloat(e){return e.ArrayType.BYTES_PER_ELEMENT}visitBinary(e){throw new Error(i(e))}visitUtf8(e){throw new Error(i(e))}visitBool(e){return 1/8}visitDecimal(e){return 16}visitDate(e){return 4*(e.unit+1)}visitTime(e){return e.bitWidth/8}visitTimestamp(e){return e.unit===r.TimeUnit.SECOND?4:8}visitInterval(e){return 4*(e.unit+1)}visitList(e){throw new Error(i(e))}visitStruct(e){return this.visitFields(e.children).reduce(n,0)}visitUnion(e){return this.visitFields(e.children).reduce(n,0)}visitFixedSizeBinary(e){return e.byteWidth}visitFixedSizeList(e){return e.listSize*this.visitFields(e.children).reduce(n,0)}visitMap(e){return this.visitFields(e.children).reduce(n,0)}visitDictionary(e){return this.visit(e.indices)}visitFields(e){return(e||[]).map((e=>this.visit(e.type)))}visitSchema(e){return this.visitFields(e.fields).reduce(n,0)}};e.ByteWidthVisitor=a,e.instance=new a})),tt=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instance=e.GetVectorConstructor=void 0;var t=U(),r=Ue(),n=Ve(),i=Pe(),a=Ee(),s=Re(),o=Le(),u=Ne(),c=je(),l=xe(),d=Ce(),f=ke(),h=ze(),p=We(),y=He(),b=Ye(),m=$e(),g=Ge(),_=Ke(),v=class extends t.Visitor{visitNull(){return p.NullVector}visitBool(){return n.BoolVector}visitInt(){return d.IntVector}visitInt8(){return d.Int8Vector}visitInt16(){return d.Int16Vector}visitInt32(){return d.Int32Vector}visitInt64(){return d.Int64Vector}visitUint8(){return d.Uint8Vector}visitUint16(){return d.Uint16Vector}visitUint32(){return d.Uint32Vector}visitUint64(){return d.Uint64Vector}visitFloat(){return c.FloatVector}visitFloat16(){return c.Float16Vector}visitFloat32(){return c.Float32Vector}visitFloat64(){return c.Float64Vector}visitUtf8(){return _.Utf8Vector}visitBinary(){return r.BinaryVector}visitFixedSizeBinary(){return o.FixedSizeBinaryVector}visitDate(){return i.DateVector}visitDateDay(){return i.DateDayVector}visitDateMillisecond(){return i.DateMillisecondVector}visitTimestamp(){return b.TimestampVector}visitTimestampSecond(){return b.TimestampSecondVector}visitTimestampMillisecond(){return b.TimestampMillisecondVector}visitTimestampMicrosecond(){return b.TimestampMicrosecondVector}visitTimestampNanosecond(){return b.TimestampNanosecondVector}visitTime(){return m.TimeVector}visitTimeSecond(){return m.TimeSecondVector}visitTimeMillisecond(){return m.TimeMillisecondVector}visitTimeMicrosecond(){return m.TimeMicrosecondVector}visitTimeNanosecond(){return m.TimeNanosecondVector}visitDecimal(){return a.DecimalVector}visitList(){return f.ListVector}visitStruct(){return y.StructVector}visitUnion(){return g.UnionVector}visitDenseUnion(){return g.DenseUnionVector}visitSparseUnion(){return g.SparseUnionVector}visitDictionary(){return s.DictionaryVector}visitInterval(){return l.IntervalVector}visitIntervalDayTime(){return l.IntervalDayTimeVector}visitIntervalYearMonth(){return l.IntervalYearMonthVector}visitFixedSizeList(){return u.FixedSizeListVector}visitMap(){return h.MapVector}};e.GetVectorConstructor=v,e.instance=new v})),rt=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vectorFromValuesWithType=e.StructRow=e.MapRow=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=void 0;var t=O();Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return t.Vector}});var r=Me();Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return r.BaseVector}});var n=Ue();Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return n.BinaryVector}});var i=Ve();Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return i.BoolVector}});var a=ne();Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return a.Chunked}});var s=Pe();Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return s.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return s.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return s.DateMillisecondVector}});var o=Ee();Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return o.DecimalVector}});var u=Re();Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return u.DictionaryVector}});var c=Le();Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return c.FixedSizeBinaryVector}});var l=Ne();Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return l.FixedSizeListVector}});var d=je();Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return d.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return d.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return d.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return d.Float64Vector}});var f=xe();Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return f.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return f.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return f.IntervalYearMonthVector}});var h=Ce();Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return h.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return h.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return h.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return h.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return h.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return h.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return h.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return h.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return h.Uint64Vector}});var p=ke();Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return p.ListVector}});var y=ze();Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return y.MapVector}});var b=We();Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return b.NullVector}});var m=He();Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return m.StructVector}});var g=Ye();Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return g.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return g.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return g.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return g.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return g.TimestampNanosecondVector}});var _=$e();Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return _.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return _.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return _.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return _.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return _.TimeNanosecondVector}});var v=Ge();Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return v.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return v.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return v.SparseUnionVector}});var B=Ke();Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return B.Utf8Vector}});var T=te();Object.defineProperty(e,"MapRow",{enumerable:!0,get:function(){return T.MapRow}}),Object.defineProperty(e,"StructRow",{enumerable:!0,get:function(){return T.StructRow}});var I=Je(),S=F(),A=O(),D=ne(),U=Me(),V=M(),P=w(),E=j(),R=qe(),L=fe(),N=Qe(),x=Xe(),C=Ze(),k=et(),z=tt();A.Vector.new=function(e,...t){return new(z.instance.getVisitFn(e)())(e,...t)},A.Vector.from=function(e){let{values:t=[],...r}={nullValues:[null,void 0],...e};if(P.isIterable(t)){let e=[...E.Builder.throughIterable(r)(t)];return 1===e.length?e[0]:D.Chunked.concat(e)}return(async e=>{let n=E.Builder.throughAsyncIterable(r);for await(let r of n(t))e.push(r);return 1===e.length?e[0]:D.Chunked.concat(e)})([])},e.vectorFromValuesWithType=function(e,t){if(P.isIterable(t))return A.Vector.from({nullValues:[null,void 0],type:e(),values:t});if(P.isAsyncIterable(t))return A.Vector.from({nullValues:[null,void 0],type:e(),values:t});let{values:r=[],type:n=e(),nullValues:i=[null,void 0]}={...t};return P.isIterable(r),A.Vector.from({nullValues:i,...t,type:n})},U.BaseVector.prototype.get=function(e){return R.instance.visit(this,e)},U.BaseVector.prototype.set=function(e,t){return L.instance.visit(this,e,t)},U.BaseVector.prototype.indexOf=function(e,t){return N.instance.visit(this,e,t)},U.BaseVector.prototype.toArray=function(){return x.instance.visit(this)},U.BaseVector.prototype.getByteWidth=function(){return k.instance.visit(this.type)},U.BaseVector.prototype[Symbol.iterator]=function(){return C.instance.visit(this)},U.BaseVector.prototype._bindDataAccessors=function(){let e=this.nullBitmap;e&&e.byteLength>0&&(this.get=function(e){return function(t){return this.isValid(t)?e.call(this,t):null}}(this.get),this.set=function(e){return function(t,r){V.setBool(this.nullBitmap,this.offset+t,null!=r)&&e.call(this,t,r)}}(this.set))},Object.keys(S.Type).map((e=>S.Type[e])).filter((e=>"number"==typeof e)).filter((e=>e!==S.Type.NONE)).forEach((e=>{let t=z.instance.visit(e);t.prototype.get=I.partial1(R.instance.getVisitFn(e)),t.prototype.set=I.partial2(L.instance.getVisitFn(e)),t.prototype.indexOf=I.partial2(N.instance.getVisitFn(e)),t.prototype.toArray=I.partial0(x.instance.getVisitFn(e)),t.prototype.getByteWidth=function(e){return function(){return e(this.type)}}(k.instance.getVisitFn(e)),t.prototype[Symbol.iterator]=I.partial0(C.instance.getVisitFn(e))}))})),nt=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;var t=ie(),r=se(),n=it(),i=at(),a=P(),s=ae(),o=w(),u=De(),c=Fe(),l=rt(),d=class extends l.Chunked{constructor(...e){let t=null;e[0]instanceof r.Schema&&(t=e.shift());let i=s.selectArgs(n.RecordBatch,e);if(!t&&!(t=i[0]&&i[0].schema))throw new TypeError("Table must be initialized with a Schema or at least one RecordBatch");i[0]||(i[0]=new n._InternalEmptyPlaceholderRecordBatch(t)),super(new a.Struct(t.fields),i),this._schema=t,this._chunks=i}static empty(e=new r.Schema([])){return new d(e,[])}static from(e){if(!e)return d.empty();if("object"==typeof e){let t=o.isIterable(e.values)?function(e){let{type:t}=e;return t instanceof a.Struct?d.fromStruct(l.StructVector.from(e)):null}(e):o.isAsyncIterable(e.values)?function(e){let{type:t}=e;return t instanceof a.Struct?l.StructVector.from(e).then((e=>d.fromStruct(e))):null}(e):null;if(null!==t)return t}let t=i.RecordBatchReader.from(e);return o.isPromise(t)?(async()=>await d.from(await t))():t.isSync()&&(t=t.open())?t.schema?new d(t.schema,[...t]):d.empty():(async e=>{let t=await e,r=t.schema,n=[];if(r){for await(let e of t)n.push(e);return new d(r,n)}return d.empty()})(t.open())}static async fromAsync(e){return await d.from(e)}static fromStruct(e){return d.new(e.data.childData,e.type.children)}static new(...e){return new d(...c.distributeColumnsIntoRecordBatches(s.selectColumnArgs(e)))}get schema(){return this._schema}get length(){return this._length}get chunks(){return this._chunks}get numCols(){return this._numChildren}clone(e=this._chunks){return new d(this._schema,e)}getColumn(e){return this.getColumnAt(this.getColumnIndex(e))}getColumnAt(e){return this.getChildAt(e)}getColumnIndex(e){return this._schema.fields.findIndex((t=>t.name===e))}getChildAt(e){if(e<0||e>=this.numChildren)return null;let r,n,i=this._schema.fields,a=this._children||(this._children=[]);if(n=a[e])return n;if(r=i[e]){let n=this._chunks.map((t=>t.getChildAt(e))).filter((e=>null!=e));if(n.length>0)return a[e]=new t.Column(r,n)}return null}serialize(e="binary",t=!0){return(t?u.RecordBatchStreamWriter:u.RecordBatchFileWriter).writeAll(this).toUint8Array(!0)}count(){return this._length}select(...e){let t=this._schema.fields.reduce(((e,t,r)=>e.set(t.name,r)),new Map);return this.selectAt(...e.map((e=>t.get(e))).filter((e=>e>-1)))}selectAt(...e){let t=this._schema.selectAt(...e);return new d(t,this._chunks.map((({length:r,data:{childData:i}})=>new n.RecordBatch(t,r,e.map((e=>i[e])).filter(Boolean)))))}assign(e){let t=this._schema.fields,[r,n]=e.schema.fields.reduce(((e,r,n)=>{let[i,a]=e,s=t.findIndex((e=>e.name===r.name));return~s?a[s]=n:i.push(n),e}),[[],[]]),i=this._schema.assign(e.schema),a=[...t.map(((t,r,i,a=n[r])=>void 0===a?this.getColumnAt(r):e.getColumnAt(a))),...r.map((t=>e.getColumnAt(t)))].filter(Boolean);return new d(...c.distributeVectorsIntoRecordBatches(i,a))}};e.Table=d})),it=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._InternalEmptyPlaceholderRecordBatch=e.RecordBatch=void 0;var t=E(),r=nt(),n=O(),i=U(),a=se(),s=w(),o=ne(),u=ae(),c=P(),l=Fe(),d=rt(),f=class extends d.StructVector{constructor(...e){let r,n,i=e[0];if(e[1]instanceof t.Data)[,r,n]=e;else{let n=i.fields,[,a,s]=e;r=t.Data.Struct(new c.Struct(n),0,a,0,null,s)}super(r,n),this._schema=i}static from(e){return s.isIterable(e.values),r.Table.from(e)}static new(...e){let[t,r]=u.selectFieldArgs(e),i=r.filter((e=>e instanceof n.Vector));return new f(...l.ensureSameLengthData(new a.Schema(t),i.map((e=>e.data))))}clone(e,t=this._children){return new f(this._schema,e,t)}concat(...e){let t=this._schema,n=o.Chunked.flatten(this,...e);return new r.Table(t,n.map((({data:e})=>new f(t,e))))}get schema(){return this._schema}get numCols(){return this._schema.fields.length}get dictionaries(){return this._dictionaries||(this._dictionaries=h.collect(this))}select(...e){let t=this._schema.fields.reduce(((e,t,r)=>e.set(t.name,r)),new Map);return this.selectAt(...e.map((e=>t.get(e))).filter((e=>e>-1)))}selectAt(...e){let t=this._schema.selectAt(...e),r=e.map((e=>this.data.childData[e])).filter(Boolean);return new f(t,this.length,r)}};e.RecordBatch=f,e._InternalEmptyPlaceholderRecordBatch=class extends f{constructor(e){super(e,0,e.fields.map((e=>t.Data.new(e.type,0,0,0))))}};var h=class extends i.Visitor{constructor(){super(...arguments),this.dictionaries=new Map}static collect(e){return(new h).visit(e.data,new c.Struct(e.schema.fields)).dictionaries}visit(e,t){return c.DataType.isDictionary(t)?this.visitDictionary(e,t):(e.childData.forEach(((e,r)=>this.visit(e,t.children[r].type))),this)}visitDictionary(e,t){let r=e.dictionary;return r&&r.length>0&&this.dictionaries.set(t.id,r),this}}})),at=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncRecordBatchFileReader=e.RecordBatchFileReader=e.AsyncRecordBatchStreamReader=e.RecordBatchStreamReader=e.RecordBatchReader=void 0;var t=O(),r=F(),n=be(),i=S(),a=me(),s=ge(),o=ve(),u=it(),c=T(),l=Ie(),d=w(),f=class extends c.ReadableInterop{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return d.isPromise(t)?t.then((()=>this)):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return i.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return i.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof f?e:d.isArrowJSON(e)?new h(new I(e)):d.isFileHandle(e)?async function(e){let{size:t}=await e.stat(),r=new s.AsyncRandomAccessFile(e,t);return t>=l.magicX2AndPadding&&l.checkForMagicArrowString(await r.readAt(0,l.magicLength+7&-8))?new b(new B(r)):new p(new _(r))}(e):d.isPromise(e)?(async()=>await f.from(await e))():d.isFetchResponse(e)||d.isReadableDOMStream(e)||d.isReadableNodeStream(e)||d.isAsyncIterable(e)?async function(e){let t=await e.peek(l.magicLength+7&-8);return t&&t.byteLength>=4?l.checkForMagicArrowString(t)?new y(new v(await e.read())):new p(new _(e)):new p(new _(async function*(){}()))}(new a.AsyncByteStream(e)):function(e){let t=e.peek(l.magicLength+7&-8);return t&&t.byteLength>=4?l.checkForMagicArrowString(t)?new y(new v(e.read())):new h(new g(e)):new h(new g(function*(){}()))}(new a.ByteStream(e))}static readAll(e){return e instanceof f?e.isSync()?D(e):M(e):d.isArrowJSON(e)||ArrayBuffer.isView(e)||d.isIterable(e)||d.isIteratorResult(e)?D(e):M(e)}};e.RecordBatchReader=f;var h=class extends f{constructor(e){super(e),this._impl=e}[Symbol.iterator](){return this._impl[Symbol.iterator]()}async*[Symbol.asyncIterator](){yield*this[Symbol.iterator]()}};e.RecordBatchStreamReader=h;var p=class extends f{constructor(e){super(e),this._impl=e}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}};e.AsyncRecordBatchStreamReader=p;var y=class extends h{constructor(e){super(e),this._impl=e}};e.RecordBatchFileReader=y;var b=class extends p{constructor(e){super(e),this._impl=e}};e.AsyncRecordBatchFileReader=b;var m=class{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){return new u.RecordBatch(this.schema,e.length,this._loadVectors(e,t,this.schema.fields))}_loadDictionaryBatch(e,r){let{id:n,isDelta:i,data:a}=e,{dictionaries:s,schema:o}=this,u=s.get(n);if(i||!u){let e=o.dictionaries.get(n);return u&&i?u.concat(t.Vector.new(this._loadVectors(a,r,[e])[0])):t.Vector.new(this._loadVectors(a,r,[e])[0])}return u}_loadVectors(e,t,r){return new o.VectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}},g=class extends m{constructor(e,t){super(t),this._reader=d.isArrowJSON(e)?new l.JSONMessageReader(this._handle=e):new l.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=A(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):c.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):c.ITERATOR_DONE}next(){if(this.closed)return c.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),n=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,n)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),n=t.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(r,n);this.dictionaries.set(r.id,i)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new u._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}},_=class extends m{constructor(e,t){super(t),this._reader=new l.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}async cancel(){!this.closed&&(this.closed=!0)&&(await this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}async open(e){return this.closed||(this.autoDestroy=A(this,e),this.schema||(this.schema=await this._reader.readSchema())||await this.cancel()),this}async throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.throw(e):c.ITERATOR_DONE}async return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?await this.reset()._reader.return(e):c.ITERATOR_DONE}async next(){if(this.closed)return c.ITERATOR_DONE;let e,{_reader:t}=this;for(;e=await this._readNextMessageAndValidate();)if(e.isSchema())await this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;let r=e.header(),n=await t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,n)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;let r=e.header(),n=await t.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(r,n);this.dictionaries.set(r.id,i)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new u._InternalEmptyPlaceholderRecordBatch(this.schema)}):await this.return()}async _readNextMessageAndValidate(e){return await this._reader.readMessage(e)}},v=class extends g{constructor(e,t){super(e instanceof s.RandomAccessFile?e:new s.RandomAccessFile(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(let e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){if(this.closed)return null;this._footer||this.open();let t=this._footer&&this._footer.getRecordBatch(e);if(t&&this._handle.seek(t.offset)){let e=this._reader.readMessage(r.MessageHeader.RecordBatch);if(e&&e.isRecordBatch()){let t=e.header(),r=this._reader.readMessageBody(e.bodyLength);return this._loadRecordBatch(t,r)}}return null}_readDictionaryBatch(e){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&this._handle.seek(t.offset)){let e=this._reader.readMessage(r.MessageHeader.DictionaryBatch);if(e&&e.isDictionaryBatch()){let t=e.header(),r=this._reader.readMessageBody(e.bodyLength),n=this._loadDictionaryBatch(t,r);this.dictionaries.set(t.id,n)}}}_readFooter(){let{_handle:e}=this,t=e.size-l.magicAndPadding,r=e.readInt32(t),i=e.readAt(t-r,r);return n.Footer.decode(i)}_readNextMessageAndValidate(e){if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer&&this._footer.getRecordBatch(this._recordBatchIndex);if(t&&this._handle.seek(t.offset))return this._reader.readMessage(e)}return null}},B=class extends _{constructor(e,...t){let r="number"!=typeof t[0]?t.shift():void 0,n=t[0]instanceof Map?t.shift():void 0;super(e instanceof s.AsyncRandomAccessFile?e:new s.AsyncRandomAccessFile(e,r),n)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}async open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=await this._readFooter()).schema;for(let e of this._footer.dictionaryBatches())e&&await this._readDictionaryBatch(this._dictionaryIndex++)}return await super.open(e)}async readRecordBatch(e){if(this.closed)return null;this._footer||await this.open();let t=this._footer&&this._footer.getRecordBatch(e);if(t&&await this._handle.seek(t.offset)){let e=await this._reader.readMessage(r.MessageHeader.RecordBatch);if(e&&e.isRecordBatch()){let t=e.header(),r=await this._reader.readMessageBody(e.bodyLength);return this._loadRecordBatch(t,r)}}return null}async _readDictionaryBatch(e){let t=this._footer&&this._footer.getDictionaryBatch(e);if(t&&await this._handle.seek(t.offset)){let e=await this._reader.readMessage(r.MessageHeader.DictionaryBatch);if(e&&e.isDictionaryBatch()){let t=e.header(),r=await this._reader.readMessageBody(e.bodyLength),n=this._loadDictionaryBatch(t,r);this.dictionaries.set(t.id,n)}}}async _readFooter(){let{_handle:e}=this;e._pending&&await e._pending;let t=e.size-l.magicAndPadding,r=await e.readInt32(t),i=await e.readAt(t-r,r);return n.Footer.decode(i)}async _readNextMessageAndValidate(e){if(this._footer||await this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&await this._handle.seek(t.offset))return await this._reader.readMessage(e)}return null}},I=class extends g{constructor(e,t){super(e,t)}_loadVectors(e,t,r){return new o.JSONVectorLoader(t,e.nodes,e.buffers,this.dictionaries).visitMany(r)}};function A(e,t){return t&&"boolean"==typeof t.autoDestroy?t.autoDestroy:e.autoDestroy}function*D(e){let t=f.from(e);try{if(!t.open({autoDestroy:!1}).closed)do{yield t}while(!t.reset().open().closed)}finally{t.cancel()}}async function*M(e){let t=await f.from(e);try{if(!(await t.open({autoDestroy:!1})).closed)do{yield t}while(!(await t.reset().open()).closed)}finally{await t.cancel()}}})),st=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toDOMStream=void 0;var t=I(),r=w();e.toDOMStream=function(e,n){if(r.isAsyncIterable(e))return function(e,r){let n=null,i=r&&"bytes"===r.type||!1,a=r&&r.highWaterMark||2**24;return new ReadableStream({...r,async start(t){await s(t,n||(n=e[Symbol.asyncIterator]()))},async pull(e){n?await s(e,n):e.close()},async cancel(){n&&n.return&&await n.return(),n=null}},{highWaterMark:i?a:void 0,...r});async function s(e,r){let n,a=null,s=e.desiredSize||null;for(;!(a=await r.next(i?s:null)).done;)if(ArrayBuffer.isView(a.value)&&(n=t.toUint8Array(a.value))&&(null!=s&&i&&(s=s-n.byteLength+1),a.value=n),e.enqueue(a.value),null!=s&&--s<=0)return;e.close()}}(e,n);if(r.isIterable(e))return function(e,r){let n=null,i=r&&"bytes"===r.type||!1,a=r&&r.highWaterMark||2**24;return new ReadableStream({...r,start(t){s(t,n||(n=e[Symbol.iterator]()))},pull(e){n?s(e,n):e.close()},cancel(){n&&n.return&&n.return(),n=null}},{highWaterMark:i?a:void 0,...r});function s(e,r){let n,a=null,s=e.desiredSize||null;for(;!(a=r.next(i?s:null)).done;)if(ArrayBuffer.isView(a.value)&&(n=t.toUint8Array(a.value))&&(null!=s&&i&&(s=s-n.byteLength+1),a.value=n),e.enqueue(a.value),null!=s&&--s<=0)return;e.close()}}(e,n);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}})),ot=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BuilderTransform=e.builderThroughDOMStream=void 0;var t=pe();e.builderThroughDOMStream=function(e){return new r(e)};var r=class{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;let{readableStrategy:r,writableStrategy:a,queueingStrategy:s="count",...o}=e;this._controller=null,this._builder=t.Builder.new(o),this._getSize="bytes"!==s?n:i;let{highWaterMark:u=("bytes"===s?16384:1e3)}={...r},{highWaterMark:c=("bytes"===s?16384:1e3)}={...a};this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:e=>{this._maybeFlush(this._builder,this._controller=e)},start:e=>{this._maybeFlush(this._builder,this._controller=e)}},{highWaterMark:u,size:"bytes"!==s?n:i}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:c,size:e=>this._writeValueAndReturnChunkSize(e)})}_writeValueAndReturnChunkSize(e){let t=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-t}_maybeFlush(e,t){null!==t&&(this._bufferedSize>=t.desiredSize&&++this._numChunks&&this._enqueue(t,e.toVector()),e.finished&&((e.length>0||0===this._numChunks)&&++this._numChunks&&this._enqueue(t,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(t,null)))}_enqueue(e,t){this._bufferedSize=0,this._controller=null,null===t?e.close():e.enqueue(t)}};e.BuilderTransform=r;var n=e=>e.length,i=e=>e.byteLength})),ut=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recordBatchReaderThroughDOMStream=void 0;var t=me(),r=at();e.recordBatchReaderThroughDOMStream=function(e,n){let i=new t.AsyncByteQueue,a=null,s=new ReadableStream({async cancel(){await i.close()},async start(e){await o(e,a||(a=await async function(){return await(await r.RecordBatchReader.from(i)).open(n)}()))},async pull(e){a?await o(e,a):e.close()}});return{writable:new WritableStream(i,{highWaterMark:16384,...e}),readable:s};async function o(e,t){let r=e.desiredSize,n=null;for(;!(n=await t.next()).done;)if(e.enqueue(n.value),null!=r&&--r<=0)return;e.close()}}})),ct=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recordBatchWriterThroughDOMStream=void 0;var t=me();e.recordBatchWriterThroughDOMStream=function(e,r){let n=new this(e),i=new t.AsyncByteStream(n),a=new ReadableStream({type:"bytes",async cancel(){await i.cancel()},async pull(e){await s(e)},async start(e){await s(e)}},{highWaterMark:16384,...r});return{writable:new WritableStream(n,e),readable:a};async function s(e){let t=null,r=e.desiredSize;for(;t=await i.read(r||null);)if(e.enqueue(t),null!=r&&(r-=t.byteLength)<=0)return;e.close()}}})),lt=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.custom=e.or=e.and=e.col=e.lit=e.CustomPredicate=e.Not=e.GTeq=e.LTeq=e.Equals=e.Or=e.And=e.CombinationPredicate=e.ComparisonPredicate=e.Predicate=e.Col=e.Literal=e.Value=void 0;var t=Re(),r=class{eq(e){return e instanceof r||(e=new n(e)),new l(this,e)}le(e){return e instanceof r||(e=new n(e)),new d(this,e)}ge(e){return e instanceof r||(e=new n(e)),new f(this,e)}lt(e){return new h(this.ge(e))}gt(e){return new h(this.le(e))}ne(e){return new h(this.eq(e))}};e.Value=r;var n=class extends r{constructor(e){super(),this.v=e}};e.Literal=n;var i=class extends r{constructor(e){super(),this.name=e}bind(e){if(!this.colidx){this.colidx=-1;let t=e.schema.fields;for(let e=-1;++e<t.length;)if(t[e].name===this.name){this.colidx=e;break}if(this.colidx<0)throw new Error(`Failed to bind Col "${this.name}"`)}let t=this.vector=e.getChildAt(this.colidx);return e=>t.get(e)}};e.Col=i;var a=class{and(...e){return new u(this,...e)}or(...e){return new c(this,...e)}not(){return new h(this)}};e.Predicate=a;var s=class extends a{constructor(e,t){super(),this.left=e,this.right=t}bind(e){return this.left instanceof n?this.right instanceof n?this._bindLitLit(e,this.left,this.right):this._bindLitCol(e,this.left,this.right):this.right instanceof n?this._bindColLit(e,this.left,this.right):this._bindColCol(e,this.left,this.right)}};e.ComparisonPredicate=s;var o=class extends a{constructor(...e){super(),this.children=e}};e.CombinationPredicate=o,o.prototype.children=Object.freeze([]);var u=class extends o{constructor(...e){e=e.reduce(((e,t)=>e.concat(t instanceof u?t.children:t)),[]),super(...e)}bind(e){let t=this.children.map((t=>t.bind(e)));return(e,r)=>t.every((t=>t(e,r)))}};e.And=u;var c=class extends o{constructor(...e){e=e.reduce(((e,t)=>e.concat(t instanceof c?t.children:t)),[]),super(...e)}bind(e){let t=this.children.map((t=>t.bind(e)));return(e,r)=>t.some((t=>t(e,r)))}};e.Or=c;var l=class extends s{_bindLitLit(e,t,r){let n=t.v==r.v;return()=>n}_bindColCol(e,t,r){let n=t.bind(e),i=r.bind(e);return(e,t)=>n(e,t)==i(e,t)}_bindColLit(e,r,n){let i=r.bind(e);if(r.vector instanceof t.DictionaryVector){let e,t=r.vector;return t.dictionary!==this.lastDictionary?(e=t.reverseLookup(n.v),this.lastDictionary=t.dictionary,this.lastKey=e):e=this.lastKey,-1===e?()=>!1:r=>t.getKey(r)===e}return(e,t)=>i(e,t)==n.v}_bindLitCol(e,t,r){return this._bindColLit(e,r,t)}};e.Equals=l;var d=class extends s{_bindLitLit(e,t,r){let n=t.v<=r.v;return()=>n}_bindColCol(e,t,r){let n=t.bind(e),i=r.bind(e);return(e,t)=>n(e,t)<=i(e,t)}_bindColLit(e,t,r){let n=t.bind(e);return(e,t)=>n(e,t)<=r.v}_bindLitCol(e,t,r){let n=r.bind(e);return(e,r)=>t.v<=n(e,r)}};e.LTeq=d;var f=class extends s{_bindLitLit(e,t,r){let n=t.v>=r.v;return()=>n}_bindColCol(e,t,r){let n=t.bind(e),i=r.bind(e);return(e,t)=>n(e,t)>=i(e,t)}_bindColLit(e,t,r){let n=t.bind(e);return(e,t)=>n(e,t)>=r.v}_bindLitCol(e,t,r){let n=r.bind(e);return(e,r)=>t.v>=n(e,r)}};e.GTeq=f;var h=class extends a{constructor(e){super(),this.child=e}bind(e){let t=this.child.bind(e);return(e,r)=>!t(e,r)}};e.Not=h;var p=class extends a{constructor(e,t){super(),this.next=e,this.bind_=t}bind(e){return this.bind_(e),this.next}};e.CustomPredicate=p,e.lit=function(e){return new n(e)},e.col=function(e){return new i(e)},e.and=function(...e){return new u(...e)},e.or=function(...e){return new c(...e)},e.custom=function(e,t){return new p(e,t)}})),dt=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FilteredDataFrame=e.CountByResult=e.DataFrame=void 0;var t=nt(),r=Ce(),n=se(),i=lt(),a=it(),s=P();t.Table.prototype.countBy=function(e){return new o(this.chunks).countBy(e)},t.Table.prototype.scan=function(e,t){return new o(this.chunks).scan(e,t)},t.Table.prototype.scanReverse=function(e,t){return new o(this.chunks).scanReverse(e,t)},t.Table.prototype.filter=function(e){return new o(this.chunks).filter(e)};var o=class extends t.Table{filter(e){return new c(this.chunks,e)}scan(e,t){let r=this.chunks,n=r.length;for(let i=-1;++i<n;){let n=r[i];t&&t(n);for(let t=-1,r=n.length;++t<r;)e(t,n)}}scanReverse(e,t){let r=this.chunks;for(let n=r.length;--n>=0;){let i=r[n];t&&t(i);for(let t=i.length;--t>=0;)e(t,i)}}countBy(e){let t=this.chunks,n=t.length,a="string"==typeof e?new i.Col(e):e;a.bind(t[n-1]);let o=a.vector;if(!s.DataType.isDictionary(o.type))throw new Error("countBy currently only supports dictionary-encoded columns");let c=Math.ceil(Math.log(o.length)/Math.log(256)),l=new(4==c?Uint32Array:c>=2?Uint16Array:Uint8Array)(o.dictionary.length);for(let e=-1;++e<n;){let r=t[e];a.bind(r);let n=a.vector.indices;for(let e=-1,t=r.length;++e<t;){let t=n.get(e);null!==t&&l[t]++}}return new u(o.dictionary,r.IntVector.from(l))}};e.DataFrame=o;var u=class extends t.Table{constructor(e,t){let r=new n.Schema([new n.Field("values",e.type),new n.Field("counts",t.type)]);super(new a.RecordBatch(r,t.length,[e,t]))}toJSON(){let e=this.getColumnAt(0),t=this.getColumnAt(1),r={};for(let n=-1;++n<this.length;)r[e.get(n)]=t.get(n);return r}};e.CountByResult=u;var c=class extends o{constructor(e,t){super(e),this._predicate=t}scan(e,t){let r=this._chunks,n=r.length;for(let i=-1;++i<n;){let n=r[i],a=this._predicate.bind(n),s=!1;for(let r=-1,i=n.length;++r<i;)a(r,n)&&(t&&!s&&(t(n),s=!0),e(r,n))}}scanReverse(e,t){let r=this._chunks;for(let n=r.length;--n>=0;){let i=r[n],a=this._predicate.bind(i),s=!1;for(let r=i.length;--r>=0;)a(r,i)&&(t&&!s&&(t(i),s=!0),e(r,i))}}count(){let e=0,t=this._chunks,r=t.length;for(let n=-1;++n<r;){let r=t[n],i=this._predicate.bind(r);for(let t=-1,n=r.length;++t<n;)i(t,r)&&++e}return e}*[Symbol.iterator](){let e=this._chunks,t=e.length;for(let r=-1;++r<t;){let t=e[r],n=this._predicate.bind(t);for(let e=-1,r=t.length;++e<r;)n(e,t)&&(yield t.get(e))}}filter(e){return new c(this._chunks,this._predicate.and(e))}countBy(e){let t=this._chunks,n=t.length,a="string"==typeof e?new i.Col(e):e;a.bind(t[n-1]);let o=a.vector;if(!s.DataType.isDictionary(o.type))throw new Error("countBy currently only supports dictionary-encoded columns");let c=Math.ceil(Math.log(o.length)/Math.log(256)),l=new(4==c?Uint32Array:c>=2?Uint16Array:Uint8Array)(o.dictionary.length);for(let e=-1;++e<n;){let r=t[e],n=this._predicate.bind(r);a.bind(r);let i=a.vector.indices;for(let e=-1,t=r.length;++e<t;){let t=i.get(e);null!==t&&n(e,r)&&l[t]++}}return new u(o.dictionary,r.IntVector.from(l))}};e.FilteredDataFrame=c})),ft=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.util=e.predicate=e.CountByResult=e.FilteredDataFrame=e.DataFrame=e.RecordBatch=e.Message=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=e.RecordBatchJSONWriter=e.RecordBatchStreamWriter=e.RecordBatchFileWriter=e.RecordBatchWriter=e.AsyncRecordBatchStreamReader=e.AsyncRecordBatchFileReader=e.RecordBatchStreamReader=e.RecordBatchFileReader=e.RecordBatchReader=e.AsyncByteQueue=e.AsyncByteStream=e.ByteStream=e.Utf8Builder=e.SparseUnionBuilder=e.DenseUnionBuilder=e.UnionBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.StructBuilder=e.NullBuilder=e.MapBuilder=e.ListBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeListBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.BoolBuilder=e.BinaryBuilder=e.Builder=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=e.Field=e.Schema=e.Visitor=e.Column=e.Table=e.Map_=e.FixedSizeList=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.Dictionary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.Decimal=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.DateMillisecond=e.DateDay=e.Date_=e.FixedSizeBinary=e.Binary=e.Utf8=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Bool=e.Null=e.DataType=e.Data=e.BufferType=e.UnionMode=e.Type=e.TimeUnit=e.Precision=e.MetadataVersion=e.MessageHeader=e.IntervalUnit=e.DateUnit=e.ArrowType=void 0;var t=F();Object.defineProperty(e,"ArrowType",{enumerable:!0,get:function(){return t.ArrowType}}),Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return t.DateUnit}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return t.IntervalUnit}}),Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return t.MessageHeader}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return t.MetadataVersion}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return t.Precision}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return t.TimeUnit}}),Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return t.Type}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return t.UnionMode}}),Object.defineProperty(e,"BufferType",{enumerable:!0,get:function(){return t.BufferType}});var r=E();Object.defineProperty(e,"Data",{enumerable:!0,get:function(){return r.Data}});var n=P();Object.defineProperty(e,"DataType",{enumerable:!0,get:function(){return n.DataType}}),Object.defineProperty(e,"Null",{enumerable:!0,get:function(){return n.Null}}),Object.defineProperty(e,"Bool",{enumerable:!0,get:function(){return n.Bool}}),Object.defineProperty(e,"Int",{enumerable:!0,get:function(){return n.Int}}),Object.defineProperty(e,"Int8",{enumerable:!0,get:function(){return n.Int8}}),Object.defineProperty(e,"Int16",{enumerable:!0,get:function(){return n.Int16}}),Object.defineProperty(e,"Int32",{enumerable:!0,get:function(){return n.Int32}}),Object.defineProperty(e,"Int64",{enumerable:!0,get:function(){return n.Int64}}),Object.defineProperty(e,"Uint8",{enumerable:!0,get:function(){return n.Uint8}}),Object.defineProperty(e,"Uint16",{enumerable:!0,get:function(){return n.Uint16}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return n.Uint32}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return n.Uint64}}),Object.defineProperty(e,"Float",{enumerable:!0,get:function(){return n.Float}}),Object.defineProperty(e,"Float16",{enumerable:!0,get:function(){return n.Float16}}),Object.defineProperty(e,"Float32",{enumerable:!0,get:function(){return n.Float32}}),Object.defineProperty(e,"Float64",{enumerable:!0,get:function(){return n.Float64}}),Object.defineProperty(e,"Utf8",{enumerable:!0,get:function(){return n.Utf8}}),Object.defineProperty(e,"Binary",{enumerable:!0,get:function(){return n.Binary}}),Object.defineProperty(e,"FixedSizeBinary",{enumerable:!0,get:function(){return n.FixedSizeBinary}}),Object.defineProperty(e,"Date_",{enumerable:!0,get:function(){return n.Date_}}),Object.defineProperty(e,"DateDay",{enumerable:!0,get:function(){return n.DateDay}}),Object.defineProperty(e,"DateMillisecond",{enumerable:!0,get:function(){return n.DateMillisecond}}),Object.defineProperty(e,"Timestamp",{enumerable:!0,get:function(){return n.Timestamp}}),Object.defineProperty(e,"TimestampSecond",{enumerable:!0,get:function(){return n.TimestampSecond}}),Object.defineProperty(e,"TimestampMillisecond",{enumerable:!0,get:function(){return n.TimestampMillisecond}}),Object.defineProperty(e,"TimestampMicrosecond",{enumerable:!0,get:function(){return n.TimestampMicrosecond}}),Object.defineProperty(e,"TimestampNanosecond",{enumerable:!0,get:function(){return n.TimestampNanosecond}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return n.Time}}),Object.defineProperty(e,"TimeSecond",{enumerable:!0,get:function(){return n.TimeSecond}}),Object.defineProperty(e,"TimeMillisecond",{enumerable:!0,get:function(){return n.TimeMillisecond}}),Object.defineProperty(e,"TimeMicrosecond",{enumerable:!0,get:function(){return n.TimeMicrosecond}}),Object.defineProperty(e,"TimeNanosecond",{enumerable:!0,get:function(){return n.TimeNanosecond}}),Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return n.Decimal}}),Object.defineProperty(e,"List",{enumerable:!0,get:function(){return n.List}}),Object.defineProperty(e,"Struct",{enumerable:!0,get:function(){return n.Struct}}),Object.defineProperty(e,"Union",{enumerable:!0,get:function(){return n.Union}}),Object.defineProperty(e,"DenseUnion",{enumerable:!0,get:function(){return n.DenseUnion}}),Object.defineProperty(e,"SparseUnion",{enumerable:!0,get:function(){return n.SparseUnion}}),Object.defineProperty(e,"Dictionary",{enumerable:!0,get:function(){return n.Dictionary}}),Object.defineProperty(e,"Interval",{enumerable:!0,get:function(){return n.Interval}}),Object.defineProperty(e,"IntervalDayTime",{enumerable:!0,get:function(){return n.IntervalDayTime}}),Object.defineProperty(e,"IntervalYearMonth",{enumerable:!0,get:function(){return n.IntervalYearMonth}}),Object.defineProperty(e,"FixedSizeList",{enumerable:!0,get:function(){return n.FixedSizeList}}),Object.defineProperty(e,"Map_",{enumerable:!0,get:function(){return n.Map_}});var i=nt();Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return i.Table}});var a=ie();Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return a.Column}});var s=U();Object.defineProperty(e,"Visitor",{enumerable:!0,get:function(){return s.Visitor}});var o=se();Object.defineProperty(e,"Schema",{enumerable:!0,get:function(){return o.Schema}}),Object.defineProperty(e,"Field",{enumerable:!0,get:function(){return o.Field}});var u=rt();Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return u.Vector}}),Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return u.BaseVector}}),Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return u.BinaryVector}}),Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return u.BoolVector}}),Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return u.Chunked}}),Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return u.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return u.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return u.DateMillisecondVector}}),Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return u.DecimalVector}}),Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return u.DictionaryVector}}),Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return u.FixedSizeBinaryVector}}),Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return u.FixedSizeListVector}}),Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return u.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return u.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return u.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return u.Float64Vector}}),Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return u.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return u.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return u.IntervalYearMonthVector}}),Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return u.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return u.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return u.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return u.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return u.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return u.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return u.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return u.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return u.Uint64Vector}}),Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return u.ListVector}}),Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return u.MapVector}}),Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return u.NullVector}}),Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return u.StructVector}}),Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return u.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return u.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return u.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return u.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return u.TimestampNanosecondVector}}),Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return u.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return u.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return u.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return u.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return u.TimeNanosecondVector}}),Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return u.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return u.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return u.SparseUnionVector}}),Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return u.Utf8Vector}});var c=pe();Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return c.Builder}}),Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return c.BinaryBuilder}}),Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return c.BoolBuilder}}),Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return c.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return c.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return c.DateMillisecondBuilder}}),Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return c.DecimalBuilder}}),Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return c.DictionaryBuilder}}),Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return c.FixedSizeBinaryBuilder}}),Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return c.FixedSizeListBuilder}}),Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return c.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return c.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return c.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return c.Float64Builder}}),Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return c.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return c.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return c.IntervalYearMonthBuilder}}),Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return c.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return c.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return c.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return c.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return c.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return c.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return c.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return c.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return c.Uint64Builder}}),Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return c.ListBuilder}}),Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return c.MapBuilder}}),Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return c.NullBuilder}}),Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return c.StructBuilder}}),Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return c.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return c.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return c.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return c.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return c.TimestampNanosecondBuilder}}),Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return c.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return c.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return c.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return c.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return c.TimeNanosecondBuilder}}),Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return c.UnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return c.DenseUnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return c.SparseUnionBuilder}}),Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return c.Utf8Builder}});var l=me();Object.defineProperty(e,"ByteStream",{enumerable:!0,get:function(){return l.ByteStream}}),Object.defineProperty(e,"AsyncByteStream",{enumerable:!0,get:function(){return l.AsyncByteStream}}),Object.defineProperty(e,"AsyncByteQueue",{enumerable:!0,get:function(){return l.AsyncByteQueue}});var d=at();Object.defineProperty(e,"RecordBatchReader",{enumerable:!0,get:function(){return d.RecordBatchReader}}),Object.defineProperty(e,"RecordBatchFileReader",{enumerable:!0,get:function(){return d.RecordBatchFileReader}}),Object.defineProperty(e,"RecordBatchStreamReader",{enumerable:!0,get:function(){return d.RecordBatchStreamReader}}),Object.defineProperty(e,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return d.AsyncRecordBatchFileReader}}),Object.defineProperty(e,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return d.AsyncRecordBatchStreamReader}});var f=De();Object.defineProperty(e,"RecordBatchWriter",{enumerable:!0,get:function(){return f.RecordBatchWriter}}),Object.defineProperty(e,"RecordBatchFileWriter",{enumerable:!0,get:function(){return f.RecordBatchFileWriter}}),Object.defineProperty(e,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return f.RecordBatchStreamWriter}}),Object.defineProperty(e,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return f.RecordBatchJSONWriter}});var h=Ie();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return h.MessageReader}}),Object.defineProperty(e,"AsyncMessageReader",{enumerable:!0,get:function(){return h.AsyncMessageReader}}),Object.defineProperty(e,"JSONMessageReader",{enumerable:!0,get:function(){return h.JSONMessageReader}});var p=we();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return p.Message}});var y=it();Object.defineProperty(e,"RecordBatch",{enumerable:!0,get:function(){return y.RecordBatch}});var b=dt();Object.defineProperty(e,"DataFrame",{enumerable:!0,get:function(){return b.DataFrame}}),Object.defineProperty(e,"FilteredDataFrame",{enumerable:!0,get:function(){return b.FilteredDataFrame}}),Object.defineProperty(e,"CountByResult",{enumerable:!0,get:function(){return b.CountByResult}});var m=G(),g=_e(),_=M(),v=Y(),B=I(),T=re(),w=lt();e.predicate=w,e.util={...m,...g,..._,...v,...B,...T}})),ht=m((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Utf8Builder=e.SparseUnionBuilder=e.DenseUnionBuilder=e.UnionBuilder=e.TimeNanosecondBuilder=e.TimeMicrosecondBuilder=e.TimeMillisecondBuilder=e.TimeSecondBuilder=e.TimeBuilder=e.TimestampNanosecondBuilder=e.TimestampMicrosecondBuilder=e.TimestampMillisecondBuilder=e.TimestampSecondBuilder=e.TimestampBuilder=e.StructBuilder=e.NullBuilder=e.MapBuilder=e.ListBuilder=e.Uint64Builder=e.Uint32Builder=e.Uint16Builder=e.Uint8Builder=e.Int64Builder=e.Int32Builder=e.Int16Builder=e.Int8Builder=e.IntBuilder=e.IntervalYearMonthBuilder=e.IntervalDayTimeBuilder=e.IntervalBuilder=e.Float64Builder=e.Float32Builder=e.Float16Builder=e.FloatBuilder=e.FixedSizeListBuilder=e.FixedSizeBinaryBuilder=e.DictionaryBuilder=e.DecimalBuilder=e.DateMillisecondBuilder=e.DateDayBuilder=e.DateBuilder=e.BoolBuilder=e.BinaryBuilder=e.Builder=e.util=e.predicate=e.CountByResult=e.FilteredDataFrame=e.DataFrame=e.RecordBatch=e.Message=e.JSONMessageReader=e.AsyncMessageReader=e.MessageReader=e.RecordBatchJSONWriter=e.RecordBatchStreamWriter=e.RecordBatchFileWriter=e.RecordBatchWriter=e.AsyncRecordBatchStreamReader=e.AsyncRecordBatchFileReader=e.RecordBatchStreamReader=e.RecordBatchFileReader=e.RecordBatchReader=e.AsyncByteQueue=e.AsyncByteStream=e.ByteStream=e.Utf8Vector=e.SparseUnionVector=e.DenseUnionVector=e.UnionVector=e.TimeNanosecondVector=e.TimeMicrosecondVector=e.TimeMillisecondVector=e.TimeSecondVector=e.TimeVector=e.TimestampNanosecondVector=e.TimestampMicrosecondVector=e.TimestampMillisecondVector=e.TimestampSecondVector=e.TimestampVector=e.StructVector=e.NullVector=e.MapVector=e.ListVector=e.Uint64Vector=e.Uint32Vector=e.Uint16Vector=e.Uint8Vector=e.Int64Vector=e.Int32Vector=e.Int16Vector=e.Int8Vector=e.IntVector=e.IntervalYearMonthVector=e.IntervalDayTimeVector=e.IntervalVector=e.Float64Vector=e.Float32Vector=e.Float16Vector=e.FloatVector=e.FixedSizeListVector=e.FixedSizeBinaryVector=e.DictionaryVector=e.DecimalVector=e.DateMillisecondVector=e.DateDayVector=e.DateVector=e.Chunked=e.BoolVector=e.BinaryVector=e.BaseVector=e.Vector=e.Visitor=e.Field=e.Schema=e.Column=e.Table=e.Map_=e.FixedSizeList=e.IntervalYearMonth=e.IntervalDayTime=e.Interval=e.Dictionary=e.SparseUnion=e.DenseUnion=e.Union=e.Struct=e.List=e.Decimal=e.TimeNanosecond=e.TimeMicrosecond=e.TimeMillisecond=e.TimeSecond=e.Time=e.TimestampNanosecond=e.TimestampMicrosecond=e.TimestampMillisecond=e.TimestampSecond=e.Timestamp=e.DateMillisecond=e.DateDay=e.Date_=e.FixedSizeBinary=e.Binary=e.Utf8=e.Float64=e.Float32=e.Float16=e.Float=e.Uint64=e.Uint32=e.Uint16=e.Uint8=e.Int64=e.Int32=e.Int16=e.Int8=e.Int=e.Bool=e.Null=e.DataType=e.Data=e.BufferType=e.UnionMode=e.Type=e.TimeUnit=e.Precision=e.MetadataVersion=e.MessageHeader=e.IntervalUnit=e.DateUnit=e.ArrowType=void 0;var t=S(),r=pe(),n=at(),i=De(),a=st(),s=ot(),o=ut(),u=ct();t.default.toDOMStream=a.toDOMStream,r.Builder.throughDOM=s.builderThroughDOMStream,n.RecordBatchReader.throughDOM=o.recordBatchReaderThroughDOMStream,i.RecordBatchWriter.throughDOM=u.recordBatchWriterThroughDOMStream;var c=ft();Object.defineProperty(e,"ArrowType",{enumerable:!0,get:function(){return c.ArrowType}}),Object.defineProperty(e,"DateUnit",{enumerable:!0,get:function(){return c.DateUnit}}),Object.defineProperty(e,"IntervalUnit",{enumerable:!0,get:function(){return c.IntervalUnit}}),Object.defineProperty(e,"MessageHeader",{enumerable:!0,get:function(){return c.MessageHeader}}),Object.defineProperty(e,"MetadataVersion",{enumerable:!0,get:function(){return c.MetadataVersion}}),Object.defineProperty(e,"Precision",{enumerable:!0,get:function(){return c.Precision}}),Object.defineProperty(e,"TimeUnit",{enumerable:!0,get:function(){return c.TimeUnit}}),Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return c.Type}}),Object.defineProperty(e,"UnionMode",{enumerable:!0,get:function(){return c.UnionMode}}),Object.defineProperty(e,"BufferType",{enumerable:!0,get:function(){return c.BufferType}}),Object.defineProperty(e,"Data",{enumerable:!0,get:function(){return c.Data}}),Object.defineProperty(e,"DataType",{enumerable:!0,get:function(){return c.DataType}}),Object.defineProperty(e,"Null",{enumerable:!0,get:function(){return c.Null}}),Object.defineProperty(e,"Bool",{enumerable:!0,get:function(){return c.Bool}}),Object.defineProperty(e,"Int",{enumerable:!0,get:function(){return c.Int}}),Object.defineProperty(e,"Int8",{enumerable:!0,get:function(){return c.Int8}}),Object.defineProperty(e,"Int16",{enumerable:!0,get:function(){return c.Int16}}),Object.defineProperty(e,"Int32",{enumerable:!0,get:function(){return c.Int32}}),Object.defineProperty(e,"Int64",{enumerable:!0,get:function(){return c.Int64}}),Object.defineProperty(e,"Uint8",{enumerable:!0,get:function(){return c.Uint8}}),Object.defineProperty(e,"Uint16",{enumerable:!0,get:function(){return c.Uint16}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return c.Uint32}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return c.Uint64}}),Object.defineProperty(e,"Float",{enumerable:!0,get:function(){return c.Float}}),Object.defineProperty(e,"Float16",{enumerable:!0,get:function(){return c.Float16}}),Object.defineProperty(e,"Float32",{enumerable:!0,get:function(){return c.Float32}}),Object.defineProperty(e,"Float64",{enumerable:!0,get:function(){return c.Float64}}),Object.defineProperty(e,"Utf8",{enumerable:!0,get:function(){return c.Utf8}}),Object.defineProperty(e,"Binary",{enumerable:!0,get:function(){return c.Binary}}),Object.defineProperty(e,"FixedSizeBinary",{enumerable:!0,get:function(){return c.FixedSizeBinary}}),Object.defineProperty(e,"Date_",{enumerable:!0,get:function(){return c.Date_}}),Object.defineProperty(e,"DateDay",{enumerable:!0,get:function(){return c.DateDay}}),Object.defineProperty(e,"DateMillisecond",{enumerable:!0,get:function(){return c.DateMillisecond}}),Object.defineProperty(e,"Timestamp",{enumerable:!0,get:function(){return c.Timestamp}}),Object.defineProperty(e,"TimestampSecond",{enumerable:!0,get:function(){return c.TimestampSecond}}),Object.defineProperty(e,"TimestampMillisecond",{enumerable:!0,get:function(){return c.TimestampMillisecond}}),Object.defineProperty(e,"TimestampMicrosecond",{enumerable:!0,get:function(){return c.TimestampMicrosecond}}),Object.defineProperty(e,"TimestampNanosecond",{enumerable:!0,get:function(){return c.TimestampNanosecond}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return c.Time}}),Object.defineProperty(e,"TimeSecond",{enumerable:!0,get:function(){return c.TimeSecond}}),Object.defineProperty(e,"TimeMillisecond",{enumerable:!0,get:function(){return c.TimeMillisecond}}),Object.defineProperty(e,"TimeMicrosecond",{enumerable:!0,get:function(){return c.TimeMicrosecond}}),Object.defineProperty(e,"TimeNanosecond",{enumerable:!0,get:function(){return c.TimeNanosecond}}),Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return c.Decimal}}),Object.defineProperty(e,"List",{enumerable:!0,get:function(){return c.List}}),Object.defineProperty(e,"Struct",{enumerable:!0,get:function(){return c.Struct}}),Object.defineProperty(e,"Union",{enumerable:!0,get:function(){return c.Union}}),Object.defineProperty(e,"DenseUnion",{enumerable:!0,get:function(){return c.DenseUnion}}),Object.defineProperty(e,"SparseUnion",{enumerable:!0,get:function(){return c.SparseUnion}}),Object.defineProperty(e,"Dictionary",{enumerable:!0,get:function(){return c.Dictionary}}),Object.defineProperty(e,"Interval",{enumerable:!0,get:function(){return c.Interval}}),Object.defineProperty(e,"IntervalDayTime",{enumerable:!0,get:function(){return c.IntervalDayTime}}),Object.defineProperty(e,"IntervalYearMonth",{enumerable:!0,get:function(){return c.IntervalYearMonth}}),Object.defineProperty(e,"FixedSizeList",{enumerable:!0,get:function(){return c.FixedSizeList}}),Object.defineProperty(e,"Map_",{enumerable:!0,get:function(){return c.Map_}}),Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return c.Table}}),Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return c.Column}}),Object.defineProperty(e,"Schema",{enumerable:!0,get:function(){return c.Schema}}),Object.defineProperty(e,"Field",{enumerable:!0,get:function(){return c.Field}}),Object.defineProperty(e,"Visitor",{enumerable:!0,get:function(){return c.Visitor}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return c.Vector}}),Object.defineProperty(e,"BaseVector",{enumerable:!0,get:function(){return c.BaseVector}}),Object.defineProperty(e,"BinaryVector",{enumerable:!0,get:function(){return c.BinaryVector}}),Object.defineProperty(e,"BoolVector",{enumerable:!0,get:function(){return c.BoolVector}}),Object.defineProperty(e,"Chunked",{enumerable:!0,get:function(){return c.Chunked}}),Object.defineProperty(e,"DateVector",{enumerable:!0,get:function(){return c.DateVector}}),Object.defineProperty(e,"DateDayVector",{enumerable:!0,get:function(){return c.DateDayVector}}),Object.defineProperty(e,"DateMillisecondVector",{enumerable:!0,get:function(){return c.DateMillisecondVector}}),Object.defineProperty(e,"DecimalVector",{enumerable:!0,get:function(){return c.DecimalVector}}),Object.defineProperty(e,"DictionaryVector",{enumerable:!0,get:function(){return c.DictionaryVector}}),Object.defineProperty(e,"FixedSizeBinaryVector",{enumerable:!0,get:function(){return c.FixedSizeBinaryVector}}),Object.defineProperty(e,"FixedSizeListVector",{enumerable:!0,get:function(){return c.FixedSizeListVector}}),Object.defineProperty(e,"FloatVector",{enumerable:!0,get:function(){return c.FloatVector}}),Object.defineProperty(e,"Float16Vector",{enumerable:!0,get:function(){return c.Float16Vector}}),Object.defineProperty(e,"Float32Vector",{enumerable:!0,get:function(){return c.Float32Vector}}),Object.defineProperty(e,"Float64Vector",{enumerable:!0,get:function(){return c.Float64Vector}}),Object.defineProperty(e,"IntervalVector",{enumerable:!0,get:function(){return c.IntervalVector}}),Object.defineProperty(e,"IntervalDayTimeVector",{enumerable:!0,get:function(){return c.IntervalDayTimeVector}}),Object.defineProperty(e,"IntervalYearMonthVector",{enumerable:!0,get:function(){return c.IntervalYearMonthVector}}),Object.defineProperty(e,"IntVector",{enumerable:!0,get:function(){return c.IntVector}}),Object.defineProperty(e,"Int8Vector",{enumerable:!0,get:function(){return c.Int8Vector}}),Object.defineProperty(e,"Int16Vector",{enumerable:!0,get:function(){return c.Int16Vector}}),Object.defineProperty(e,"Int32Vector",{enumerable:!0,get:function(){return c.Int32Vector}}),Object.defineProperty(e,"Int64Vector",{enumerable:!0,get:function(){return c.Int64Vector}}),Object.defineProperty(e,"Uint8Vector",{enumerable:!0,get:function(){return c.Uint8Vector}}),Object.defineProperty(e,"Uint16Vector",{enumerable:!0,get:function(){return c.Uint16Vector}}),Object.defineProperty(e,"Uint32Vector",{enumerable:!0,get:function(){return c.Uint32Vector}}),Object.defineProperty(e,"Uint64Vector",{enumerable:!0,get:function(){return c.Uint64Vector}}),Object.defineProperty(e,"ListVector",{enumerable:!0,get:function(){return c.ListVector}}),Object.defineProperty(e,"MapVector",{enumerable:!0,get:function(){return c.MapVector}}),Object.defineProperty(e,"NullVector",{enumerable:!0,get:function(){return c.NullVector}}),Object.defineProperty(e,"StructVector",{enumerable:!0,get:function(){return c.StructVector}}),Object.defineProperty(e,"TimestampVector",{enumerable:!0,get:function(){return c.TimestampVector}}),Object.defineProperty(e,"TimestampSecondVector",{enumerable:!0,get:function(){return c.TimestampSecondVector}}),Object.defineProperty(e,"TimestampMillisecondVector",{enumerable:!0,get:function(){return c.TimestampMillisecondVector}}),Object.defineProperty(e,"TimestampMicrosecondVector",{enumerable:!0,get:function(){return c.TimestampMicrosecondVector}}),Object.defineProperty(e,"TimestampNanosecondVector",{enumerable:!0,get:function(){return c.TimestampNanosecondVector}}),Object.defineProperty(e,"TimeVector",{enumerable:!0,get:function(){return c.TimeVector}}),Object.defineProperty(e,"TimeSecondVector",{enumerable:!0,get:function(){return c.TimeSecondVector}}),Object.defineProperty(e,"TimeMillisecondVector",{enumerable:!0,get:function(){return c.TimeMillisecondVector}}),Object.defineProperty(e,"TimeMicrosecondVector",{enumerable:!0,get:function(){return c.TimeMicrosecondVector}}),Object.defineProperty(e,"TimeNanosecondVector",{enumerable:!0,get:function(){return c.TimeNanosecondVector}}),Object.defineProperty(e,"UnionVector",{enumerable:!0,get:function(){return c.UnionVector}}),Object.defineProperty(e,"DenseUnionVector",{enumerable:!0,get:function(){return c.DenseUnionVector}}),Object.defineProperty(e,"SparseUnionVector",{enumerable:!0,get:function(){return c.SparseUnionVector}}),Object.defineProperty(e,"Utf8Vector",{enumerable:!0,get:function(){return c.Utf8Vector}}),Object.defineProperty(e,"ByteStream",{enumerable:!0,get:function(){return c.ByteStream}}),Object.defineProperty(e,"AsyncByteStream",{enumerable:!0,get:function(){return c.AsyncByteStream}}),Object.defineProperty(e,"AsyncByteQueue",{enumerable:!0,get:function(){return c.AsyncByteQueue}}),Object.defineProperty(e,"RecordBatchReader",{enumerable:!0,get:function(){return c.RecordBatchReader}}),Object.defineProperty(e,"RecordBatchFileReader",{enumerable:!0,get:function(){return c.RecordBatchFileReader}}),Object.defineProperty(e,"RecordBatchStreamReader",{enumerable:!0,get:function(){return c.RecordBatchStreamReader}}),Object.defineProperty(e,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return c.AsyncRecordBatchFileReader}}),Object.defineProperty(e,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return c.AsyncRecordBatchStreamReader}}),Object.defineProperty(e,"RecordBatchWriter",{enumerable:!0,get:function(){return c.RecordBatchWriter}}),Object.defineProperty(e,"RecordBatchFileWriter",{enumerable:!0,get:function(){return c.RecordBatchFileWriter}}),Object.defineProperty(e,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return c.RecordBatchStreamWriter}}),Object.defineProperty(e,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return c.RecordBatchJSONWriter}}),Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(e,"AsyncMessageReader",{enumerable:!0,get:function(){return c.AsyncMessageReader}}),Object.defineProperty(e,"JSONMessageReader",{enumerable:!0,get:function(){return c.JSONMessageReader}}),Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return c.Message}}),Object.defineProperty(e,"RecordBatch",{enumerable:!0,get:function(){return c.RecordBatch}}),Object.defineProperty(e,"DataFrame",{enumerable:!0,get:function(){return c.DataFrame}}),Object.defineProperty(e,"FilteredDataFrame",{enumerable:!0,get:function(){return c.FilteredDataFrame}}),Object.defineProperty(e,"CountByResult",{enumerable:!0,get:function(){return c.CountByResult}}),Object.defineProperty(e,"predicate",{enumerable:!0,get:function(){return c.predicate}}),Object.defineProperty(e,"util",{enumerable:!0,get:function(){return c.util}}),Object.defineProperty(e,"Builder",{enumerable:!0,get:function(){return c.Builder}}),Object.defineProperty(e,"BinaryBuilder",{enumerable:!0,get:function(){return c.BinaryBuilder}}),Object.defineProperty(e,"BoolBuilder",{enumerable:!0,get:function(){return c.BoolBuilder}}),Object.defineProperty(e,"DateBuilder",{enumerable:!0,get:function(){return c.DateBuilder}}),Object.defineProperty(e,"DateDayBuilder",{enumerable:!0,get:function(){return c.DateDayBuilder}}),Object.defineProperty(e,"DateMillisecondBuilder",{enumerable:!0,get:function(){return c.DateMillisecondBuilder}}),Object.defineProperty(e,"DecimalBuilder",{enumerable:!0,get:function(){return c.DecimalBuilder}}),Object.defineProperty(e,"DictionaryBuilder",{enumerable:!0,get:function(){return c.DictionaryBuilder}}),Object.defineProperty(e,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return c.FixedSizeBinaryBuilder}}),Object.defineProperty(e,"FixedSizeListBuilder",{enumerable:!0,get:function(){return c.FixedSizeListBuilder}}),Object.defineProperty(e,"FloatBuilder",{enumerable:!0,get:function(){return c.FloatBuilder}}),Object.defineProperty(e,"Float16Builder",{enumerable:!0,get:function(){return c.Float16Builder}}),Object.defineProperty(e,"Float32Builder",{enumerable:!0,get:function(){return c.Float32Builder}}),Object.defineProperty(e,"Float64Builder",{enumerable:!0,get:function(){return c.Float64Builder}}),Object.defineProperty(e,"IntervalBuilder",{enumerable:!0,get:function(){return c.IntervalBuilder}}),Object.defineProperty(e,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return c.IntervalDayTimeBuilder}}),Object.defineProperty(e,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return c.IntervalYearMonthBuilder}}),Object.defineProperty(e,"IntBuilder",{enumerable:!0,get:function(){return c.IntBuilder}}),Object.defineProperty(e,"Int8Builder",{enumerable:!0,get:function(){return c.Int8Builder}}),Object.defineProperty(e,"Int16Builder",{enumerable:!0,get:function(){return c.Int16Builder}}),Object.defineProperty(e,"Int32Builder",{enumerable:!0,get:function(){return c.Int32Builder}}),Object.defineProperty(e,"Int64Builder",{enumerable:!0,get:function(){return c.Int64Builder}}),Object.defineProperty(e,"Uint8Builder",{enumerable:!0,get:function(){return c.Uint8Builder}}),Object.defineProperty(e,"Uint16Builder",{enumerable:!0,get:function(){return c.Uint16Builder}}),Object.defineProperty(e,"Uint32Builder",{enumerable:!0,get:function(){return c.Uint32Builder}}),Object.defineProperty(e,"Uint64Builder",{enumerable:!0,get:function(){return c.Uint64Builder}}),Object.defineProperty(e,"ListBuilder",{enumerable:!0,get:function(){return c.ListBuilder}}),Object.defineProperty(e,"MapBuilder",{enumerable:!0,get:function(){return c.MapBuilder}}),Object.defineProperty(e,"NullBuilder",{enumerable:!0,get:function(){return c.NullBuilder}}),Object.defineProperty(e,"StructBuilder",{enumerable:!0,get:function(){return c.StructBuilder}}),Object.defineProperty(e,"TimestampBuilder",{enumerable:!0,get:function(){return c.TimestampBuilder}}),Object.defineProperty(e,"TimestampSecondBuilder",{enumerable:!0,get:function(){return c.TimestampSecondBuilder}}),Object.defineProperty(e,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return c.TimestampMillisecondBuilder}}),Object.defineProperty(e,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return c.TimestampMicrosecondBuilder}}),Object.defineProperty(e,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return c.TimestampNanosecondBuilder}}),Object.defineProperty(e,"TimeBuilder",{enumerable:!0,get:function(){return c.TimeBuilder}}),Object.defineProperty(e,"TimeSecondBuilder",{enumerable:!0,get:function(){return c.TimeSecondBuilder}}),Object.defineProperty(e,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return c.TimeMillisecondBuilder}}),Object.defineProperty(e,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return c.TimeMicrosecondBuilder}}),Object.defineProperty(e,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return c.TimeNanosecondBuilder}}),Object.defineProperty(e,"UnionBuilder",{enumerable:!0,get:function(){return c.UnionBuilder}}),Object.defineProperty(e,"DenseUnionBuilder",{enumerable:!0,get:function(){return c.DenseUnionBuilder}}),Object.defineProperty(e,"SparseUnionBuilder",{enumerable:!0,get:function(){return c.SparseUnionBuilder}}),Object.defineProperty(e,"Utf8Builder",{enumerable:!0,get:function(){return c.Utf8Builder}})})),pt=m((()=>{})),yt=m((()=>{})),bt=m((()=>{})),mt=m((()=>{})),gt=m((()=>{})),_t=m((()=>{})),vt={};((e,t)=>{for(var r in b(e),t)d(e,r,{get:t[r],enumerable:!0})})(vt,{registerWorker:()=>zt}),(t=e||(e={}))[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",function(e){e[e.NONE=0]="NONE",e[e.CONNECT=1]="CONNECT",e[e.DISCONNECT=2]="DISCONNECT",e[e.OPEN=3]="OPEN",e[e.QUERY=4]="QUERY"}(r||(r={})),(i=n||(n={}))[i.NONE=0]="NONE",i[i.OK=1]="OK",i[i.ERROR=2]="ERROR",i[i.START=3]="START",i[i.RUN=4]="RUN",i[i.CAPTURE=5]="CAPTURE",function(e){e[e.NONE=0]="NONE",e[e.WEB_WORKER=1]="WEB_WORKER",e[e.NODE_WORKER=2]="NODE_WORKER",e[e.BINDINGS=3]="BINDINGS",e[e.ASYNC_DUCKDB=4]="ASYNC_DUCKDB"}(a||(a={})),g(ht()),Symbol.asyncIterator,(o=s||(s={})).COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",o.CONNECT="CONNECT",o.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",o.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",o.DISCONNECT="DISCONNECT",o.DROP_FILE="DROP_FILE",o.DROP_FILES="DROP_FILES",o.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",o.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",o.FLUSH_FILES="FLUSH_FILES",o.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",o.GET_VERSION="GET_VERSION",o.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",o.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",o.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",o.INSTANTIATE="INSTANTIATE",o.OPEN="OPEN",o.PING="PING",o.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",o.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",o.REGISTER_FILE_URL="REGISTER_FILE_URL",o.RESET="RESET",o.RUN_QUERY="RUN_QUERY",o.SEND_QUERY="SEND_QUERY",o.TOKENIZE="TOKENIZE",(c=u||(u={})).CONNECTION_INFO="CONNECTION_INFO",c.ERROR="ERROR",c.FEATURE_FLAGS="FEATURE_FLAGS",c.FILE_BUFFER="FILE_BUFFER",c.FILE_SIZE="FILE_SIZE",c.FILE_STATISTICS="FILE_STATISTICS",c.LOG="LOG",c.OK="OK",c.QUERY_PLAN="QUERY_PLAN",c.QUERY_RESULT="QUERY_RESULT",c.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",c.QUERY_START="QUERY_START",c.REGISTERED_FILE="REGISTERED_FILE",c.SCRIPT_TOKENS="SCRIPT_TOKENS",c.SUCCESS="SUCCESS",c.VERSION_STRING="VERSION_STRING";var Bt=g(ht());function Tt(e,t){switch(t.typeId){case Bt.Type.Binary:return{name:e,type:"binary"};case Bt.Type.Bool:return{name:e,type:"bool"};case Bt.Type.Date:return{name:e,type:"date"};case Bt.Type.DateDay:return{name:e,type:"date32[d]"};case Bt.Type.DateMillisecond:return{name:e,type:"date64[ms]"};case Bt.Type.Decimal:{let r=t;return{name:e,type:"decimal",precision:r.precision,scale:r.scale}}case Bt.Type.Float:return{name:e,type:"float"};case Bt.Type.Float16:return{name:e,type:"float16"};case Bt.Type.Float32:return{name:e,type:"float32"};case Bt.Type.Float64:return{name:e,type:"float64"};case Bt.Type.Int:return{name:e,type:"int32"};case Bt.Type.Int16:return{name:e,type:"int16"};case Bt.Type.Int32:return{name:e,type:"int32"};case Bt.Type.Int64:return{name:e,type:"int64"};case Bt.Type.Uint16:return{name:e,type:"uint16"};case Bt.Type.Uint32:return{name:e,type:"uint32"};case Bt.Type.Uint64:return{name:e,type:"uint64"};case Bt.Type.Uint8:return{name:e,type:"uint8"};case Bt.Type.IntervalDayTime:return{name:e,type:"interval[dt]"};case Bt.Type.IntervalYearMonth:return{name:e,type:"interval[m]"};case Bt.Type.List:{let r=t;return{name:e,type:"list",children:[Tt(r.valueField.name,r.valueField.type)]}}case Bt.Type.FixedSizeBinary:return{name:e,type:"fixedsizebinary",byteWidth:t.byteWidth};case Bt.Type.Null:return{name:e,type:"null"};case Bt.Type.Utf8:return{name:e,type:"utf8"};case Bt.Type.Struct:return{name:e,type:"struct",children:t.children.map((e=>Tt(e.name,e.type)))};case Bt.Type.Time:return{name:e,type:"time[s]"};case Bt.Type.TimeMicrosecond:return{name:e,type:"time[us]"};case Bt.Type.TimeMillisecond:return{name:e,type:"time[ms]"};case Bt.Type.TimeNanosecond:return{name:e,type:"time[ns]"};case Bt.Type.TimeSecond:return{name:e,type:"time[s]"};case Bt.Type.Timestamp:return{name:e,type:"timestamp",timezone:t.timezone||void 0};case Bt.Type.TimestampSecond:return{name:e,type:"timestamp[s]",timezone:t.timezone||void 0};case Bt.Type.TimestampMicrosecond:return{name:e,type:"timestamp[us]",timezone:t.timezone||void 0};case Bt.Type.TimestampNanosecond:return{name:e,type:"timestamp[ns]",timezone:t.timezone||void 0};case Bt.Type.TimestampMillisecond:return{name:e,type:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error(`unsupported arrow type: ${t.toString()}`)}new TextEncoder;var wt,It,St,Ot={},At=(wt=Ot.url,function(e){function t(){return M.buffer!=L&&q(M.buffer),N}function r(){return M.buffer!=L&&q(M.buffer),j}function n(){return M.buffer!=L&&q(M.buffer),x}function i(){return M.buffer!=L&&q(M.buffer),C}function a(){return M.buffer!=L&&q(M.buffer),k}var s,o,u=void 0!==(e=e||{})?e:{};u.ready=new Promise((function(e,t){s=e,o=t}));var c,l={};for(c in u)u.hasOwnProperty(c)&&(l[c]=u[c]);var d,f,h,p,y=[],b="./this.program",m=function(e,t){throw t},g="object"==typeof window,_="function"==typeof importScripts,v="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,B=u.ENVIRONMENT_IS_PTHREAD||!1,T="";function w(e){return u.locateFile?u.locateFile(e,T):T+e}if(v){var I;T=_?pt().dirname(T)+"/":__dirname+"/",d=function(e,t){return h||(h=yt()),p||(p=pt()),e=p.normalize(e),h.readFileSync(e,t?null:"utf8")},f=function(e){var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),E(t.buffer),t},process.argv.length>1&&(b=process.argv[1].replace(/\\/g,"/")),y=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Yt))throw e})),process.on("unhandledRejection",(function(e){throw e})),m=function(e,t){if(ae())throw process.exitCode=e,t;(function(e){e instanceof Yt||A("exiting due to exception: "+e)})(t),process.exit(e)},u.inspect=function(){return"[Emscripten Module object]"};try{I=bt()}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}global.Worker=I.Worker}else(g||_)&&(_?T=self.location.href:"undefined"!=typeof document&&document.currentScript&&(T=document.currentScript.src),wt&&(T=wt),T=0!==T.indexOf("blob:")?T.substr(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1):"",v?(d=function(e,t){return h||(h=yt()),p||(p=pt()),e=p.normalize(e),h.readFileSync(e,t?null:"utf8")},f=function(e){var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),E(t.buffer),t}):(d=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},_&&(f=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})));v&&"undefined"==typeof performance&&(global.performance=mt().performance);var S,O=u.print||console.log.bind(console),A=u.printErr||console.warn.bind(console);for(c in l)l.hasOwnProperty(c)&&(u[c]=l[c]);function D(e){D.shown||(D.shown={}),D.shown[e]||(D.shown[e]=1,A(e))}l=null,u.arguments&&(y=u.arguments),u.thisProgram&&(b=u.thisProgram),u.quit&&(m=u.quit),Atomics.load,Atomics.store,Atomics.compareExchange,u.wasmBinary&&(S=u.wasmBinary);var F=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&de("no native wasm support detected");var M,U,V,P=!1;function E(e,t){e||de("Assertion failed: "+t)}function R(e){var t=new TextDecoder(e);this.decode=function(e){return e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode.call(t,e)}}var L,N,j,x,C,k,z="undefined"!=typeof TextDecoder?new R("utf8"):void 0;function W(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.subarray&&z)return z.decode(e.subarray(t,i));for(var a="";t<i;){var s=e[t++];if(128&s){var o=63&e[t++];if(192!=(224&s)){var u=63&e[t++];if((s=224==(240&s)?(15&s)<<12|o<<6|u:(7&s)<<18|o<<12|u<<6|63&e[t++])<65536)a+=String.fromCharCode(s);else{var c=s-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&s)<<6|o)}else a+=String.fromCharCode(s)}return a}function H(e,t){return e?W(r(),e,t):""}function Y(e,t,r,n){if(!(n>0))return 0;for(var i=r,a=r+n-1,s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++s)),o<=127){if(r>=a)break;t[r++]=o}else if(o<=2047){if(r+1>=a)break;t[r++]=192|o>>6,t[r++]=128|63&o}else if(o<=65535){if(r+2>=a)break;t[r++]=224|o>>12,t[r++]=128|o>>6&63,t[r++]=128|63&o}else{if(r+3>=a)break;t[r++]=240|o>>18,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o}}return t[r]=0,r-i}function $(e,t,n){return Y(e,r(),t,n)}function G(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function K(e,r){t().set(e,r)}function J(e,t){return e%t>0&&(e+=t-e%t),e}function q(e){L=e,u.HEAP8=N=new Int8Array(e),u.HEAP16=new Int16Array(e),u.HEAP32=x=new Int32Array(e),u.HEAPU8=j=new Uint8Array(e),u.HEAPU16=new Uint16Array(e),u.HEAPU32=C=new Uint32Array(e),u.HEAPF32=new Float32Array(e),u.HEAPF64=k=new Float64Array(e)}"undefined"!=typeof TextDecoder&&new R("utf-16le"),B&&(L=u.buffer);var Q=u.INITIAL_MEMORY||16777216;if(B)M=u.wasmMemory,L=u.buffer;else if(u.wasmMemory)M=u.wasmMemory;else if(!((M=new WebAssembly.Memory({initial:Q/65536,maximum:32768,shared:!0})).buffer instanceof SharedArrayBuffer))throw A("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),v&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");M&&(L=M.buffer),Q=L.byteLength,q(L);var Z,X=[],ee=[],te=[],re=[],ne=[],ie=0;function ae(){return F||ie>0}function se(){!B&&ye(ee)}var oe,ue=0,ce=null,le=null;function de(e){B?postMessage({cmd:"onAbort",arg:e}):u.onAbort&&u.onAbort(e),A(e="Aborted("+e+")"),P=!0,V=1,e+=". Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw o(t),t}function fe(e){return e.startsWith("data:application/octet-stream;base64,")}function he(e){try{if(e==oe&&S)return new Uint8Array(S);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(e){de(e)}}u.preloadedImages={},u.preloadedAudios={},u.locateFile?fe(oe="duckdb_wasm.wasm")||(oe=w(oe)):oe=new URL("duckdb_wasm.wasm",Ot.url).toString();var pe={};function ye(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?Z.get(r)():Z.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(u)}}function be(e,r){if(e<=0||e>t().length||!0&e||r<0)return-28;if(0==r)return 0;r>=2147483647&&(r=1/0);var i=Atomics.load(n(),Ht>>2),a=0;if(i==e&&Atomics.compareExchange(n(),Ht>>2,i,0)==i&&(a=1,--r<=0))return 1;var s=Atomics.notify(n(),e>>2,r);if(s>=0)return s+a;throw"Atomics.notify returned an unexpected value "+s}function me(e){var t=Te.pthreads[e];if(t){n()[e+8>>2]=0;var r=t.worker;Te.returnWorkerToPool(r)}}function ge(e){!e||(e.threadInfoStruct&&kt(e.threadInfoStruct),e.threadInfoStruct=0,e.allocatedOwnStack&&e.stackBase&&kt(e.stackBase),e.stackBase=0,e.worker&&(e.worker.pthread=null))}function _e(e){Gt(e)}function ve(e){if(e instanceof Yt||"unwind"==e)return V;m(1,e)}u._emscripten_futex_wake=be,u._exit=_e;var Be,Te={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var e=0;e<4;++e)Te.allocateUnusedWorker()},initWorker:function(){},pthreads:{},threadExitHandlers:[],setExitStatus:function(e){V=e},terminateAllThreads:function(){for(var e in Te.pthreads){var t=Te.pthreads[e];t&&t.worker&&Te.returnWorkerToPool(t.worker)}for(var r=0;r<Te.unusedWorkers.length;++r)Te.unusedWorkers[r].terminate();Te.unusedWorkers=[]},returnWorkerToPool:function(e){Te.runWithoutMainThreadQueuedCalls((function(){delete Te.pthreads[e.pthread.threadInfoStruct],Te.unusedWorkers.push(e),Te.runningWorkers.splice(Te.runningWorkers.indexOf(e),1),ge(e.pthread),e.pthread=void 0}))},runWithoutMainThreadQueuedCalls:function(e){n()[Wt>>2]=0;try{e()}finally{n()[Wt>>2]=1}},receiveObjectTransfer:function(e){},threadInit:function(){for(var e in Te.tlsInitFunctions)Te.tlsInitFunctions[e]()},loadWasmModuleToWorker:function(e,t){e.onmessage=function(r){var i=r.data,a=i.cmd;if(e.pthread&&(Te.currentProxiedOperationCallerThread=e.pthread.threadInfoStruct),i.targetThread&&i.targetThread!=Rt()){var s=Te.pthreads[i.targetThread];return s?s.worker.postMessage(i,i.transferList):A('Internal error! Worker sent a message "'+a+'" to target pthread '+i.targetThread+", but that thread no longer exists!"),void(Te.currentProxiedOperationCallerThread=void 0)}"processQueuedMainThreadWork"===a?Dt():"spawnThread"===a?Se(i):"cleanupThread"===a?me(i.thread):"killThread"===a?function(e){n()[e+8>>2]=0;var t=Te.pthreads[e];delete Te.pthreads[e],t.worker.terminate(),ge(t),Te.runningWorkers.splice(Te.runningWorkers.indexOf(t.worker),1),t.worker.pthread=void 0}(i.thread):"cancelThread"===a?function(e){Te.pthreads[e].worker.postMessage({cmd:"cancel"})}(i.thread):"loaded"===a?(e.loaded=!0,t&&t(e),e.runPthread&&(e.runPthread(),delete e.runPthread)):"print"===a?O("Thread "+i.threadId+": "+i.text):"printErr"===a?A("Thread "+i.threadId+": "+i.text):"alert"===a?alert("Thread "+i.threadId+": "+i.text):"detachedExit"===a||"cancelDone"===a?Te.returnWorkerToPool(e):"setimmediate"===i.target?e.postMessage(i):"onAbort"===a?u.onAbort&&u.onAbort(i.arg):A("worker sent an unknown command "+a),Te.currentProxiedOperationCallerThread=void 0},e.onerror=function(e){throw A("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},v&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob,wasmMemory:M,wasmModule:U})},allocateUnusedWorker:function(){if(u.locateFile){var e=w("duckdb_wasm.worker.js");Te.unusedWorkers.push(new Worker(e))}else Te.unusedWorkers.push(new Worker(new URL("duckdb_wasm.worker.js",Ot.url)))},getNewWorker:function(){return 0==Te.unusedWorkers.length&&(Te.allocateUnusedWorker(),Te.loadWasmModuleToWorker(Te.unusedWorkers[0])),Te.unusedWorkers.pop()}};function we(e){if(B)return ke(1,0,e);try{_e(e)}catch(e){ve(e)}}function Ie(e,t){var r;if(0===e)r=Date.now();else{if(1!==e&&4!==e)return n()[Et()>>2]=28,-1;r=Be()}return n()[t>>2]=r/1e3|0,n()[t+4>>2]=r%1e3*1e3*1e3|0,0}function Se(e){var t=Te.getNewWorker();if(!t)return 6;Te.runningWorkers.push(t);var r=e.stackBase+e.stackSize,n=Te.pthreads[e.pthread_ptr]={worker:t,stackBase:e.stackBase,stackSize:e.stackSize,allocatedOwnStack:e.allocatedOwnStack,threadInfoStruct:e.pthread_ptr},a=n.threadInfoStruct>>2;Atomics.store(i(),a+15,e.detached),Atomics.store(i(),a+19,e.stackSize),Atomics.store(i(),a+18,r),Atomics.store(i(),a+25,e.stackSize),Atomics.store(i(),a+27,r),Atomics.store(i(),a+28,e.detached),t.pthread=n;var s={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr,stackBase:e.stackBase,stackSize:e.stackSize};return t.runPthread=function(){s.time=performance.now(),t.postMessage(s,e.transferList)},t.loaded&&(t.runPthread(),delete t.runPthread),0}function Oe(e,r,i){if(e<=0||e>t().length||!0&e)return-28;if(g){if(Atomics.load(n(),e>>2)!=r)return-6;var a=performance.now(),s=a+i;for(Atomics.exchange(n(),Ht>>2,e);;){if((a=performance.now())>s)return Atomics.exchange(n(),Ht>>2,0),-73;if(0==Atomics.exchange(n(),Ht>>2,0))break;if(Dt(),Atomics.load(n(),e>>2)!=r)return-6;Atomics.exchange(n(),Ht>>2,e)}return 0}var o=Atomics.wait(n(),e>>2,r,i);if("timed-out"===o)return-73;if("not-equal"===o)return-6;if("ok"===o)return 0;throw"Atomics.wait returned an unexpected value "+o}function Ae(){v||_||D("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}u.establishStackSpace=function(e,t){xt(e,t),Nt(e)},u.invokeEntryPoint=function(e,t){return Z.get(e)(t)},Be=v?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:B?function(){return performance.now()-u.__performance_now_clock_drift}:function(){return performance.now()};var De={mappings:{},buffers:[null,[],[]],printChar:function(e,t){var r=De.buffers[e];0===t||10===t?((1===e?O:A)(W(r,0)),r.length=0):r.push(t)},varargs:void 0,get:function(){return De.varargs+=4,n()[De.varargs-4>>2]},getStr:function(e){return H(e)},get64:function(e,t){return e}};function Fe(e,t){return B?ke(3,1,e,t):(e=De.getStr(e),De.doAccess(e,t))}function Me(e,t,r){return B?ke(4,1,e,t,r):(De.varargs=r,0)}function Ue(e,t){if(B)return ke(5,1,e,t)}function Ve(e,t,r,n){if(B)return ke(6,1,e,t,r,n)}function Pe(e,t,r){if(B)return ke(7,1,e,t,r)}function Ee(e,t,r){return B?ke(8,1,e,t,r):(De.varargs=r,0)}function Re(e,t){return B?ke(9,1,e,t):(e=De.getStr(e),De.doMkdir(e,t))}function Le(e,t,r){if(B)return ke(10,1,e,t,r);De.varargs=r}function Ne(e,t){if(B)return ke(11,1,e,t)}function je(e){if(B)return ke(12,1,e)}function xe(e,t){if(B)return ke(13,1,e,t)}function Ce(e){if(B)return ke(14,1,e)}function ke(e,t){for(var r=arguments.length-2,n=Lt(),i=r,s=jt(8*i),o=s>>3,u=0;u<r;u++){var c=arguments[2+u];a()[o+u]=c}var l=Ft(e,i,s,t);return Nt(n),l}var ze=[];function We(e){try{return M.grow(e-L.byteLength+65535>>>16),q(M.buffer),1}catch{}}var He={inEventHandler:0,removeAllEventListeners:function(){for(var e=He.eventHandlers.length-1;e>=0;--e)He._removeHandler(e);He.eventHandlers=[],He.deferredCalls=[]},registerRemoveEventListeners:function(){He.removeEventListenersRegistered||(re.push(He.removeAllEventListeners),He.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,r){function n(e,t){if(e.length!=t.length)return!1;for(var r in e)if(e[r]!=t[r])return!1;return!0}for(var i in He.deferredCalls){var a=He.deferredCalls[i];if(a.targetFunction==e&&n(a.argsList,r))return}He.deferredCalls.push({targetFunction:e,precedence:t,argsList:r}),He.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<He.deferredCalls.length;++t)He.deferredCalls[t].targetFunction==e&&(He.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return He.inEventHandler&&He.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(He.canPerformEventHandlerRequests())for(var e=0;e<He.deferredCalls.length;++e){var t=He.deferredCalls[e];He.deferredCalls.splice(e,1),--e,t.targetFunction.apply(null,t.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,t){for(var r=0;r<He.eventHandlers.length;++r)He.eventHandlers[r].target==e&&(!t||t==He.eventHandlers[r].eventTypeString)&&He._removeHandler(r--)},_removeHandler:function(e){var t=He.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),He.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++He.inEventHandler,He.currentEventHandler=e,He.runDeferredCalls(),e.handlerFunc(t),He.runDeferredCalls(),--He.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),He.eventHandlers.push(e),He.registerRemoveEventListeners();else for(var r=0;r<He.eventHandlers.length;++r)He.eventHandlers[r].target==e.target&&He.eventHandlers[r].eventTypeString==e.eventTypeString&&He._removeHandler(r--)},queueEventHandlerOnThread_iiii:function(e,t,r,i,a){var s=Lt(),o=jt(12);n()[o>>2]=r,n()[o+4>>2]=i,n()[o+8>>2]=a,Mt(0,e,637534208,t,i,o),Nt(s)},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return Te.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};var Ye=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function $e(e){return function(e){return e=function(e){return e>2?H(e):e}(e),Ye[e]||("undefined"!=typeof document?document.querySelector(e):void 0)}(e)}function Ge(e,t,r){var i=$e(e);if(!i)return-4;if(i.canvasSharedPtr&&(n()[i.canvasSharedPtr>>2]=t,n()[i.canvasSharedPtr+4>>2]=r),!i.offscreenCanvas&&i.controlTransferredOffscreen)return i.canvasSharedPtr?(function(e,t,r,i){!function(e,t,r,i){var a=Lt(),s=jt(12),o=0;t&&(o=function(e){var t=G(e)+1,r=Ct(t);return $(e,r,t),r}(t)),n()[s>>2]=o,n()[s+4>>2]=r,n()[s+8>>2]=i,Mt(0,e,657457152,0,o,s),Nt(a)}(e,t=t?H(t):"",r,i)}(n()[i.canvasSharedPtr+8>>2],e,t,r),1):-4;i.offscreenCanvas&&(i=i.offscreenCanvas);var a=!1;if(i.GLctxObject&&i.GLctxObject.GLctx){var s=i.GLctxObject.GLctx.getParameter(2978);a=0===s[0]&&0===s[1]&&s[2]===i.width&&s[3]===i.height}return i.width=t,i.height=r,a&&i.GLctxObject.GLctx.viewport(0,0,t,r),0}function Ke(e,t,r){return B?ke(15,1,e,t,r):Ge(e,t,r)}var Je={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(e){Je.lastError||(Je.lastError=e)},getNewId:function(e){for(var t=Je.counter++,r=e.length;r<t;r++)e[r]=null;return t},getSource:function(e,t,r,i){for(var a="",s=0;s<t;++s){var o=i?n()[i+4*s>>2]:-1;a+=H(n()[r+4*s>>2],o<0?void 0:o)}return a},createContext:function(e,t){e.getContextSafariWebGL2Fixed||(e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(t,r){var n=e.getContextSafariWebGL2Fixed(t,r);return"webgl"==t==n instanceof WebGLRenderingContext?n:null});var r=e.getContext("webgl",t);return r?Je.registerContext(r,t):0},registerContext:function(e,t){var r=Ct(8);n()[r+4>>2]=Rt();var i={handle:r,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=i),Je.contexts[r]=i,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&Je.initExtensions(i),r},makeContextCurrent:function(e){return Je.currentContext=Je.contexts[e],u.ctx=vt=Je.currentContext&&Je.currentContext.GLctx,!(e&&!vt)},getContext:function(e){return Je.contexts[e]},deleteContext:function(e){Je.currentContext===Je.contexts[e]&&(Je.currentContext=null),"object"==typeof He&&He.removeAllHandlersOnTarget(Je.contexts[e].GLctx.canvas),Je.contexts[e]&&Je.contexts[e].GLctx.canvas&&(Je.contexts[e].GLctx.canvas.GLctxObject=void 0),kt(Je.contexts[e].handle),Je.contexts[e]=null},initExtensions:function(e){if(e||(e=Je.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;(function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,r){t.vertexAttribDivisorANGLE(e,r)},e.drawArraysInstanced=function(e,r,n,i){t.drawArraysInstancedANGLE(e,r,n,i)},e.drawElementsInstanced=function(e,r,n,i,a){t.drawElementsInstancedANGLE(e,r,n,i,a)})})(t),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,r){t.drawBuffersWEBGL(e,r)})}(t),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query"),function(e){e.multiDrawWebgl=e.getExtension("WEBGL_multi_draw")}(t),(t.getSupportedExtensions()||[]).forEach((function(e){!e.includes("lose_context")&&!e.includes("debug")&&t.getExtension(e)}))}}},qe=["default","low-power","high-performance"],Qe={};function Ze(){if(!Ze.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"};for(var t in Qe)void 0===Qe[t]?delete e[t]:e[t]=Qe[t];var r=[];for(var t in e)r.push(t+"="+e[t]);Ze.strings=r}return Ze.strings}function Xe(e,r){if(B)return ke(16,1,e,r);var i=0;return Ze().forEach((function(a,s){var o=r+i;n()[e+4*s>>2]=o,function(e,r,n){for(var i=0;i<e.length;++i)t()[r++>>0]=e.charCodeAt(i);t()[r>>0]=0}(a,o),i+=a.length+1})),0}function et(e,t){if(B)return ke(17,1,e,t);var r=Ze();n()[e>>2]=r.length;var i=0;return r.forEach((function(e){i+=e.length+1})),n()[t>>2]=i,0}function tt(e){return B?ke(18,1,e):0}function rt(e,r){if(B)return ke(19,1,e,r);var n=1==e||2==e?2:de();return t()[r>>0]=n,0}function nt(e,t,r,i,a,s){if(B)return ke(20,1,e,t,r,i,a,s);var o=De.getStreamFromFD(e),u=De.doReadv(o,t,r,i);return n()[s>>2]=u,0}function it(e,t,r,i,a,s){if(B)return ke(21,1,e,t,r,i,a,s);var o=De.getStreamFromFD(e),u=De.doWritev(o,t,r,i);return n()[s>>2]=u,0}function at(e,t,r,i){if(B)return ke(22,1,e,t,r,i);var a=De.getStreamFromFD(e),s=De.doReadv(a,t,r);return n()[i>>2]=s,0}function st(e,t,r,n,i){if(B)return ke(23,1,e,t,r,n,i)}function ot(e){if(B)return ke(24,1,e);var t=De.getStreamFromFD(e);return t.stream_ops&&t.stream_ops.fsync?-t.stream_ops.fsync(t):0}function ut(e,t,i,a){if(B)return ke(25,1,e,t,i,a);for(var s=0,o=0;o<i;o++){for(var u=n()[t+8*o>>2],c=n()[t+(8*o+4)>>2],l=0;l<c;l++)De.printChar(e,r()[u+l]);s+=c}return n()[a>>2]=s,0}function ct(e){return e%4==0&&(e%100!=0||e%400==0)}function lt(e,t){for(var r=0,n=0;n<=t;r+=e[n++]);return r}var dt=[31,29,31,30,31,30,31,31,30,31,30,31],ft=[31,28,31,30,31,30,31,31,30,31,30,31];function ht(e,t){for(var r=new Date(e.getTime());t>0;){var n=ct(r.getFullYear()),i=r.getMonth(),a=(n?dt:ft)[i];if(!(t>a-r.getDate()))return r.setDate(r.getDate()+t),r;t-=a-r.getDate()+1,r.setDate(1),i<11?r.setMonth(i+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}B||Te.initMainThreadBlock();var vt,Bt,Tt=[null,we,function(e,t){if(B)return ke(2,1,e,t)},Fe,Me,Ue,Ve,Pe,Ee,Re,Le,Ne,je,xe,Ce,Ke,Xe,et,tt,rt,nt,it,at,st,ot,ut],It={b:function(e,t,r,n){de("Assertion failed: "+H(e)+", at: "+[t?H(t):"unknown filename",r,n?H(n):"unknown function"])},qa:function(e,t){return Ie(e,t)},fa:function(e,t){Te.threadExitHandlers.push((function(){Z.get(e)(t)}))},ka:function(e){Pt(e,!_,1),Te.threadInit()},v:function(e,t,r,i){if("undefined"==typeof SharedArrayBuffer)return A("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];if(B&&0===a.length)return At(687865856,e,t,r,i);var s=0,o=0,u=0;t&&-1!=t?(s=n()[t>>2],s+=2097152,o=n()[t+8>>2],u=0!==n()[t+12>>2]):s=2097152;var c=0==o;c?o=zt(16,s):E((o-=s)>0);var l={stackBase:o,stackSize:s,allocatedOwnStack:c,detached:u,startRoutine:r,pthread_ptr:e,arg:i,transferList:a};return B?(l.cmd="spawnThread",postMessage(l,a),0):Se(l)},ja:function(){postMessage({cmd:"detachedExit"})},T:function(e){for(;Te.threadExitHandlers.length>0;)Te.threadExitHandlers.pop()()},ba:function(e,t){return function(e,t,r){if(!e)return A("pthread_join attempted on a null thread pointer!"),71;if(B&&Rt()==e)return A("PThread "+e+" is attempting to join to itself!"),16;if(!B&&St()==e)return A("Main thread "+e+" is attempting to join to itself!"),16;if(n()[e+8>>2]!==e)return A("pthread_join attempted on thread "+e+", which does not point to a valid thread, or does not exist anymore!"),71;if(Atomics.load(i(),e+60>>2))return A("Attempted to join thread "+e+", which was already detached!"),28;for(Ae();;){var a=Atomics.load(i(),e+0>>2);if(1==a){if(t){var s=Atomics.load(i(),e+88>>2);n()[t>>2]=s}return Atomics.store(i(),e+60>>2,1),B?postMessage({cmd:"cleanupThread",thread:e}):me(e),0}0,Vt(),B||Dt(),Oe(e+0,a,B?100:1)}}(e,t)},B:Fe,i:Me,S:Ue,R:Ve,U:Pe,q:function(){return 42},W:Ee,Q:function(e,t,r){return 0},V:Re,t:Le,z:Ne,p:je,s:xe,r:Ce,D:function(e,t){de("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},C:function(e,t){de("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},pa:function(e,t){if(e==t)postMessage({cmd:"processQueuedMainThreadWork"});else if(B)postMessage({targetThread:e,cmd:"processThreadQueue"});else{var r=Te.pthreads[e],n=r&&r.worker;if(!n)return;n.postMessage({cmd:"processThreadQueue"})}return 1},e:function(){de("")},o:Ie,J:function(e,t){return globalThis.DUCKDB_RUNTIME.createDirectory(u,e,t)},K:function(e,t){return globalThis.DUCKDB_RUNTIME.checkDirectory(u,e,t)},H:function(e,t){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(u,e,t)},I:function(e,t){return globalThis.DUCKDB_RUNTIME.removeDirectory(u,e,t)},_:function(e){return globalThis.DUCKDB_RUNTIME.closeFile(u,e)},F:function(e,t){return globalThis.DUCKDB_RUNTIME.checkFile(u,e,t)},M:function(e){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(u,e)},N:function(e){return globalThis.DUCKDB_RUNTIME.getFileSize(u,e)},G:function(e,t,r,n){return globalThis.DUCKDB_RUNTIME.moveFile(u,e,t,r,n)},O:function(e){return globalThis.DUCKDB_RUNTIME.openFile(u,e)},h:function(e,t,r,n){return globalThis.DUCKDB_RUNTIME.readFile(u,e,t,r,n)},L:function(e,t){return globalThis.DUCKDB_RUNTIME.truncateFile(u,e,t)},m:function(e,t,r,n){return globalThis.DUCKDB_RUNTIME.writeFile(u,e,t,r,n)},E:function(e,t){return globalThis.DUCKDB_RUNTIME.glob(u,e,t)},l:function(e){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(u,e)},ca:Ae,n:function(e,t){},d:Oe,c:be,$:function(){return 2147483648},g:Be,ea:function(e,t,n){r().copyWithin(e,t,t+n)},aa:function(){return v?gt().cpus().length:navigator.hardwareConcurrency},ma:function(e,t,r){ze.length=t;for(var n=r>>3,i=0;i<t;i++)ze[i]=a()[n+i];return(e<0?pe[-e-1]:Tt[e]).apply(null,ze)},ga:function(e){var t=r().length;if((e>>>=0)<=t)return!1;var n=2147483648;if(e>n)return!1;for(var i=1;i<=4;i*=2){var a=t*(1+.2/i);if(a=Math.min(a,e+100663296),We(Math.min(n,J(Math.max(e,a),65536))))return!0}return!1},na:function(e,t,r){return $e(e)?Ge(e,t,r):Ke(e,t,r)},k:function(e){},la:function(e,t,r){return ie+=1,setTimeout((function(){ie-=1,function(e,t){if(!P){if(t)return void e();try{e(),B&&function(){if(!ae())try{B?Ut(V):_e(V)}catch(e){ve(e)}}()}catch(e){ve(e)}}}((function(){Z.get(e)(r)}))}),t)},ha:function(){throw"unwind"},oa:function(e,t){return function(e,t){var r=t>>2,i=n()[r+6],a={alpha:!!n()[r+0],depth:!!n()[r+1],stencil:!!n()[r+2],antialias:!!n()[r+3],premultipliedAlpha:!!n()[r+4],preserveDrawingBuffer:!!n()[r+5],powerPreference:qe[i],failIfMajorPerformanceCaveat:!!n()[r+7],majorVersion:n()[r+8],minorVersion:n()[r+9],enableExtensionsByDefault:n()[r+10],explicitSwapControl:n()[r+11],proxyContextToMainThread:n()[r+12],renderViaOffscreenBackBuffer:n()[r+13]},s=$e(e);return!s||a.explicitSwapControl?0:Je.createContext(s,a)}(e,t)},Y:Xe,Z:et,ia:_e,f:tt,da:rt,x:nt,w:it,u:at,y:st,A:ot,j:ut,P:function e(r,n){e.randomDevice||(e.randomDevice=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(v)try{var t=_t();return function(){return t.randomBytes(1)[0]}}catch{}return function(){de("randomDevice")}}());for(var i=0;i<n;i++)t()[r+i>>0]=e.randomDevice();return 0},a:M||u.wasmMemory,X:function(e,t,r,i){return function(e,t,r,i){var a=n()[i+40>>2],s={tm_sec:n()[i>>2],tm_min:n()[i+4>>2],tm_hour:n()[i+8>>2],tm_mday:n()[i+12>>2],tm_mon:n()[i+16>>2],tm_year:n()[i+20>>2],tm_wday:n()[i+24>>2],tm_yday:n()[i+28>>2],tm_isdst:n()[i+32>>2],tm_gmtoff:n()[i+36>>2],tm_zone:a?H(a):""},o=H(r),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in u)o=o.replace(new RegExp(c,"g"),u[c]);var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function h(e,t){return f(e,t,"0")}function p(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function y(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function b(e){var t=ht(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),i=y(r),a=y(n);return p(i,t)<=0?p(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var m={"%a":function(e){return l[e.tm_wday].substring(0,3)},"%A":function(e){return l[e.tm_wday]},"%b":function(e){return d[e.tm_mon].substring(0,3)},"%B":function(e){return d[e.tm_mon]},"%C":function(e){return h((e.tm_year+1900)/100|0,2)},"%d":function(e){return h(e.tm_mday,2)},"%e":function(e){return f(e.tm_mday,2," ")},"%g":function(e){return b(e).toString().substring(2)},"%G":function(e){return b(e)},"%H":function(e){return h(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),h(t,2)},"%j":function(e){return h(e.tm_mday+lt(ct(e.tm_year+1900)?dt:ft,e.tm_mon-1),3)},"%m":function(e){return h(e.tm_mon+1,2)},"%M":function(e){return h(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return h(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=new Date(e.tm_year+1900,0,1),r=0===t.getDay()?t:ht(t,7-t.getDay()),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(p(r,n)<0){var i=lt(ct(n.getFullYear())?dt:ft,n.getMonth()-1)-31,a=31-r.getDate()+i+n.getDate();return h(Math.ceil(a/7),2)}return 0===p(r,t)?"01":"00"},"%V":function(e){var t,r=new Date(e.tm_year+1900,0,4),n=new Date(e.tm_year+1901,0,4),i=y(r),a=y(n),s=ht(new Date(e.tm_year+1900,0,1),e.tm_yday);return p(s,i)<0?"53":p(a,s)<=0?"01":(t=i.getFullYear()<e.tm_year+1900?e.tm_yday+32-i.getDate():e.tm_yday+1-i.getDate(),h(Math.ceil(t/7),2))},"%w":function(e){return e.tm_wday},"%W":function(e){var t=new Date(e.tm_year,0,1),r=1===t.getDay()?t:ht(t,0===t.getDay()?1:7-t.getDay()+1),n=new Date(e.tm_year+1900,e.tm_mon,e.tm_mday);if(p(r,n)<0){var i=lt(ct(n.getFullYear())?dt:ft,n.getMonth()-1)-31,a=31-r.getDate()+i+n.getDate();return h(Math.ceil(a/7),2)}return 0===p(r,t)?"01":"00"},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var c in m)o.includes(c)&&(o=o.replace(new RegExp(c,"g"),m[c](s)));var g=function(e,t,r){var n=G(e)+1,i=new Array(n);return Y(e,i,0,i.length),i}(o);return g.length>t?0:(K(g,e),g.length-1)}(e,t,r,i)}},St=(function(){var e={a:It};function t(e,t){var r=e.exports;if(u.asm=r,function(e,t,r){Te.tlsInitFunctions.push(e)}(u.asm._a),Z=u.asm.ta,function(e){ee.unshift(e)}(u.asm.ra),U=t,!B){var n=Te.unusedWorkers.length;Te.unusedWorkers.forEach((function(e){Te.loadWasmModuleToWorker(e,(function(){--n||function(e){if(ue--,u.monitorRunDependencies&&u.monitorRunDependencies(ue),0==ue&&(null!==ce&&(clearInterval(ce),ce=null),le)){var t=le;le=null,t()}}()}))}))}}function r(e){t(e.instance,e.module)}function n(t){return(S||!g&&!_||"function"!=typeof fetch?Promise.resolve().then((function(){return he(oe)})):fetch(oe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+oe+"'";return e.arrayBuffer()})).catch((function(){return he(oe)}))).then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){A("failed to asynchronously prepare wasm: "+e),de(e)}))}if(B||(ue++,u.monitorRunDependencies&&u.monitorRunDependencies(ue)),u.instantiateWasm)try{return u.instantiateWasm(e,t)}catch(e){return A("Module.instantiateWasm callback failed with error: "+e),!1}(S||"function"!=typeof WebAssembly.instantiateStreaming||fe(oe)||"function"!=typeof fetch?n(r):fetch(oe,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return A("wasm streaming compile failed: "+e),A("falling back to ArrayBuffer instantiation"),n(r)}))}))).catch(o)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.ra).apply(null,arguments)},u._main=function(){return(u._main=u.asm.sa).apply(null,arguments)},u._duckdb_web_fs_glob_add_path=function(){return(u._duckdb_web_fs_glob_add_path=u.asm.ua).apply(null,arguments)},u._duckdb_web_clear_response=function(){return(u._duckdb_web_clear_response=u.asm.va).apply(null,arguments)},u._duckdb_web_fail_with=function(){return(u._duckdb_web_fail_with=u.asm.wa).apply(null,arguments)},u._duckdb_web_reset=function(){return(u._duckdb_web_reset=u.asm.xa).apply(null,arguments)},u._duckdb_web_connect=function(){return(u._duckdb_web_connect=u.asm.ya).apply(null,arguments)},u._duckdb_web_disconnect=function(){return(u._duckdb_web_disconnect=u.asm.za).apply(null,arguments)},u._duckdb_web_flush_files=function(){return(u._duckdb_web_flush_files=u.asm.Aa).apply(null,arguments)},u._duckdb_web_flush_file=function(){return(u._duckdb_web_flush_file=u.asm.Ba).apply(null,arguments)},u._duckdb_web_open=function(){return(u._duckdb_web_open=u.asm.Ca).apply(null,arguments)},u._duckdb_web_collect_file_stats=function(){return(u._duckdb_web_collect_file_stats=u.asm.Da).apply(null,arguments)},u._duckdb_web_export_file_stats=function(){return(u._duckdb_web_export_file_stats=u.asm.Ea).apply(null,arguments)},u._duckdb_web_fs_drop_file=function(){return(u._duckdb_web_fs_drop_file=u.asm.Fa).apply(null,arguments)},u._duckdb_web_fs_drop_files=function(){return(u._duckdb_web_fs_drop_files=u.asm.Ga).apply(null,arguments)},u._duckdb_web_fs_get_file_info=function(){return(u._duckdb_web_fs_get_file_info=u.asm.Ha).apply(null,arguments)},u._duckdb_web_fs_set_file_descriptor=function(){return(u._duckdb_web_fs_set_file_descriptor=u.asm.Ia).apply(null,arguments)},u._duckdb_web_fs_register_file_url=function(){return(u._duckdb_web_fs_register_file_url=u.asm.Ja).apply(null,arguments)},u._duckdb_web_fs_register_file_buffer=function(){return(u._duckdb_web_fs_register_file_buffer=u.asm.Ka).apply(null,arguments)},u._duckdb_web_copy_file_to_buffer=function(){return(u._duckdb_web_copy_file_to_buffer=u.asm.La).apply(null,arguments)},u._duckdb_web_copy_file_to_path=function(){return(u._duckdb_web_copy_file_to_path=u.asm.Ma).apply(null,arguments)},u._duckdb_web_get_version=function(){return(u._duckdb_web_get_version=u.asm.Na).apply(null,arguments)},u._duckdb_web_get_feature_flags=function(){return(u._duckdb_web_get_feature_flags=u.asm.Oa).apply(null,arguments)},u._duckdb_web_tokenize=function(){return(u._duckdb_web_tokenize=u.asm.Pa).apply(null,arguments)},u._duckdb_web_prepared_statement_create=function(){return(u._duckdb_web_prepared_statement_create=u.asm.Qa).apply(null,arguments)},u._duckdb_web_prepared_statement_close=function(){return(u._duckdb_web_prepared_statement_close=u.asm.Ra).apply(null,arguments)},u._duckdb_web_prepared_statement_run=function(){return(u._duckdb_web_prepared_statement_run=u.asm.Sa).apply(null,arguments)},u._duckdb_web_prepared_statement_send=function(){return(u._duckdb_web_prepared_statement_send=u.asm.Ta).apply(null,arguments)},u._duckdb_web_query_run=function(){return(u._duckdb_web_query_run=u.asm.Ua).apply(null,arguments)},u._duckdb_web_query_send=function(){return(u._duckdb_web_query_send=u.asm.Va).apply(null,arguments)},u._duckdb_web_query_fetch_results=function(){return(u._duckdb_web_query_fetch_results=u.asm.Wa).apply(null,arguments)},u._duckdb_web_insert_arrow_from_ipc_stream=function(){return(u._duckdb_web_insert_arrow_from_ipc_stream=u.asm.Xa).apply(null,arguments)},u._duckdb_web_insert_csv_from_path=function(){return(u._duckdb_web_insert_csv_from_path=u.asm.Ya).apply(null,arguments)},u._duckdb_web_insert_json_from_path=function(){return(u._duckdb_web_insert_json_from_path=u.asm.Za).apply(null,arguments)},u._emscripten_tls_init=function(){return(u._emscripten_tls_init=u.asm._a).apply(null,arguments)},u._emscripten_current_thread_process_queued_calls=function(){return(u._emscripten_current_thread_process_queued_calls=u.asm.$a).apply(null,arguments)},u._emscripten_main_browser_thread_id=function(){return(St=u._emscripten_main_browser_thread_id=u.asm.ab).apply(null,arguments)}),At=u._emscripten_sync_run_in_main_thread_4=function(){return(At=u._emscripten_sync_run_in_main_thread_4=u.asm.bb).apply(null,arguments)},Dt=u._emscripten_main_thread_process_queued_calls=function(){return(Dt=u._emscripten_main_thread_process_queued_calls=u.asm.cb).apply(null,arguments)},Ft=u._emscripten_run_in_main_runtime_thread_js=function(){return(Ft=u._emscripten_run_in_main_runtime_thread_js=u.asm.db).apply(null,arguments)},Mt=u.__emscripten_call_on_thread=function(){return(Mt=u.__emscripten_call_on_thread=u.asm.eb).apply(null,arguments)},Ut=u.__emscripten_thread_exit=function(){return(Ut=u.__emscripten_thread_exit=u.asm.fb).apply(null,arguments)},Vt=u._pthread_testcancel=function(){return(Vt=u._pthread_testcancel=u.asm.gb).apply(null,arguments)},Pt=u.__emscripten_thread_init=function(){return(Pt=u.__emscripten_thread_init=u.asm.hb).apply(null,arguments)},Et=u.___errno_location=function(){return(Et=u.___errno_location=u.asm.ib).apply(null,arguments)},Rt=u._pthread_self=function(){return(Rt=u._pthread_self=u.asm.jb).apply(null,arguments)},Lt=u.stackSave=function(){return(Lt=u.stackSave=u.asm.kb).apply(null,arguments)},Nt=u.stackRestore=function(){return(Nt=u.stackRestore=u.asm.lb).apply(null,arguments)},jt=u.stackAlloc=function(){return(jt=u.stackAlloc=u.asm.mb).apply(null,arguments)},xt=u._emscripten_stack_set_limits=function(){return(xt=u._emscripten_stack_set_limits=u.asm.nb).apply(null,arguments)},Ct=u._malloc=function(){return(Ct=u._malloc=u.asm.ob).apply(null,arguments)},kt=u._free=function(){return(kt=u._free=u.asm.pb).apply(null,arguments)},zt=u._memalign=function(){return(zt=u._memalign=u.asm.qb).apply(null,arguments)},Wt=u.__emscripten_allow_main_runtime_queued_calls=928464,Ht=u.__emscripten_main_thread_futex=1022672;function Yt(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function $t(e){if(e=e||y,!(ue>0)){if(B)return s(u),se(),void postMessage({cmd:"loaded"});(function(){if(!B){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)e=u.preRun.shift(),X.unshift(e);ye(X)}var e})(),ue>0||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}function t(){Bt||(Bt=!0,u.calledRun=!0,!P&&(se(),B||ye(te),s(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Kt&&function(e){var t=u._main;try{Gt(t(0,0),!0)}catch(e){return ve(e)}}(),function(){if(!B){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)e=u.postRun.shift(),ne.unshift(e);ye(ne)}var e}()))}}function Gt(e,t){if(V=e,!t&&B)throw we(e),"unwind";ae()||B||Te.terminateAllThreads(),function(e){V=e,ae()||(Te.terminateAllThreads(),u.onExit&&u.onExit(e),P=!0),m(e,new Yt(e))}(e)}if(u.ccall=function(e,t,r,n,i){var a={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);$(e,t=jt(r),r)}return t},array:function(e){var t=jt(e.length);return K(e,t),t}},s=function(e){var t=u["_"+e];return E(t,"Cannot call unknown function "+e+", make sure it is exported"),t}(e),o=[],c=0;if(n)for(var l=0;l<n.length;l++){var d=a[r[l]];d?(0===c&&(c=Lt()),o[l]=d(n[l])):o[l]=n[l]}var f,h=s.apply(null,o);return f=h,0!==c&&Nt(c),h=function(e){return"string"===t?H(e):"boolean"===t?Boolean(e):e}(f),h},u.keepRuntimeAlive=ae,u.PThread=Te,u.PThread=Te,u.wasmMemory=M,u.ExitStatus=Yt,le=function e(){Bt||$t(),Bt||(le=e)},u.run=$t,u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Kt=!0;return u.noInitialRun&&(Kt=!1),B&&(F=!1,Te.initWorker()),$t(),e.ready}),Dt=At,Ft=g(ht()),Mt=class{constructor(e,t,r){this.bindings=e,this.conn=t,this.header=r,this._first=!0,this._depleted=!1}next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e=this.bindings.fetchQueryResults(this.conn);return this._depleted=0==e.length,{done:this._depleted,value:e}}[Symbol.iterator](){return this}};(St=It||(It={}))[St.SUCCESS=0]="SUCCESS";var Ut,Vt,Pt=function(){let e=new TextDecoder;return t=>("undefined"!=typeof SharedArrayBuffer&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}();function Et(e,t){console.error(t),e.ccall("duckdb_web_fail_with",null,["string"],[t])}function Rt(e,t,r){let n=e.HEAPU8.subarray(t,t+r),i=new Uint8Array(new ArrayBuffer(n.byteLength));return i.set(n),i}function Lt(e,t,r){return Pt(e.HEAPU8.subarray(t,t+r))}function Nt(e,t,r,n){let i=e.stackSave(),a=e.stackAlloc(24);r.unshift("number"),n.unshift(a),e.ccall(t,null,r,n);let s=e.HEAPF64[0+(a>>3)],o=e.HEAPF64[1+(a>>3)],u=e.HEAPF64[2+(a>>3)];return e.stackRestore(i),[s,o,u]}function jt(e){e.ccall("duckdb_web_clear_response",null,[],[])}(Vt=Ut||(Ut={}))[Vt.BUFFER=0]="BUFFER",Vt[Vt.NATIVE=1]="NATIVE",Vt[Vt.HTTP=3]="HTTP";var xt,Ct=new TextEncoder;!function(e){e[e.WASM_EXCEPTIONS=1]="WASM_EXCEPTIONS",e[e.WASM_THREADS=2]="WASM_THREADS",e[e.WASM_SIMD=4]="WASM_SIMD",e[e.WASM_BULK_MEMORY=8]="WASM_BULK_MEMORY",e[e.EMIT_BIGINT=16]="EMIT_BIGINT"}(xt||(xt={}));var kt={fileInfoCache:new Map,getFileInfo(e,t){try{let r=kt.fileInfoCache.get(t);if(r)return r;let[n,i,a]=Nt(e,"duckdb_web_fs_get_file_info",["number"],[t]);if(n!==It.SUCCESS)throw new Error(Lt(e,i,a));let s=Lt(e,i,a);jt(e);let o=JSON.parse(s);if(null==o)return null;let u={...o,blob:null};return kt.fileInfoCache.set(t,u),u}catch(t){return Et(e,t.toString()),null}},testPlatformFeature:(e,t)=>1===t?"undefined"!=typeof BigInt64Array:(console.warn(`test for unknown feature: ${t}`),!1),openFile:(e,t)=>{try{kt.fileInfoCache.delete(t);let r=kt.getFileInfo(e,t);switch(r?.data_protocol){case Ut.HTTP:{let t=new XMLHttpRequest;t.open("HEAD",r.data_url,!1),t.setRequestHeader("Range","bytes=0-"),t.send(null);let n=!1;if(206==t.status?n=!0:200==t.status&&(n="bytes"===t.getResponseHeader("Accept-Ranges")),!n)return Et(e,`File does not support range requests: ${r.file_name}`),0;break}case Ut.NATIVE:if(!kt._files?.get(r.file_name))return Et(e,`No handle available for file: ${r.file_name}`),0}}catch(t){Et(e,t.toString())}return 0},glob:(e,t,r)=>{try{let n=Lt(e,t,r);if(n.startsWith("http")){let t=new XMLHttpRequest;t.open("HEAD",n,!1),t.setRequestHeader("Range","bytes=0-"),t.send(null);let r=!1;if(206==t.status)r=!0;else{if(200!=t.status)return void Et(e,`HEAD request failed: ${n}`);r="bytes"===t.getResponseHeader("Accept-Ranges")}if(!r)return void Et(e,`File does not support range requests: ${n}`);e.ccall("duckdb_web_fs_glob_add_path",null,["string"],[n])}}catch(t){return Et(e,t.toString()),0}},checkFile:(e,t,r)=>{try{let n=Lt(e,t,r);if(n.startsWith("http")){let e=new XMLHttpRequest;e.open("HEAD",n,!1),e.setRequestHeader("Range","bytes=0-"),e.send(null);let t=!1;if(206==e.status)t=!0;else{if(200!=e.status)return!1;t="bytes"===e.getResponseHeader("Accept-Ranges")}return!!t}}catch{return!1}return!1},syncFile:(e,t)=>{},closeFile:(e,t)=>{let r=kt.getFileInfo(e,t);switch(kt.fileInfoCache.delete(t),r?.data_protocol){case Ut.HTTP:break;case Ut.NATIVE:return}},truncateFile:(e,t,r)=>{switch(kt.getFileInfo(e,t)?.data_protocol){case Ut.HTTP:return void Et(e,"Cannot truncate a http file");case Ut.NATIVE:return void Et(e,"truncateFile not implemented")}return 0},readFile(e,t,r,n,i){try{let a=kt.getFileInfo(e,t);switch(a?.data_protocol){case Ut.HTTP:{if(!a.data_url)return Et(e,`Missing data URL for file ${t}`),0;let s=new XMLHttpRequest;if(s.open("GET",a.data_url,!1),s.responseType="arraybuffer",s.setRequestHeader("Range",`bytes=${i}-${i+n-1}`),s.send(null),206==s.status||200==s.status&&n==s.response.byteLength&&0==i){let t=new Uint8Array(s.response,0,Math.min(s.response.byteLength,n));return e.HEAPU8.set(t,r),t.byteLength}return 200==s.status?(Et(e,`Range request for ${a.data_url} did not return a partial response: ${s.status} "${s.statusText}"`),0):(Et(e,`Range request for ${a.data_url} did returned non-success status: ${s.status} "${s.statusText}"`),0)}case Ut.NATIVE:{let t=kt._files?.get(a.file_name);if(!t)return Et(e,`No handle available for file: ${a.file_name}`),0;let s=t.slice(i,i+n),o=new Uint8Array((new FileReaderSync).readAsArrayBuffer(s));return e.HEAPU8.set(o,r),o.byteLength}}return 0}catch(t){return Et(e,t.toString()),0}},writeFile:(e,t,r,n,i)=>{switch(kt.getFileInfo(e,t)?.data_protocol){case Ut.HTTP:return Et(e,"Cannot write to HTTP file"),0;case Ut.NATIVE:return Et(e,"writefile not implemented"),0}return 0},getFileSize:(e,t)=>{try{let r=kt.getFileInfo(e,t);switch(r?.data_protocol){case Ut.NATIVE:{let t=kt._files?.get(r.file_name);return t?t.size:(Et(e,`No handle available for file: ${r.file_name}`),0)}case Ut.HTTP:{if(!r.data_url)throw new Error(`Missing data URL for file ${t}`);let e=new XMLHttpRequest;if(e.open("HEAD",r.data_url,!1),e.send(null),200==e.status){let t=e.getResponseHeader("Content-Length");if(t)return parseInt(t);throw Error(`HEAD ${r.data_url} does not contain the HTTP header: Content-Length`)}throw Error(`HEAD ${r.data_url} returned non-success status: ${e.status} "${e.statusText}"`)}}return 0}catch(t){return Et(e,t.toString()),0}},getLastFileModificationTime:(e,t)=>{let r=kt.getFileInfo(e,t);switch(r?.data_protocol){case Ut.NATIVE:if(!kt._files?.get(r.file_name))throw Error(`No handle available for file: ${r.file_name}`);return 0;case Ut.HTTP:return(new Date).getTime()}return 0},checkDirectory:(e,t,r)=>!1,createDirectory:(e,t,r)=>{},removeDirectory:(e,t,r)=>{},listDirectoryEntries:(e,t,r)=>!1,moveFile:(e,t,r,n,i)=>{},removeFile:(e,t,r)=>{}};function zt(){let e=new class extends class{constructor(){this._bindings=null,this._nextMessageId=0}log(e){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:u.LOG,data:e},[])}sendOK(e){this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.OK,data:null},[])}failWith(e,t){let r={name:t.name,message:t.message,stack:t.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.ERROR,data:r},[])}async onMessage(e){switch(e.type){case s.PING:return void this.sendOK(e);case s.INSTANTIATE:null!=this._bindings&&this.failWith(e,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(e.data[0],e.data[1]),this.sendOK(e)}catch(t){this._bindings=null,this.failWith(e,t)}return}if(!this._bindings)return this.failWith(e,new Error("duckdb is not initialized"));try{switch(e.type){case s.GET_VERSION:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.VERSION_STRING,data:this._bindings.getVersion()},[]);break;case s.GET_FEATURE_FLAGS:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.FEATURE_FLAGS,data:this._bindings.getFeatureFlags()},[]);break;case s.RESET:this._bindings.reset(),this.sendOK(e);break;case s.OPEN:this._bindings.open(e.data),this.sendOK(e);break;case s.DROP_FILE:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.SUCCESS,data:this._bindings.dropFile(e.data)},[]);break;case s.DROP_FILES:this._bindings.dropFiles(),this.sendOK(e);break;case s.FLUSH_FILES:this._bindings.flushFiles(),this.sendOK(e);break;case s.CONNECT:{let t=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.CONNECTION_INFO,data:t.handle},[]);break}case s.DISCONNECT:this._bindings.disconnect(e.data),this.sendOK(e);break;case s.RUN_QUERY:{let t=this._bindings.runQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.QUERY_RESULT,data:t},[t.buffer]);break}case s.SEND_QUERY:{let t=this._bindings.sendQuery(e.data[0],e.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.QUERY_START,data:t},[t.buffer]);break}case s.FETCH_QUERY_RESULTS:{let t=this._bindings.fetchQueryResults(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.QUERY_RESULT_CHUNK,data:t},[t.buffer]);break}case s.REGISTER_FILE_URL:this._bindings.registerFileURL(e.data[0],e.data[1]),this.sendOK(e);break;case s.REGISTER_FILE_BUFFER:this._bindings.registerFileBuffer(e.data[0],e.data[1]),this.sendOK(e);break;case s.REGISTER_FILE_HANDLE:this._bindings.registerFileHandle(e.data[0],e.data[1]),this.sendOK(e);break;case s.COPY_FILE_TO_PATH:this._bindings.copyFileToPath(e.data[0],e.data[1]),this.sendOK(e);break;case s.COPY_FILE_TO_BUFFER:{let t=this._bindings.copyFileToBuffer(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.FILE_BUFFER,data:t},[]);break}case s.COLLECT_FILE_STATISTICS:this._bindings.collectFileStatistics(e.data[0],e.data[1]),this.sendOK(e);break;case s.EXPORT_FILE_STATISTICS:this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.FILE_STATISTICS,data:this._bindings.exportFileStatistics(e.data)},[]);break;case s.INSERT_ARROW_FROM_IPC_STREAM:this._bindings.insertArrowFromIPCStream(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break;case s.INSERT_CSV_FROM_PATH:this._bindings.insertCSVFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break;case s.INSERT_JSON_FROM_PATH:this._bindings.insertJSONFromPath(e.data[0],e.data[1],e.data[2]),this.sendOK(e);break;case s.TOKENIZE:{let t=this._bindings.tokenize(e.data);this.postMessage({messageId:this._nextMessageId++,requestId:e.messageId,type:u.SCRIPT_TOKENS,data:t},[]);break}}}catch(t){return this.failWith(e,t)}}}{postMessage(e,t){globalThis.postMessage(e,t)}async instantiate(e,t){return await new class extends class extends class{constructor(e,t){this._instance=null,this._initPromise=null,this._initPromiseResolver=()=>{},this._logger=e,this._runtime=t}get logger(){return this._logger}get mod(){return this._instance}get pthread(){return this.mod.PThread||null}async instantiate(){return null!=this._instance||(null!=this._initPromise&&await this._initPromise,this._initPromise=new Promise((e=>{this._initPromiseResolver=e})),this._instance=await this.instantiateImpl({print:console.log.bind(console),printErr:console.log.bind(console),onRuntimeInitialized:this._initPromiseResolver}),await this._initPromise,this._initPromise=null),this}open(e){let[t,r,n]=Nt(this.mod,"duckdb_web_open",["string"],[JSON.stringify(e)]);if(t!==It.SUCCESS)throw new Error(Lt(this.mod,r,n));jt(this.mod)}reset(){let[e,t,r]=Nt(this.mod,"duckdb_web_reset",[],[]);if(e!==It.SUCCESS)throw new Error(Lt(this.mod,t,r));jt(this.mod)}getVersion(){let[e,t,r]=Nt(this.mod,"duckdb_web_get_version",[],[]);if(e!==It.SUCCESS)throw new Error(Lt(this.mod,t,r));let n=Lt(this.mod,t,r);return jt(this.mod),n}getFeatureFlags(){return this.mod.ccall("duckdb_web_get_feature_flags","number",[],[])}tokenize(e){let[t,r,n]=Nt(this.mod,"duckdb_web_tokenize",["string"],[e]);if(t!==It.SUCCESS)throw new Error(Lt(this.mod,r,n));let i=Lt(this.mod,r,n);return jt(this.mod),JSON.parse(i)}connect(){let e=this.mod.ccall("duckdb_web_connect","number",[],[]);return new class{constructor(e,t){this._bindings=e,this._conn=t}get handle(){return this._conn}close(){this._bindings.disconnect(this._conn)}runQuery(e){let t=this._bindings.runQuery(this._conn,e),r=Ft.RecordBatchReader.from(t);return console.assert(r.isSync()),console.assert(r.isFile()),Ft.Table.from(r)}sendQuery(e){let t=this._bindings.sendQuery(this._conn,e),r=new Mt(this._bindings,this._conn,t),n=Ft.RecordBatchReader.from(r);return console.assert(n.isSync()),console.assert(n.isStream()),n}createPreparedStatement(e){return this._bindings.createPreparedStatement(this._conn,e)}closePreparedStatement(e){this._bindings.closePreparedStatement(this._conn,e)}runPreparedStatement(e,t){let r=this._bindings.runPreparedStatement(this._conn,e,t),n=Ft.RecordBatchReader.from(r);return console.assert(n.isSync()),console.assert(n.isFile()),Ft.Table.from(n)}sendPreparedStatement(e,t){let r=this._bindings.sendPreparedStatement(this._conn,e,t),n=new Mt(this._bindings,this._conn,r),i=Ft.RecordBatchReader.from(n);return console.assert(i.isSync()),console.assert(i.isStream()),i}insertArrowFromIPCStream(e,t){this._bindings.insertArrowFromIPCStream(this._conn,e,t)}insertArrowTable(e,t){0==e.schema.fields.length&&console.warn("The schema is empty! If you used arrow.Table.from, consider constructing schema and batches manually"),this.insertArrowBatches(e.schema,e.chunks,t)}insertArrowBatches(e,t,r){0==e.fields.length&&console.warn("The schema is empty! If you used arrow.Table.from, consider constructing schema and batches manually");let n=new Ft.AsyncByteQueue,i=(new Ft.RecordBatchStreamWriter).reset(n,e);i.writeAll(t),i.close();let a=i.toUint8Array(!0);this._bindings.insertArrowFromIPCStream(this._conn,a,r)}insertCSVFromPath(e,t){this._bindings.insertCSVFromPath(this._conn,e,t)}insertJSONFromPath(e,t){this._bindings.insertJSONFromPath(this._conn,e,t)}}(this,e)}disconnect(e){this.mod.ccall("duckdb_web_disconnect",null,["number"],[e])}runQuery(e,t){let[r,n,i]=Nt(this.mod,"duckdb_web_query_run",["number","string"],[e,t]);if(r!==It.SUCCESS)throw new Error(Lt(this.mod,n,i));let a=Rt(this.mod,n,i);return jt(this.mod),a}sendQuery(e,t){let[r,n,i]=Nt(this.mod,"duckdb_web_query_send",["number","string"],[e,t]);if(r!==It.SUCCESS)throw new Error(Lt(this.mod,n,i));let a=Rt(this.mod,n,i);return jt(this.mod),a}fetchQueryResults(e){let[t,r,n]=Nt(this.mod,"duckdb_web_query_fetch_results",["number"],[e]);if(t!==It.SUCCESS)throw new Error(Lt(this.mod,r,n));let i=Rt(this.mod,r,n);return jt(this.mod),i}createPreparedStatement(e,t){let[r,n,i]=Nt(this.mod,"duckdb_web_prepared_statement_create",["number","string"],[e,t]);if(r!==It.SUCCESS)throw new Error(Lt(this.mod,n,i));return jt(this.mod),n}closePreparedStatement(e,t){let[r,n,i]=Nt(this.mod,"duckdb_web_prepared_statement_close",["number","number"],[e,t]);if(r!==It.SUCCESS)throw new Error(Lt(this.mod,n,i));jt(this.mod)}runPreparedStatement(e,t,r){let[n,i,a]=Nt(this.mod,"duckdb_web_prepared_statement_run",["number","number","string"],[e,t,JSON.stringify(r)]);if(n!==It.SUCCESS)throw new Error(Lt(this.mod,i,a));let s=Rt(this.mod,i,a);return jt(this.mod),s}sendPreparedStatement(e,t,r){let[n,i,a]=Nt(this.mod,"duckdb_web_prepared_statement_send",["number","number","string"],[e,t,JSON.stringify(r)]);if(n!==It.SUCCESS)throw new Error(Lt(this.mod,i,a));let s=Rt(this.mod,i,a);return jt(this.mod),s}insertArrowFromIPCStream(e,t,r){let n=this.mod._malloc(t.length);this.mod.HEAPU8.subarray(n,n+t.length).set(t);let i=r?JSON.stringify(r):"",[a,s,o]=Nt(this.mod,"duckdb_web_insert_arrow_from_ipc_stream",["number","number","number","string"],[e,n,t.length,i]);if(a!==It.SUCCESS)throw new Error(Lt(this.mod,s,o))}insertCSVFromPath(e,t,r){if(void 0!==r.columns){r.columnsFlat=[];for(let e in r.columns)r.columnsFlat.push(Tt(e,r.columns[e]))}let n={...r};n.columns=n.columnsFlat,delete n.columnsFlat;let i=JSON.stringify(n),[a,s,o]=Nt(this.mod,"duckdb_web_insert_csv_from_path",["number","string","string"],[e,t,i]);if(a!==It.SUCCESS)throw new Error(Lt(this.mod,s,o))}insertJSONFromPath(e,t,r){if(void 0!==r.columns){r.columnsFlat=[];for(let e in r.columns)r.columnsFlat.push(Tt(e,r.columns[e]))}let n={...r};n.columns=n.columnsFlat,delete n.columnsFlat;let i=JSON.stringify(n),[a,s,o]=Nt(this.mod,"duckdb_web_insert_json_from_path",["number","string","string"],[e,t,i]);if(a!==It.SUCCESS)throw new Error(Lt(this.mod,s,o))}finishInsert(e,t){}registerFileURL(e,t){void 0===t&&(t=e);let[r,n,i]=Nt(this.mod,"duckdb_web_fs_register_file_url",["string","string"],[e,t]);if(r!==It.SUCCESS)throw new Error(Lt(this.mod,n,i));jt(this.mod)}registerFileText(e,t){let r=Ct.encode(t);this.registerFileBuffer(e,r)}registerFileBuffer(e,t){let r=this.mod._malloc(t.length);this.mod.HEAPU8.subarray(r,r+t.length).set(t);let[n,i,a]=Nt(this.mod,"duckdb_web_fs_register_file_buffer",["string","number","number"],[e,r,t.length]);if(n!==It.SUCCESS)throw new Error(Lt(this.mod,i,a));jt(this.mod)}registerFileHandle(e,t){let[r,n,i]=Nt(this.mod,"duckdb_web_fs_register_file_url",["string","string"],[e,e]);if(r!==It.SUCCESS)throw new Error(Lt(this.mod,n,i));if(jt(this.mod),globalThis.DUCKDB_RUNTIME._files=(globalThis.DUCKDB_RUNTIME._files||new Map).set(e,t),this.pthread){for(let r of this.pthread.runningWorkers)r.postMessage({cmd:"registerFileHandle",fileName:e,fileHandle:t});for(let t of this.pthread.unusedWorkers)t.postMessage({cmd:"dropFileHandle",fileName:e})}}dropFile(e){return this.mod.ccall("duckdb_web_fs_drop_file","boolean",["string"],[e])}dropFiles(){this.mod.ccall("duckdb_web_fs_drop_files",null,[],[])}flushFiles(){this.mod.ccall("duckdb_web_flush_files",null,[],[])}copyFileToPath(e,t){let[r,n,i]=Nt(this.mod,"duckdb_web_copy_file_to_path",["string","string"],[e,t]);if(r!==It.SUCCESS)throw new Error(Lt(this.mod,n,i));jt(this.mod)}copyFileToBuffer(e){let[t,r,n]=Nt(this.mod,"duckdb_web_copy_file_to_buffer",["string"],[e]);if(t!==It.SUCCESS)throw new Error(Lt(this.mod,r,n));let i=this.mod.HEAPU8.subarray(r,r+n),a=new Uint8Array(i.length);return a.set(i),jt(this.mod),a}collectFileStatistics(e,t){let[r,n,i]=Nt(this.mod,"duckdb_web_collect_file_stats",["string","boolean"],[e,t]);if(r!==It.SUCCESS)throw new Error(Lt(this.mod,n,i))}exportFileStatistics(e){let[t,r,n]=Nt(this.mod,"duckdb_web_export_file_stats",["string"],[e]);if(t!==It.SUCCESS)throw new Error(Lt(this.mod,r,n));return new class{constructor(e){let t=new Float64Array(e.buffer,e.byteOffset,e.byteLength/8),r=new Uint8Array(new ArrayBuffer(e.byteLength));r.set(e.subarray(56)),this.totalFileReadsCold=t[0],this.totalFileReadsAhead=t[1],this.totalFileReadsCached=t[2],this.totalFileWrites=t[3],this.totalPageAccesses=t[4],this.totalPageLoads=t[5],this.blockSize=t[6],this.blockStats=r}getBlockStats(e,t){return(t=t||{file_reads_cold:0,file_reads_ahead:0,file_reads_cached:0,file_writes:0,page_accesses:0,page_loads:0}).file_writes=15&this.blockStats[3*e+0],t.file_reads_cold=this.blockStats[3*e+0]>>4,t.file_reads_ahead=15&this.blockStats[3*e+1],t.file_reads_cached=this.blockStats[3*e+1]>>4,t.page_accesses=15&this.blockStats[3*e+1],t.page_loads=this.blockStats[3*e+1]>>4,t}}(this.mod.HEAPU8.subarray(r,r+n))}}{constructor(e,t,r,n){super(e,t),this.mainModuleURL=r,this.pthreadWorkerURL=n}locateFile(e,t){if(e.endsWith(".wasm"))return this.mainModuleURL;if(e.endsWith(".worker.js")){if(!this.pthreadWorkerURL)throw new Error("Missing DuckDB worker URL!");return this.pthreadWorkerURL}throw new Error(`WASM instantiation requested unexpected file: prefix=${t} path=${e}`)}instantiateWasm(e,t){return globalThis.DUCKDB_RUNTIME=this._runtime,WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(fetch(this.mainModuleURL),e).then((e=>{t(e.instance,e.module)})):fetch(this.mainModuleURL).then((e=>e.arrayBuffer())).then((r=>WebAssembly.instantiate(r,e).then((e=>{t(e.instance,e.module)})))).catch((e=>{console.error("Failed to instantiate WASM:",e)})),[]}}{constructor(e,t,r,n=null){super(e,t,r,n)}instantiateImpl(e){return Dt({...e,instantiateWasm:this.instantiateWasm.bind(this),locateFile:this.locateFile.bind(this)})}}(this,kt,e,t).instantiate()}};globalThis.onmessage=async t=>{await e.onMessage(t.data)}}return zt(),vt})();